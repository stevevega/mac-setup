{"uri":"file:///Users/vega/Code/huli/manager-web/src/vendor/hulilabs/php-common/src/test/phpunit/library/Huli/Authorization/Access/OpenAnyTest.php","root":{"kind":0,"name":"","children":[{"kind":1,"name":"OpenAny","modifiers":4096,"location":[12,5,12,38],"associated":[{"kind":1,"name":"Huli\\Authorization\\Access\\OpenAny"}]},{"kind":1,"name":"User","modifiers":4096,"location":[13,5,13,35],"associated":[{"kind":1,"name":"Huli\\Authorization\\Access\\User"}]},{"kind":1,"name":"PracticePermission","modifiers":4096,"location":[14,5,14,62],"associated":[{"kind":1,"name":"Huli\\Authorization\\Factory\\Practice"}]},{"kind":1,"name":"Feature","modifiers":4096,"location":[15,5,15,31],"associated":[{"kind":1,"name":"Huli\\Authorization\\Feature"}]},{"kind":1,"name":"UserRole","modifiers":4096,"location":[16,5,16,32],"associated":[{"kind":1,"name":"Huli\\Enum\\Listable\\UserRole"}]},{"kind":1,"name":"Helper","modifiers":4096,"location":[17,5,17,21],"associated":[{"kind":1,"name":"Huli\\Test\\Helper"}]},{"kind":1,"name":"PermissionData","modifiers":4096,"location":[18,5,18,48],"associated":[{"kind":1,"name":"Huli\\Test\\Permission\\Data"}]},{"kind":1,"name":"OpenAnyTest","location":[25,0,557,1],"associated":[{"kind":1,"name":"PHPUnit_Framework_TestCase"}],"description":"Tests the permissions of a user based on who has given them permission\nwhere at least a user granting them a permission means the user is\nallowed to continue with the execution of the workflow.","children":[{"kind":16,"name":"$helper","modifiers":34,"location":[27,21,27,28],"scope":"OpenAnyTest"},{"kind":16,"name":"$data","modifiers":34,"location":[28,21,28,26],"scope":"OpenAnyTest"},{"kind":32,"name":"setUpBeforeClass","modifiers":33,"location":[30,4,35,5],"scope":"OpenAnyTest"},{"kind":32,"name":"tearDownAfterClass","modifiers":33,"location":[37,4,40,5],"scope":"OpenAnyTest"},{"kind":32,"name":"test_access_to_at_least_one","modifiers":1,"location":[55,4,87,5],"description":"Tests that at least one user has granted an assistant a given permission.","scope":"OpenAnyTest","children":[{"kind":128,"name":"$p_map","location":[55,48,55,54],"description":"is the permission mapping for the hierarchy, each bit\nvalue represents whether the permission is granted.","scope":"test_access_to_at_least_one","type":"array"},{"kind":128,"name":"$result","location":[55,56,55,63],"scope":"test_access_to_at_least_one","type":"mixed"}]},{"kind":32,"name":"at_least_one_assistant_data","modifiers":1,"location":[105,4,129,5],"description":"This is a mapping of an item in the main array with all the combinations\nthat can occur in the case of a 3 level permission hierarchy, granted\nby 3 different users\n\n[ [1, 0, 0], [1, 0, 1], [1, 1, 1] ] , true\n\nmapped to a table where d = doctor and f = feature\n\n| f1 | f2 | f3 |\nd1 |  1 |  0 |  0 |\nd2 |  1 |  0 |  1 |\nd3 |  1 |  1 |  1 |\n\nGiven that d3 has all the fields enabled: access = true.","scope":"OpenAnyTest"},{"kind":32,"name":"test_doctor_access_with_old_plan_and_new_plan","modifiers":1,"location":[135,4,151,5],"description":"Tests that having inactive subscriptions do not affect the result of\nthe permission request when asking for a manually granted authorization","scope":"OpenAnyTest"},{"kind":32,"name":"test_assistant_with_doctor_that_leaves_the_clinic","modifiers":1,"location":[157,4,173,5],"description":"This test will check that once a doctor is no longer assigned to a\ngiven clinic, the assistant will lose access to any assigned feature.","scope":"OpenAnyTest"},{"kind":32,"name":"test_assistant_with_doctor_that_leaves_the_clinic_calendar","modifiers":1,"location":[180,4,183,5],"scope":"OpenAnyTest","children":[{"kind":128,"name":"$access","location":[180,79,180,86],"scope":"test_assistant_with_doctor_that_leaves_the_clinic_calendar","type":"IAccess"}]},{"kind":32,"name":"test_assistant_with_one_doctor_that_leaves_the_clinic","modifiers":1,"location":[189,4,210,5],"description":"This test is similar to test_assistant_with_doctor_that_leaves_the_clinic\nwhereas two doctors are assigned here and only one leaves the clinic","scope":"OpenAnyTest"},{"kind":32,"name":"test_assistant_with_one_doctor_that_leaves_the_clinic_2","modifiers":1,"location":[217,4,225,5],"scope":"OpenAnyTest","children":[{"kind":128,"name":"$feed","location":[217,76,217,81],"scope":"test_assistant_with_one_doctor_that_leaves_the_clinic_2","type":"mixed"}]},{"kind":32,"name":"test_default_assistant_instance","modifiers":1,"location":[230,4,242,5],"description":"***********************************************************************\nRole default cases\n***********************************************************************","scope":"OpenAnyTest"},{"kind":32,"name":"test_default_assistant_permissions","modifiers":1,"location":[255,4,258,5],"description":"Tests that a user that has not been explicitly assigned to another\nuser should never have permission (with the exception of role based permissions).","scope":"OpenAnyTest","children":[{"kind":128,"name":"$feature","location":[255,55,255,63],"scope":"test_default_assistant_permissions","type":"mixed"},{"kind":128,"name":"$value","location":[255,65,255,71],"scope":"test_default_assistant_permissions","type":"mixed"},{"kind":128,"name":"$access","location":[255,73,255,80],"scope":"test_default_assistant_permissions","type":"mixed"}]},{"kind":32,"name":"default_assistant_permissions_data","modifiers":1,"location":[260,4,300,5],"scope":"OpenAnyTest"},{"kind":32,"name":"test_doctor_default_instance","modifiers":1,"location":[302,4,313,5],"scope":"OpenAnyTest"},{"kind":32,"name":"test_doctor_default_access","modifiers":1,"location":[323,4,326,5],"scope":"OpenAnyTest","children":[{"kind":128,"name":"$feature","location":[323,47,323,55],"scope":"test_doctor_default_access","type":"mixed"},{"kind":128,"name":"$value","location":[323,57,323,63],"scope":"test_doctor_default_access","type":"mixed"},{"kind":128,"name":"$access","location":[323,65,323,72],"scope":"test_doctor_default_access","type":"mixed"}]},{"kind":32,"name":"doctor_default_access_data","modifiers":1,"location":[328,4,350,5],"scope":"OpenAnyTest"},{"kind":32,"name":"test_doctor_with_plan_instance","modifiers":1,"location":[355,4,365,5],"description":"Testing a doctor with a plan","scope":"OpenAnyTest"},{"kind":32,"name":"test_doctor_with_plan_permission","modifiers":1,"location":[375,4,378,5],"scope":"OpenAnyTest","children":[{"kind":128,"name":"$feature","location":[375,53,375,61],"scope":"test_doctor_with_plan_permission","type":"mixed"},{"kind":128,"name":"$value","location":[375,63,375,69],"scope":"test_doctor_with_plan_permission","type":"mixed"},{"kind":128,"name":"$access","location":[375,71,375,78],"scope":"test_doctor_with_plan_permission","type":"mixed"}]},{"kind":32,"name":"doctor_default_with_plan_data","modifiers":1,"location":[380,4,428,5],"scope":"OpenAnyTest"},{"kind":32,"name":"test_default_dm_instance","modifiers":1,"location":[430,4,443,5],"scope":"OpenAnyTest"},{"kind":32,"name":"test_default_dm_permission","modifiers":1,"location":[453,4,456,5],"scope":"OpenAnyTest","children":[{"kind":128,"name":"$feature","location":[453,47,453,55],"scope":"test_default_dm_permission","type":"mixed"},{"kind":128,"name":"$value","location":[453,57,453,63],"scope":"test_default_dm_permission","type":"mixed"},{"kind":128,"name":"$access","location":[453,65,453,72],"scope":"test_default_dm_permission","type":"mixed"}]},{"kind":32,"name":"default_dm_data","modifiers":1,"location":[458,4,498,5],"scope":"OpenAnyTest"},{"kind":32,"name":"get_access","modifiers":4,"location":[500,4,505,5],"scope":"OpenAnyTest","children":[{"kind":128,"name":"$ctx","location":[500,32,500,36],"scope":"get_access"}]},{"kind":32,"name":"setup_doctor","modifiers":4,"location":[513,4,532,5],"description":"Sets up a doctor with necessary data for a valid authorization query.","scope":"OpenAnyTest","children":[{"kind":128,"name":"$plan","location":[513,34,513,46],"scope":"setup_doctor","value":"null","type":"null|mixed"}]},{"kind":32,"name":"setup_assistant","modifiers":4,"location":[542,4,556,5],"description":"Sets up an assistant with necessary data for a valid authorization query.","scope":"OpenAnyTest","children":[{"kind":128,"name":"$org","location":[542,37,542,41],"scope":"setup_assistant","type":"mixed"},{"kind":128,"name":"$doc","location":[542,43,542,47],"scope":"setup_assistant","type":"mixed"},{"kind":128,"name":"$cli","location":[542,49,542,53],"scope":"setup_assistant","type":"mixed"},{"kind":128,"name":"$usr","location":[542,55,542,59],"scope":"setup_assistant","type":"Huli\\Authorization\\Access\\User"}]}]}]}}