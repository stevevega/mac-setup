{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Request/Handler/PatientFile/Doctor/Merge/Save.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge","location":[11,0,11,54]},{"kind":1,"name":"AAlter","modifiers":4096,"location":[13,5,13,31],"associated":[{"kind":1,"name":"HH\\Request\\Behavior\\AAlter"}]},{"kind":1,"name":"Option","modifiers":4096,"location":[14,5,14,28],"associated":[{"kind":1,"name":"HH\\Request\\Field\\Option"}]},{"kind":1,"name":"FieldType","modifiers":4096,"location":[15,5,15,39],"associated":[{"kind":1,"name":"HH\\Request\\Field\\Type"}]},{"kind":1,"name":"TPatient","modifiers":4096,"location":[16,5,16,40],"associated":[{"kind":1,"name":"HH\\Request\\Handler\\Patient\\TPatient"}]},{"kind":1,"name":"AddToDoctor","modifiers":4096,"location":[17,5,17,67],"associated":[{"kind":1,"name":"HH\\Request\\Handler\\PatientFile\\AddToDoctor\\Copy"}]},{"kind":1,"name":"ObjectRequest","modifiers":4096,"location":[18,5,18,44],"associated":[{"kind":1,"name":"HH\\Request\\Type\\Object"}]},{"kind":1,"name":"PatientFileEntity","modifiers":4096,"location":[19,5,19,73],"associated":[{"kind":1,"name":"HH\\Search\\Cores\\CommonObject\\PatientFile\\Entity"}]},{"kind":1,"name":"LanguageModel","modifiers":4096,"location":[20,5,20,36],"associated":[{"kind":1,"name":"Model\\Language"}]},{"kind":1,"name":"OrganizationModel","modifiers":4096,"location":[21,5,21,44],"associated":[{"kind":1,"name":"Model\\Organization"}]},{"kind":1,"name":"BasicRecordModel","modifiers":4096,"location":[22,5,22,50],"associated":[{"kind":1,"name":"Model\\Patient\\BasicRecord"}]},{"kind":1,"name":"PatientFileModel","modifiers":4096,"location":[23,5,23,43],"associated":[{"kind":1,"name":"Model\\Patient\\File"}]},{"kind":1,"name":"UserModel","modifiers":4096,"location":[24,5,24,28],"associated":[{"kind":1,"name":"Model\\User"}]},{"kind":1,"name":"stdClass","modifiers":4096,"location":[25,5,25,13],"associated":[{"kind":1,"name":"stdClass"}]},{"kind":1,"name":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","location":[39,0,295,1],"associated":[{"kind":1,"name":"HH\\Request\\Behavior\\AAlter"},{"kind":4,"name":"HH\\Request\\Handler\\Patient\\TPatient"}],"description":"Doctor Patient merge requests class\nClass to merge two records belonging to the same doctor(It has to merge basic record\ninformation has well as medical record information, appointments, checkups and documents)\nFunctions:\n1-Create a new patient file\n2-Copy old basic record history\n3-Add reference on old patient files to the new patient file\n4-Mark as inactive all old basic record\n5-Delete old patient files\n6-Add and delete solr documents","children":[{"kind":1024,"name":"ID_PATIENT_FILES","modifiers":1,"location":[46,10,46,47],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","value":"'id_patient_files'"},{"kind":1024,"name":"ID_OWNER","modifiers":1,"location":[47,10,47,31],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","value":"'id_owner'"},{"kind":1024,"name":"MEDICAL_RECORD","modifiers":1,"location":[48,10,48,43],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","value":"'medical_record'"},{"kind":1024,"name":"CHECKUPS","modifiers":1,"location":[49,10,49,31],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","value":"'checkups'"},{"kind":1024,"name":"DOCUMENTS","modifiers":1,"location":[50,10,50,33],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","value":"'documents'"},{"kind":1024,"name":"APPOINTMENTS","modifiers":1,"location":[51,10,51,39],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","value":"'appointments'"},{"kind":1024,"name":"PRIVATE_NOTES","modifiers":1,"location":[52,10,52,41],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","value":"'private_notes'"},{"kind":1024,"name":"AUDIT","modifiers":1,"location":[53,10,53,25],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","value":"'audit'"},{"kind":16,"name":"$id_patient_files","modifiers":2,"location":[58,14,58,31],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":16,"name":"$id_patient_file","modifiers":2,"location":[59,14,59,30],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":16,"name":"$id_owner","modifiers":2,"location":[60,14,60,23],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":16,"name":"$id_organization","modifiers":2,"location":[61,14,61,30],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":16,"name":"$id_language","modifiers":2,"location":[62,14,62,26],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":32,"name":"get_request_fields","modifiers":1,"location":[69,4,77,5],"description":"Fields used for save","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":32,"name":"get_children_requests","modifiers":1,"location":[84,4,135,5],"description":"Patient file children save requests","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":32,"name":"get_handler_type","modifiers":2,"location":[140,4,143,5],"description":"Gets the handler type to use","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":32,"name":"include_last_insert_id","modifiers":2,"location":[151,4,154,5],"description":"Sets whether or not to retrive the last insert id and include it\nin the processed data","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","type":"bool"},{"kind":32,"name":"save_children","modifiers":2,"location":[162,4,191,5],"scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","children":[{"kind":128,"name":"$requests","location":[162,37,162,52],"scope":"save_children"}]},{"kind":32,"name":"alter","modifiers":2,"location":[200,4,217,5],"description":"Saves the patient","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","type":"bool"},{"kind":32,"name":"trigger_events","modifiers":2,"location":[224,4,244,5],"description":"Triggers events happening on success request","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","type":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":32,"name":"add_new_patient_file_to_doctor","modifiers":4,"location":[250,4,266,5],"description":"Add the new patient file related to the doctor\nThis patient file will be summary of all the patients merged information","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save"},{"kind":32,"name":"copy_basic_record_history","modifiers":4,"location":[271,4,280,5],"description":"Copy all the old basic record history related to the new patient file","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","children":[{"kind":128,"name":"$id_patient_files","location":[271,47,271,70],"scope":"copy_basic_record_history"},{"kind":128,"name":"$id_patient_file","location":[271,72,271,88],"scope":"copy_basic_record_history"}]},{"kind":32,"name":"set_inactive_basic_record","modifiers":4,"location":[287,4,294,5],"description":"Mark as innactive all the basic record related to the merged patient files","scope":"HH\\Request\\Handler\\PatientFile\\Doctor\\Merge\\Save","children":[{"kind":128,"name":"$id_patient_files","location":[287,47,287,70],"scope":"set_inactive_basic_record","type":"array"}]}]}]}}