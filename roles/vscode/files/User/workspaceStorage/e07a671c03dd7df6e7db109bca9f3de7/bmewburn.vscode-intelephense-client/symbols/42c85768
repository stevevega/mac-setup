{"uri":"file:///Users/vega/Code/huli/manager-web/src/application/model/Mail/MailQueue.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Model\\Mail","location":[1,0,1,21]},{"kind":1,"name":"UTCDateTime","modifiers":4096,"location":[3,5,3,30],"associated":[{"kind":1,"name":"HH\\Util\\Mongo\\UTCDateTime"}]},{"kind":1,"name":"Model","modifiers":4096,"location":[4,5,4,15],"associated":[{"kind":1,"name":"Kima\\Model"}]},{"kind":1,"name":"ObjectID","modifiers":4096,"location":[5,5,5,26],"associated":[{"kind":1,"name":"MongoDB\\BSON\\ObjectID"}]},{"kind":1,"name":"Model\\Mail\\MailQueue","location":[7,0,203,1],"associated":[{"kind":1,"name":"Kima\\Model"}],"children":[{"kind":1024,"name":"DB_ENGINE","modifiers":1,"location":[9,10,9,29],"scope":"Model\\Mail\\MailQueue","value":"'mongo'"},{"kind":1024,"name":"TABLE","modifiers":1,"location":[11,10,11,30],"scope":"Model\\Mail\\MailQueue","value":"'mail.queue'"},{"kind":1024,"name":"ID","modifiers":1,"location":[16,10,16,20],"scope":"Model\\Mail\\MailQueue","value":"'_id'"},{"kind":1024,"name":"ID_MAIL","modifiers":1,"location":[17,10,17,29],"scope":"Model\\Mail\\MailQueue","value":"'id_mail'"},{"kind":1024,"name":"DATE","modifiers":1,"location":[18,10,18,23],"scope":"Model\\Mail\\MailQueue","value":"'date'"},{"kind":1024,"name":"QUEUE","modifiers":1,"location":[19,10,19,25],"scope":"Model\\Mail\\MailQueue","value":"'queue'"},{"kind":1024,"name":"PROCESSED","modifiers":1,"location":[20,10,20,33],"scope":"Model\\Mail\\MailQueue","value":"'processed'"},{"kind":1024,"name":"COMPLETED","modifiers":1,"location":[21,10,21,33],"scope":"Model\\Mail\\MailQueue","value":"'completed'"},{"kind":1024,"name":"HANDLER","modifiers":1,"location":[22,10,22,29],"scope":"Model\\Mail\\MailQueue","value":"'handler'"},{"kind":1024,"name":"PRIORITY","modifiers":1,"location":[23,10,23,31],"scope":"Model\\Mail\\MailQueue","value":"'priority'"},{"kind":1024,"name":"CREATED_ON","modifiers":1,"location":[24,10,24,35],"scope":"Model\\Mail\\MailQueue","value":"'created_on'"},{"kind":1024,"name":"BATCH_SIZE","modifiers":1,"location":[27,10,27,25],"scope":"Model\\Mail\\MailQueue","value":"50"},{"kind":1024,"name":"PRIORITY_HIGH","modifiers":1,"location":[29,10,29,27],"scope":"Model\\Mail\\MailQueue","value":"1"},{"kind":1024,"name":"PRIORITY_MEDIUM","modifiers":1,"location":[30,10,30,29],"scope":"Model\\Mail\\MailQueue","value":"2"},{"kind":1024,"name":"PRIORITY_LOW","modifiers":1,"location":[31,10,31,26],"scope":"Model\\Mail\\MailQueue","value":"3"},{"kind":16,"name":"$_id","modifiers":1,"location":[37,11,37,15],"scope":"Model\\Mail\\MailQueue","type":"MongoDB\\BSON\\ObjectID"},{"kind":16,"name":"$date","modifiers":1,"location":[43,11,43,16],"scope":"Model\\Mail\\MailQueue","type":"HH\\Util\\Mongo\\UTCDateTime"},{"kind":16,"name":"$completed","modifiers":1,"location":[49,11,49,29],"scope":"Model\\Mail\\MailQueue","type":"bool"},{"kind":16,"name":"$queue","modifiers":1,"location":[55,11,55,22],"scope":"Model\\Mail\\MailQueue","type":"array"},{"kind":16,"name":"$handler","modifiers":1,"location":[61,11,61,19],"scope":"Model\\Mail\\MailQueue","type":"string"},{"kind":16,"name":"$created_on","modifiers":1,"location":[67,11,67,22],"scope":"Model\\Mail\\MailQueue","type":"HH\\Util\\Mongo\\UTCDateTime"},{"kind":16,"name":"$priority","modifiers":1,"location":[73,11,73,41],"scope":"Model\\Mail\\MailQueue","type":"[Model\\Mail\\type]"},{"kind":32,"name":"get_next_batch","modifiers":33,"location":[79,4,102,5],"description":"Returns an object that contains a limited number of mails to send","scope":"Model\\Mail\\MailQueue","type":"Model\\Mail\\MailQueue"},{"kind":32,"name":"clear_current_batch","modifiers":1,"location":[110,4,122,5],"description":"Clears the current elements from the queue and stores them in the\nprocessed stack","scope":"Model\\Mail\\MailQueue","type":"bool"},{"kind":32,"name":"mark_as_completed","modifiers":1,"location":[129,4,144,5],"description":"Marks the current mail queue as completed","scope":"Model\\Mail\\MailQueue","type":"bool"},{"kind":32,"name":"add_to_queue","modifiers":1,"location":[153,4,188,5],"description":"Add the values to the queue","scope":"Model\\Mail\\MailQueue","type":"bool","children":[{"kind":128,"name":"$values","location":[153,33,153,40],"description":"an array of arrays that contain the values\n","scope":"add_to_queue","type":"array"},{"kind":128,"name":"$date","location":[153,42,153,54],"scope":"add_to_queue","value":"null"}]},{"kind":32,"name":"check_updated","modifiers":4,"location":[198,4,202,5],"description":"Checks the result object returned by mongo and determines whether the\ndocument was updated or a new one created","scope":"Model\\Mail\\MailQueue","typeSource":1,"type":"bool","children":[{"kind":128,"name":"$result","location":[198,35,198,42],"scope":"check_updated","type":"array"}]}]}]}}