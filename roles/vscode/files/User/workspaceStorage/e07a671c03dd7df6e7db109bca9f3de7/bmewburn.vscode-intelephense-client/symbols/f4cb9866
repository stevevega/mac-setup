{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Subscription/Plans.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Subscription","location":[11,0,11,26]},{"kind":1,"name":"Language","modifiers":4096,"location":[13,5,13,16],"associated":[{"kind":1,"name":"HH\\Language"}]},{"kind":1,"name":"Feature","modifiers":4096,"location":[14,5,14,31],"associated":[{"kind":1,"name":"Huli\\Authorization\\Feature"}]},{"kind":1,"name":"IAccess","modifiers":4096,"location":[15,5,15,31],"associated":[{"kind":1,"name":"Huli\\Authorization\\IAccess"}]},{"kind":1,"name":"Addon","modifiers":4096,"location":[16,5,16,24],"associated":[{"kind":1,"name":"Huli\\Enum\\Set\\Addon"}]},{"kind":1,"name":"Error","modifiers":4096,"location":[17,5,17,15],"associated":[{"kind":1,"name":"Kima\\Error"}]},{"kind":1,"name":"AddonTierModel","modifiers":4096,"location":[18,5,18,39],"associated":[{"kind":1,"name":"Model\\Addon\\Tier"}]},{"kind":1,"name":"PlanModel","modifiers":4096,"location":[19,5,19,28],"associated":[{"kind":1,"name":"Model\\Plan"}]},{"kind":1,"name":"UserSubscriptionModel","modifiers":4096,"location":[20,5,20,53],"associated":[{"kind":1,"name":"Model\\User\\Subscription"}]},{"kind":1,"name":"PaymentUtil","modifiers":4096,"location":[21,5,21,32],"associated":[{"kind":1,"name":"Payment\\Util"}]},{"kind":1,"name":"ReflectionClass","modifiers":4096,"location":[22,5,22,20],"associated":[{"kind":1,"name":"ReflectionClass"}]},{"kind":1,"name":"HH\\Subscription\\Plans","location":[28,0,243,1],"description":"This class retrieves information related to subscription plans, be it general\nor about a plan that might be associated to a given user.","children":[{"kind":1024,"name":"STARTER","modifiers":1,"location":[34,10,34,29],"scope":"HH\\Subscription\\Plans","value":"'starter'"},{"kind":1024,"name":"FULL","modifiers":1,"location":[35,10,35,23],"scope":"HH\\Subscription\\Plans","value":"'full'"},{"kind":1024,"name":"PREMIUM","modifiers":1,"location":[36,10,36,29],"scope":"HH\\Subscription\\Plans","value":"'premium'"},{"kind":1024,"name":"FREE","modifiers":1,"location":[37,10,37,23],"scope":"HH\\Subscription\\Plans","value":"'free'"},{"kind":1024,"name":"EHR","modifiers":1,"location":[38,10,38,21],"scope":"HH\\Subscription\\Plans","value":"'ehr'"},{"kind":1024,"name":"EHR_MARKETING","modifiers":1,"location":[39,10,39,41],"scope":"HH\\Subscription\\Plans","value":"'ehr_marketing'"},{"kind":1024,"name":"PRACTICE_MANAGEMENT","modifiers":1,"location":[40,10,40,53],"scope":"HH\\Subscription\\Plans","value":"'practice_management'"},{"kind":1024,"name":"UPGRADE","modifiers":1,"location":[45,10,45,29],"scope":"HH\\Subscription\\Plans","value":"'upgrade'"},{"kind":16,"name":"$ID_FREE","modifiers":36,"location":[48,19,48,31],"scope":"HH\\Subscription\\Plans"},{"kind":32,"name":"is_valid_plan_for_signup","modifiers":33,"location":[58,4,68,5],"description":"Checks whether the given plan is valid for a new customer signup. Some\nplans get deprecated with time, old users with the plan continue to be\nassociated with them but new user are barred from signing up with those\nplans.","scope":"HH\\Subscription\\Plans","children":[{"kind":128,"name":"$name_key","location":[58,52,58,61],"scope":"is_valid_plan_for_signup","type":"mixed"}]},{"kind":32,"name":"is_better","modifiers":33,"location":[79,4,90,5],"description":"Simple function that compares the plan prices to determine which one\nis better, i.e. has more functionalities","scope":"HH\\Subscription\\Plans","type":"bool","children":[{"kind":128,"name":"$current_plan","location":[79,37,79,50],"description":"plan key","scope":"is_better","type":"string"},{"kind":128,"name":"$new_plan","location":[79,52,79,61],"description":"plan key\n","scope":"is_better","type":"string"}]},{"kind":32,"name":"get","modifiers":33,"location":[100,4,105,5],"description":"Gets the plan details by name","scope":"HH\\Subscription\\Plans","type":"PlanModel","children":[{"kind":128,"name":"$name_key","location":[100,31,100,40],"description":"lowercase key used to id the field","scope":"get","type":"string"},{"kind":128,"name":"$id_language","location":[100,42,100,61],"scope":"get","value":"null","type":"null|mixed"}]},{"kind":32,"name":"get_id","modifiers":33,"location":[114,4,117,5],"description":"Retrieves the plan real id","scope":"HH\\Subscription\\Plans","type":"PlanModel","children":[{"kind":128,"name":"$name_key","location":[114,34,114,43],"description":"human readable id\n","scope":"get_id","type":"string"}]},{"kind":32,"name":"can_user_upgrade","modifiers":33,"location":[128,4,135,5],"description":"Returns whether the user can upgrade to a better plan","scope":"HH\\Subscription\\Plans","type":"bool","children":[{"kind":128,"name":"$access","location":[128,44,128,59],"description":"access object used to determine if the user has\nthe feature that allows them to upgrade","scope":"can_user_upgrade","typeSource":1,"type":"Huli\\Authorization\\IAccess"},{"kind":128,"name":"$id_user","location":[128,61,128,69],"description":"used to check the user's current subscription.\n","scope":"can_user_upgrade","type":"int"}]},{"kind":32,"name":"is_free","modifiers":33,"location":[145,4,148,5],"description":"Returns whether the plan id passed is free, just a convenience method\nso you don't have to make manual comparisons to the id.","scope":"HH\\Subscription\\Plans","type":"bool","children":[{"kind":128,"name":"$id_plan","location":[145,35,145,43],"scope":"is_free","type":"int"}]},{"kind":32,"name":"get_open_for_signup","modifiers":33,"location":[159,4,166,5],"description":"Retrieves a list of plans that are publicly available and possible\ncustomers can use to signup.","scope":"HH\\Subscription\\Plans","type":"array","children":[{"kind":128,"name":"$id_country","location":[159,47,159,58],"description":"used to retrieve plans of an specific country","scope":"get_open_for_signup","type":"int"},{"kind":128,"name":"$id_language","location":[159,60,159,79],"description":"user language for l10n field\n","scope":"get_open_for_signup","value":"null","type":"int"}]},{"kind":32,"name":"get_available_countries","modifiers":33,"location":[176,4,181,5],"description":"Retrieves the list of countries associated to at least one plan open for\nsignup of new customers.","scope":"HH\\Subscription\\Plans","type":"array","children":[{"kind":128,"name":"$id_language","location":[176,51,176,70],"description":"user language for the country l10n field\n","scope":"get_available_countries","value":"null","type":"int"}]},{"kind":32,"name":"can_upgrade_to_other_country","modifiers":33,"location":[192,4,196,5],"description":"Returns whether the given plan can be upgraded to different country plan,\nthis should be the case for the free plan only.","scope":"HH\\Subscription\\Plans","type":"bool","children":[{"kind":128,"name":"$plan","location":[192,56,192,61],"description":"plan key name","scope":"can_upgrade_to_other_country","type":"string"},{"kind":128,"name":"$id_country","location":[192,63,192,74],"description":"the user's country\n","scope":"can_upgrade_to_other_country","type":"int"}]},{"kind":32,"name":"get_top_addon_tier_price","modifiers":33,"location":[206,4,215,5],"description":"Returns the priciest tier for a given addon and country","scope":"HH\\Subscription\\Plans","typeSource":1,"type":"float","children":[{"kind":128,"name":"$addon","location":[206,52,206,65],"description":"@see \\Huli\\Enum\\Set\\Addon","scope":"get_top_addon_tier_price","typeSource":1,"type":"string"},{"kind":128,"name":"$id_country","location":[206,67,206,82],"scope":"get_top_addon_tier_price","typeSource":1,"type":"int"}]},{"kind":32,"name":"parse_plan_iso","modifiers":33,"location":[224,4,227,5],"description":"Returns the passed iso or INT for null values.","scope":"HH\\Subscription\\Plans","type":"string","children":[{"kind":128,"name":"$iso2","location":[224,42,224,47],"scope":"parse_plan_iso","type":"string"}]},{"kind":32,"name":"parse_language","modifiers":36,"location":[237,4,242,5],"description":"Returns the passed language id or the current app language, whichever\nis found first.","scope":"HH\\Subscription\\Plans","type":"int","children":[{"kind":128,"name":"$id_language","location":[237,43,237,55],"scope":"parse_language","type":"int"}]}]}]}}