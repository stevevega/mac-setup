{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Request/Handler/PatientDocument/TPatientDocument.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Request\\Handler\\PatientDocument","location":[11,0,11,45]},{"kind":1,"name":"CloudFrontClient","modifiers":4096,"location":[13,5,13,36],"associated":[{"kind":1,"name":"Aws\\CloudFront\\CloudFrontClient"}]},{"kind":1,"name":"HuliAws","modifiers":4096,"location":[14,5,14,16],"associated":[{"kind":1,"name":"Aws\\HuliAws"}]},{"kind":1,"name":"S3Client","modifiers":4096,"location":[15,5,15,20],"associated":[{"kind":1,"name":"Aws\\S3\\S3Client"}]},{"kind":1,"name":"DateInterval","modifiers":4096,"location":[16,5,16,17],"associated":[{"kind":1,"name":"DateInterval"}]},{"kind":1,"name":"CalendarDate","modifiers":4096,"location":[17,5,17,34],"associated":[{"kind":1,"name":"HH\\Calendar\\Util\\CalendarDate"}]},{"kind":1,"name":"DocumentEntity","modifiers":4096,"location":[18,5,18,41],"associated":[{"kind":1,"name":"HH\\Entity\\Document"}]},{"kind":1,"name":"EventEntity","modifiers":4096,"location":[19,5,19,35],"associated":[{"kind":1,"name":"HH\\Entity\\Event"}]},{"kind":1,"name":"DocumentTagEntity","modifiers":4096,"location":[20,5,20,73],"associated":[{"kind":1,"name":"HH\\Search\\Cores\\CommonObject\\DocumentTag\\Entity"}]},{"kind":1,"name":"PatientDocumentEntity","modifiers":4096,"location":[21,5,21,81],"associated":[{"kind":1,"name":"HH\\Search\\Cores\\CommonObject\\PatientDocument\\Entity"}]},{"kind":1,"name":"AwsThumbnail","modifiers":4096,"location":[22,5,22,42],"associated":[{"kind":1,"name":"HH\\Util\\Aws\\Thumbnail"}]},{"kind":1,"name":"Date","modifiers":4096,"location":[23,5,23,17],"associated":[{"kind":1,"name":"HH\\Util\\Date"}]},{"kind":1,"name":"Config","modifiers":4096,"location":[24,5,24,20],"associated":[{"kind":1,"name":"Huli\\AWS\\Config"}]},{"kind":1,"name":"ContentType","modifiers":4096,"location":[25,5,25,34],"associated":[{"kind":1,"name":"Huli\\AWS\\Document\\ContentType"}]},{"kind":1,"name":"Region","modifiers":4096,"location":[26,5,26,25],"associated":[{"kind":1,"name":"Huli\\AWS\\Enum\\Region"}]},{"kind":1,"name":"PrivateContentFormData","modifiers":4096,"location":[27,5,27,63],"associated":[{"kind":1,"name":"Huli\\AWS\\PrivateContent\\FormData"}]},{"kind":1,"name":"UrlSign","modifiers":4096,"location":[28,5,28,21],"associated":[{"kind":1,"name":"Huli\\AWS\\UrlSign"}]},{"kind":1,"name":"App","modifiers":4096,"location":[29,5,29,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"PatientDocumentModel","modifiers":4096,"location":[30,5,30,51],"associated":[{"kind":1,"name":"Model\\Patient\\Document"}]},{"kind":1,"name":"PatientDocumentTagModel","modifiers":4096,"location":[31,5,31,57],"associated":[{"kind":1,"name":"Model\\Patient\\DocumentTag"}]},{"kind":4,"name":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","location":[36,0,552,1],"description":"Patient document upload requests class","children":[{"kind":16,"name":"$id_patient_file","modifiers":2,"location":[41,14,41,30],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$id_patient_files","modifiers":2,"location":[42,14,42,31],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$id_patient_document","modifiers":2,"location":[43,14,43,34],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$id_user","modifiers":2,"location":[44,14,44,22],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$id_owner","modifiers":2,"location":[45,14,45,23],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$time_zone_offset","modifiers":2,"location":[46,14,46,31],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$realization_date","modifiers":2,"location":[47,14,47,31],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$name","modifiers":2,"location":[48,14,48,19],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$path","modifiers":2,"location":[49,14,49,19],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$comments","modifiers":2,"location":[50,14,50,23],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$s3_path","modifiers":2,"location":[51,14,51,22],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$filter_patient_documents","modifiers":2,"location":[52,14,52,44],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":16,"name":"$id_event","modifiers":2,"location":[53,14,53,23],"scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument"},{"kind":32,"name":"set_id_patient_file","modifiers":2,"location":[62,4,67,5],"description":"Sets the id_patient_file","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$id_patient_file","location":[62,43,62,59],"scope":"set_id_patient_file","type":"string"}]},{"kind":32,"name":"set_id_patient_files","modifiers":2,"location":[76,4,81,5],"description":"Sets the id_patient_files","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$id_patient_files","location":[76,44,76,61],"scope":"set_id_patient_files","type":"string"}]},{"kind":32,"name":"set_id_patient_document","modifiers":2,"location":[90,4,107,5],"description":"Set the id patient document","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$id_patient_document","location":[90,47,90,67],"scope":"set_id_patient_document","type":"int"}]},{"kind":32,"name":"set_id_patient_document_source","modifiers":2,"location":[117,4,130,5],"description":"Set the id patient document source","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$id_patient_document_source","location":[117,54,117,81],"scope":"set_id_patient_document_source","type":"mixed"}]},{"kind":32,"name":"set_s3_path","modifiers":2,"location":[137,4,147,5],"description":"Set the s3 path that will be deleted as orphan file","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","children":[{"kind":128,"name":"$s3_path","location":[137,35,137,43],"scope":"set_s3_path","type":"string"}]},{"kind":32,"name":"set_id_event","modifiers":2,"location":[156,4,170,5],"description":"Sets the id_event","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$id_event","location":[156,36,156,45],"scope":"set_id_event","type":"string"}]},{"kind":32,"name":"set_comments","modifiers":2,"location":[179,4,184,5],"description":"Sets the comments","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$comments","location":[179,36,179,45],"scope":"set_comments","type":"string"}]},{"kind":32,"name":"set_id_owner","modifiers":2,"location":[193,4,198,5],"description":"Sets the id_owner","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$id_owner","location":[193,36,193,45],"scope":"set_id_owner","type":"string"}]},{"kind":32,"name":"set_filter_patient_documents","modifiers":2,"location":[207,4,214,5],"description":"Patient document used to filter on the document list","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$filter_patient_documents","location":[207,52,207,77],"scope":"set_filter_patient_documents","type":"string"}]},{"kind":32,"name":"set_name","modifiers":2,"location":[223,4,228,5],"description":"Sets the name","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$name","location":[223,32,223,37],"scope":"set_name","type":"string"}]},{"kind":32,"name":"set_path","modifiers":2,"location":[237,4,242,5],"description":"Sets the path","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$path","location":[237,32,237,37],"scope":"set_path","type":"string"}]},{"kind":32,"name":"set_file_name","modifiers":2,"location":[251,4,256,5],"description":"Sets the file name","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$file_name","location":[251,37,251,47],"scope":"set_file_name","type":"string"}]},{"kind":32,"name":"get_primary_key","modifiers":2,"location":[263,4,266,5],"description":"Gets the primary used for the last insert id retrieval","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"int"},{"kind":32,"name":"set_content_type","modifiers":2,"location":[275,4,284,5],"description":"Set file content type","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$content_type","location":[275,40,275,53],"scope":"set_content_type","type":"string"}]},{"kind":32,"name":"set_size","modifiers":2,"location":[293,4,302,5],"description":"Set file size (on bytes)","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$size","location":[293,32,293,37],"scope":"set_size","type":"string"}]},{"kind":32,"name":"set_time_zone_offset","modifiers":2,"location":[311,4,323,5],"description":"Sets the clients time zone offset","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$time_zone_offset","location":[311,44,311,61],"scope":"set_time_zone_offset","type":"string"}]},{"kind":32,"name":"set_realization_date","modifiers":2,"location":[330,4,337,5],"description":"Set the realization_date and validates them","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","children":[{"kind":128,"name":"$realization_date","location":[330,44,330,61],"scope":"set_realization_date","type":"string"}]},{"kind":32,"name":"format_realization_date","modifiers":2,"location":[347,4,380,5],"description":"Format realization date converted to client time\nRequire $this->time_zone_offset","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"string","children":[{"kind":128,"name":"$document","location":[347,47,347,56],"scope":"format_realization_date","type":"Model\\Patient\\Document"}]},{"kind":32,"name":"format_created_date","modifiers":2,"location":[390,4,402,5],"description":"Format create on date data converted to client time\nRequire $this->time_zone_offset","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"string","children":[{"kind":128,"name":"$document","location":[390,43,390,52],"scope":"format_created_date","type":"Model\\Patient\\Document"}]},{"kind":32,"name":"get_thumbnail","modifiers":2,"location":[415,4,439,5],"description":"Get file thumbnail url from S3 or default","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"string","children":[{"kind":128,"name":"$document","location":[416,8,416,17],"scope":"get_thumbnail","type":"Model\\Patient\\Document"},{"kind":128,"name":"$s3_client","location":[417,8,417,25],"scope":"get_thumbnail","value":"null","type":"Aws\\S3\\S3Client"},{"kind":128,"name":"$render_default","location":[418,8,418,31],"scope":"get_thumbnail","value":"false","type":"mixed"}]},{"kind":32,"name":"get_path","modifiers":2,"location":[449,4,468,5],"description":"Get download link or path signed to file (document url)","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"string","children":[{"kind":128,"name":"$document","location":[449,32,449,41],"scope":"get_path","type":"Model\\Patient\\Document"},{"kind":128,"name":"$domain","location":[449,43,449,57],"scope":"get_path","value":"null","type":"string"}]},{"kind":32,"name":"format_valid_for","modifiers":2,"location":[477,4,482,5],"description":"Format links expiration time in miliseconds","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"int","children":[{"kind":128,"name":"$document","location":[477,40,477,49],"scope":"format_valid_for","type":"Model\\Patient\\Document"}]},{"kind":32,"name":"set_preview_available","modifiers":2,"location":[491,4,499,5],"description":"Set preview available (if the file can be previewed)","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"bool","children":[{"kind":128,"name":"$document","location":[491,45,491,54],"scope":"set_preview_available","type":"Model\\Patient\\Document"}]},{"kind":32,"name":"update_solr_document","modifiers":2,"location":[508,4,518,5],"description":"Update a solr document related to patient document","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$id_patient_document","location":[508,44,508,64],"scope":"update_solr_document","type":"int"}]},{"kind":32,"name":"delete_solr_document","modifiers":2,"location":[529,4,551,5],"description":"Delete a solr document related to patient document\nWhen the document is deleted the tags related to the documents has to be update too (each solr\ndocument related a document tag has a list of doctor related to the tag)","scope":"HH\\Request\\Handler\\PatientDocument\\TPatientDocument","type":"","children":[{"kind":128,"name":"$id_patient_document","location":[529,44,529,64],"scope":"delete_solr_document","type":"int"}]}]}]}}