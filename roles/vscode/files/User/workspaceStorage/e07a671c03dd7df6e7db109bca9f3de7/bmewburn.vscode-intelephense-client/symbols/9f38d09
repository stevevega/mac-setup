{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/Mail/Util/Parser.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Mail\\Util","location":[11,0,11,20]},{"kind":1,"name":"ParserErrorModel","modifiers":4096,"location":[13,5,13,48],"associated":[{"kind":1,"name":"Model\\Mail\\Parser\\Error"}]},{"kind":1,"name":"RuleModel","modifiers":4096,"location":[14,5,14,40],"associated":[{"kind":1,"name":"Model\\Mail\\Parser\\Rule"}]},{"kind":1,"name":"Mail\\Util\\Parser","location":[19,0,588,1],"description":"This class parses an email, removing the reply content","children":[{"kind":1024,"name":"GMAIL_SPANISH_REGEX_VALUE","modifiers":1,"location":[27,10,27,39],"scope":"Mail\\Util\\Parser","value":"1"},{"kind":1024,"name":"GMAIL_ANDROID_SPANISH_REGEX_VALUE","modifiers":1,"location":[28,10,28,47],"scope":"Mail\\Util\\Parser","value":"2"},{"kind":1024,"name":"GMAIL_ENGLISH_REGEX_VALUE","modifiers":1,"location":[29,10,29,39],"scope":"Mail\\Util\\Parser","value":"3"},{"kind":1024,"name":"GMAIL_ANDROID_ENGLISH_REGEX_VALUE","modifiers":1,"location":[30,10,30,47],"scope":"Mail\\Util\\Parser","value":"4"},{"kind":1024,"name":"GMAIL_IPHONE_ENGLISH_REGEX_VALUE","modifiers":1,"location":[31,10,31,46],"scope":"Mail\\Util\\Parser","value":"5"},{"kind":1024,"name":"YAHOO_SPANISH_REGEX_VALUE","modifiers":1,"location":[32,10,32,39],"scope":"Mail\\Util\\Parser","value":"6"},{"kind":1024,"name":"YAHOO_ENGLISH_REGEX_VALUE","modifiers":1,"location":[33,10,33,39],"scope":"Mail\\Util\\Parser","value":"7"},{"kind":1024,"name":"YAHOO_ANDROID_SPANISH_REGEX_VALUE","modifiers":1,"location":[34,10,34,47],"scope":"Mail\\Util\\Parser","value":"8"},{"kind":1024,"name":"ICLOUD_ENGLISH_REGEX_VALUE","modifiers":1,"location":[35,10,35,40],"scope":"Mail\\Util\\Parser","value":"9"},{"kind":1024,"name":"OUTLOOK_ANDROID_ENGLISH_REGEX_VALUE","modifiers":1,"location":[36,10,36,50],"scope":"Mail\\Util\\Parser","value":"10"},{"kind":1024,"name":"OUTLOOK_ANDROID_SPANISH_REGEX_VALUE","modifiers":1,"location":[37,10,37,50],"scope":"Mail\\Util\\Parser","value":"11"},{"kind":1024,"name":"OUTLOOK_2010_SPANISH_REGEX_VALUE","modifiers":1,"location":[38,10,38,47],"scope":"Mail\\Util\\Parser","value":"12"},{"kind":1024,"name":"OUTLOOK_ENGLISH_REGEX_VALUE","modifiers":1,"location":[39,10,39,42],"scope":"Mail\\Util\\Parser","value":"13"},{"kind":1024,"name":"OUTLOOK_SPANISH_REGEX_VALUE","modifiers":1,"location":[40,10,40,42],"scope":"Mail\\Util\\Parser","value":"14"},{"kind":1024,"name":"EMAIL_ADDRESS_REGEX","modifiers":1,"location":[45,10,45,48],"scope":"Mail\\Util\\Parser","value":"'/(.*)@(.*)?\\./'"},{"kind":1024,"name":"YEAR_REGEX","modifiers":1,"location":[53,10,53,50],"scope":"Mail\\Util\\Parser","value":"'(?:[1-2][0-9])?[0-9][0-9]'"},{"kind":1024,"name":"MONTH_SPANISH_REGEX","modifiers":1,"location":[57,10,57,203],"scope":"Mail\\Util\\Parser","value":"'(?:ene(?:ro)?|feb(?:rero)?|mar(?:zo)?|abr(?:il)?|may(?:o)?|jun(?:io)?|jul(?:io)|ago(?:sto)|se[pt](?:tiembre)?|oct(?:ubre)?|nov(?:iembre)?|dic(?:iembre)?|(?:[0-1]?[0-9]))'"},{"kind":1024,"name":"MONTH_ENGLISH_REGEX","modifiers":1,"location":[61,10,61,192],"scope":"Mail\\Util\\Parser","value":"'(?:jan(?:uary)?|feb(?:ruary)?|mar(?:ch)?|apr(?:il)?|may|jun(?:e)?|jul(?:y)|aug(?:ust)|sep(?:tember)?|oct(?:ober)?|nov(?:ember)?|dec(?:ember)?|(?:[0-1]?[0-9]))'"},{"kind":1024,"name":"DAY_OF_MONTH_REGEX","modifiers":1,"location":[65,10,65,48],"scope":"Mail\\Util\\Parser","value":"'(?:[0-3])?[0-9]'"},{"kind":1024,"name":"DAY_SPANISH_REGEX","modifiers":1,"location":[69,10,69,129],"scope":"Mail\\Util\\Parser","value":"'(?:lun(?:es)?|mar(?:tes)?|mi[eé](?:rcoles)?|jue(?:ves)?|vie(?:rnes)?|s[aá]b(?:ado)?|dom(?:ingo)?)'"},{"kind":1024,"name":"DAY_ENGLISH_REGEX","modifiers":1,"location":[73,10,73,127],"scope":"Mail\\Util\\Parser","value":"'(?:mon(?:day)?|tue(?:sday)?|wed(?:nesday)?|thu(?:rsday)?|fri(?:day)?|sat(?:urday)?|sun(?:day)?)'"},{"kind":1024,"name":"HOUR_REGEX","modifiers":1,"location":[77,10,77,100],"scope":"Mail\\Util\\Parser","value":"'(?:[0-2])?[0-9]:[0-5][0-9](?:\\:[0-5][0-9])?(?:(?:\\s)?[a|p](?:\\.)?m(?:\\.)?)?'"},{"kind":1024,"name":"DATE_REGEX","modifiers":1,"location":[81,10,81,134],"scope":"Mail\\Util\\Parser","value":"'(?:[0-2](?:[0-9]{3})-[0-1][0-9]-[0-3][0-9]|(?:[0-3])?[0-9]\\\\\\\\\\/[0-1]?[0-9]\\\\\\\\\\/(?:[0-2][0-9])?(?:[0-9]{2}))'"},{"kind":1024,"name":"DATE_TYPE_REGEX","modifiers":1,"location":[85,10,85,66],"scope":"Mail\\Util\\Parser","value":"'(?:GMT)?[-+][0-2][0-9](:)?[0-9][0-9]'"},{"kind":1024,"name":"HULI_FROM_NAME_REGEX","modifiers":1,"location":[89,10,89,84],"scope":"Mail\\Util\\Parser","value":"'(?P<a>\")?HuliPractice \\((?:QA|STAGING)?\\)(?(a)\"|)'"},{"kind":1024,"name":"HULI_EMAIL_REGEX","modifiers":1,"location":[93,10,93,91],"scope":"Mail\\Util\\Parser","value":"'(?P<o><)?(?:\\n)?(?:testing\\.qa\\+)?team@hulilabs\\.com(?(o)>|)'"},{"kind":1024,"name":"PHONE_SYSTEM_REGEX","modifiers":1,"location":[97,10,97,51],"scope":"Mail\\Util\\Parser","value":"'(?:android|iphone)'"},{"kind":1024,"name":"NEW_MESSAGE_CONTENT_REGEX","modifiers":1,"location":[101,10,101,52],"scope":"Mail\\Util\\Parser","value":"'((?:.|\\n|)*)'"},{"kind":16,"name":"$gmail_spanish_regex","modifiers":4,"location":[110,12,110,32],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$gmail_english_regex","modifiers":4,"location":[115,12,115,32],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$gmail_android_spanish_regex","modifiers":4,"location":[120,12,120,40],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$gmail_android_english_regex","modifiers":4,"location":[125,12,125,40],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$gmail_iphone_english_regex","modifiers":4,"location":[130,12,130,39],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$yahoo_spanish_regex","modifiers":4,"location":[135,12,135,32],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$yahoo_english_regex","modifiers":4,"location":[140,12,140,32],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$yahoo_android_spanish_regex","modifiers":4,"location":[145,12,145,40],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$icloud_english_regex","modifiers":4,"location":[151,12,151,33],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$outlook_english_android_regex","modifiers":4,"location":[156,12,156,42],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$outlook_spanish_android_regex","modifiers":4,"location":[161,12,161,42],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$outlook_spanish_2010_regex","modifiers":4,"location":[166,12,166,39],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$outlook_english_regex","modifiers":4,"location":[171,12,171,34],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$outlook_spanish_regex","modifiers":4,"location":[176,12,176,34],"scope":"Mail\\Util\\Parser"},{"kind":16,"name":"$message","modifiers":1,"location":[182,11,182,19],"scope":"Mail\\Util\\Parser","type":"string"},{"kind":16,"name":"$match_rule","modifiers":4,"location":[188,12,188,23],"scope":"Mail\\Util\\Parser","type":"int"},{"kind":32,"name":"__construct","modifiers":1,"location":[193,4,196,5],"description":"Defines the available rules","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"process_message_body","modifiers":1,"location":[202,4,214,5],"description":"Processes the message for get the real message that wrote the doctor","scope":"Mail\\Util\\Parser","children":[{"kind":128,"name":"$msg","location":[202,41,202,45],"scope":"process_message_body","type":"object"}]},{"kind":32,"name":"save_rule_match","modifiers":4,"location":[220,4,229,5],"description":"Saves the rule used for parser the email body","scope":"Mail\\Util\\Parser","children":[{"kind":128,"name":"$msg","location":[220,37,220,41],"scope":"save_rule_match","type":"object"}]},{"kind":32,"name":"save_not_specific_match","modifiers":4,"location":[235,4,241,5],"description":"Saves when any specific rule did matched","scope":"Mail\\Util\\Parser","children":[{"kind":128,"name":"$msg","location":[235,45,235,49],"scope":"save_not_specific_match","type":"object"}]},{"kind":32,"name":"get_email_service_provider","modifiers":4,"location":[248,4,253,5],"description":"Gets the email service provider","scope":"Mail\\Util\\Parser","type":"string","children":[{"kind":128,"name":"$from_email","location":[248,48,248,59],"scope":"get_email_service_provider","type":"string"}]},{"kind":32,"name":"apply_specific_rules","modifiers":4,"location":[259,4,270,5],"description":"Applies all the specifics rules to msg_body","scope":"Mail\\Util\\Parser","children":[{"kind":128,"name":"$msg_body","location":[259,42,259,51],"scope":"apply_specific_rules","type":"string"}]},{"kind":32,"name":"apply_generic_rules","modifiers":4,"location":[276,4,287,5],"description":"Applies all the specifics rules to msg_body","scope":"Mail\\Util\\Parser","children":[{"kind":128,"name":"$msg_body","location":[276,41,276,50],"scope":"apply_generic_rules","type":"string"}]},{"kind":32,"name":"get_specific_rules","modifiers":4,"location":[293,4,311,5],"description":"Gets all the available rules","scope":"Mail\\Util\\Parser","type":"array"},{"kind":32,"name":"get_generic_rules","modifiers":4,"location":[317,4,350,5],"description":"Gets generic rules to apply","scope":"Mail\\Util\\Parser","type":"array"},{"kind":32,"name":"clean_message","modifiers":4,"location":[355,4,358,5],"description":"Cleans the message for don't send garbage to user","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"remove_http_text","modifiers":4,"location":[363,4,368,5],"description":"Removes the http tags and content from the message","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"remove_reply_text","modifiers":4,"location":[373,4,378,5],"description":"Removes the lines that start with >","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"remove_last_line_breaks","modifiers":4,"location":[383,4,388,5],"description":"Removes all the last \\n from the message","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"define_rules","modifiers":4,"location":[393,4,399,5],"description":"Defines the available rules to apply","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"define_gmail_rules","modifiers":4,"location":[404,4,462,5],"description":"Defines the available gmail rules to apply","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"define_yahoo_rules","modifiers":4,"location":[467,4,501,5],"description":"Defines the available yahoo rules to apply","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"define_icloud_rules","modifiers":4,"location":[506,4,519,5],"description":"Defines the available icloud rules to apply","scope":"Mail\\Util\\Parser"},{"kind":32,"name":"define_outlook_rules","modifiers":4,"location":[524,4,587,5],"description":"Defines the available outlook rules to apply","scope":"Mail\\Util\\Parser"}]}]}}