{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Entity/PatientFile/SyncedAccess.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Entity\\PatientFile","location":[11,0,11,32]},{"kind":1,"name":"PatientFileEntity","modifiers":4096,"location":[13,5,13,47],"associated":[{"kind":1,"name":"HH\\Entity\\PatientFile"}]},{"kind":1,"name":"ISession","modifiers":4096,"location":[14,5,14,33],"associated":[{"kind":1,"name":"Huli\\Authentication\\ISession"}]},{"kind":1,"name":"PracticeContext","modifiers":4096,"location":[15,5,15,59],"associated":[{"kind":1,"name":"Huli\\Authorization\\Context\\Practice"}]},{"kind":1,"name":"PracticeAuthorization","modifiers":4096,"location":[16,5,16,65],"associated":[{"kind":1,"name":"Huli\\Authorization\\Factory\\Practice"}]},{"kind":1,"name":"Runtime","modifiers":4096,"location":[17,5,17,31],"associated":[{"kind":1,"name":"Huli\\Authorization\\Runtime"}]},{"kind":1,"name":"Transaction","modifiers":4096,"location":[18,5,18,30],"associated":[{"kind":1,"name":"Huli\\Database\\Transaction"}]},{"kind":1,"name":"TaskQueue","modifiers":4096,"location":[19,5,19,40],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\TaskQueue"}]},{"kind":1,"name":"HH\\Entity\\PatientFile\\SyncedAccess","modifiers":8,"location":[25,0,316,1],"description":"Utility class for practice controllers related to the Patient EHR File. Can\nbe used to validate access to a patient file and it's synchronized versions.","children":[{"kind":16,"name":"$id_owner","modifiers":4,"location":[32,12,32,21],"scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"int"},{"kind":16,"name":"$id_patient_file","modifiers":4,"location":[39,12,39,28],"scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"int"},{"kind":16,"name":"$transaction","modifiers":4,"location":[44,12,44,24],"scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"Huli\\Database\\Transaction"},{"kind":16,"name":"$task_queue","modifiers":4,"location":[49,12,49,23],"scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"Huli\\Http\\Request\\Handler\\TaskQueue"},{"kind":16,"name":"$ref_feature","modifiers":4,"location":[56,12,56,24],"scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"int"},{"kind":16,"name":"$copy","modifiers":4,"location":[58,12,58,25],"scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"int"},{"kind":16,"name":"$session","modifiers":4,"location":[65,12,65,20],"scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"Huli\\Authentication\\ISession"},{"kind":16,"name":"$cur_feature","modifiers":4,"location":[72,12,72,24],"scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"int"},{"kind":32,"name":"__construct","modifiers":1,"location":[74,4,79,5],"description":"Features to check based on the passed owner for the patient file","scope":"HH\\Entity\\PatientFile\\SyncedAccess","children":[{"kind":128,"name":"$session","location":[74,32,74,49],"scope":"__construct","typeSource":1,"type":"Huli\\Authentication\\ISession"},{"kind":128,"name":"$id_owner","location":[74,51,74,60],"scope":"__construct"},{"kind":128,"name":"$id_patient_file","location":[74,62,74,78],"scope":"__construct"}]},{"kind":32,"name":"get_access","modifiers":1,"location":[86,4,89,5],"description":"Retrieves the access that can be passed to handlers or other libraries","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"HH\\Entity\\PatientFile\\IAccess"},{"kind":32,"name":"get_id_patient_file","modifiers":1,"location":[96,4,99,5],"description":"Returns the real id_patient_file","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"int"},{"kind":32,"name":"get_id_owner","modifiers":1,"location":[106,4,109,5],"description":"Retrieves the id_owner stored.","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"int"},{"kind":32,"name":"set_transaction","modifiers":1,"location":[116,4,122,5],"description":"Sets the transaction to be used when making a copy of a patient file","scope":"HH\\Entity\\PatientFile\\SyncedAccess","children":[{"kind":128,"name":"$transaction","location":[116,36,116,60],"scope":"set_transaction","typeSource":1,"type":"Huli\\Database\\Transaction"}]},{"kind":32,"name":"set_task_queue","modifiers":1,"location":[129,4,134,5],"description":"Sets the task queue to be used when making a copy of a patient file","scope":"HH\\Entity\\PatientFile\\SyncedAccess","children":[{"kind":128,"name":"$task_queue","location":[129,35,129,56],"scope":"set_task_queue","typeSource":1,"type":"Huli\\Http\\Request\\Handler\\TaskQueue"}]},{"kind":32,"name":"begin_transaction","modifiers":1,"location":[142,4,147,5],"description":"Begins the transaction for this object, call this function if you need\nto retrieve a synced copy even if it doesn't exist.","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"HH\\Entity\\PatientFile\\SyncedAccess"},{"kind":32,"name":"commit_transaction","modifiers":1,"location":[157,4,166,5],"description":"Commit actual transaction\nThis method must be called when the library is called inside a handler and not a controller","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"HH\\Entity\\PatientFile\\SyncedAccess","children":[{"kind":128,"name":"$rollback","location":[157,39,157,48],"description":"whether or not to rollback\n","scope":"commit_transaction","type":"bool"}]},{"kind":32,"name":"end_transaction","modifiers":1,"location":[176,4,186,5],"description":"Must call this function in order to either commit or rollback the\ncurrent transaction. This method must be called when the library is used on a controller","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"HH\\Entity\\PatientFile\\SyncedAccess","children":[{"kind":128,"name":"$rollback","location":[176,36,176,45],"description":"whether or not to rollback\n","scope":"end_transaction","type":"bool"}]},{"kind":32,"name":"get_context","modifiers":1,"location":[193,4,196,5],"description":"Retrieves the context in use","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"HH\\Entity\\PatientFile\\IContext"},{"kind":32,"name":"validate","modifiers":1,"location":[213,4,228,5],"description":"Validate the access of the current user upon the passed patient file and\nowner. It may create a synced copy of the given patient file in case\nthat the owner doesn't have one yet. If the validation fails, execution\nwill be terminated.","scope":"HH\\Entity\\PatientFile\\SyncedAccess","children":[{"kind":128,"name":"$ref_feature","location":[213,29,213,41],"description":"the feature to which a user needs to have access\nbased on the initial id_patient_file. This means\nthat this feature will be checked upon the real\nowner of the patient file.","scope":"validate","type":"int"},{"kind":128,"name":"$cur_feature","location":[213,43,213,55],"description":"feature to which a user needs to have access\nbased on the current owner (passed in the\nrequest). This means this feature (or features)\nwill be checked upon the passed id owner.","scope":"validate","type":"int"}]},{"kind":32,"name":"validate_and_continue","modifiers":1,"location":[247,4,258,5],"description":"Validate the access of the current user upon the passed patient file and\nowner. It may create a synced copy of the given patient file in case\nthat the owner doesn't have one yet. The result of the validation will\nbe stored in the \"valid\" property.","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"bool","children":[{"kind":128,"name":"$ref_feature","location":[247,42,247,54],"description":"the feature to which a user needs to have access\nbased on the initial id_patient_file. This means\nthat this feature will be checked upon the real\nowner of the patient file.","scope":"validate_and_continue","type":"int"},{"kind":128,"name":"$cur_feature","location":[247,56,247,68],"description":"feature to which a user needs to have access\nbased on the current owner (passed in the\nrequest). This means this feature (or features)\nwill be checked upon the passed id owner.\n","scope":"validate_and_continue","type":"int"}]},{"kind":32,"name":"validate_with_callback","modifiers":4,"location":[279,4,315,5],"description":"Validate the access of the current user upon the passed patient file and\nowner. It may create a synced copy of the given patient file in case\nthat the owner doesn't have one yet.","scope":"HH\\Entity\\PatientFile\\SyncedAccess","type":"mixed","children":[{"kind":128,"name":"$callback","location":[279,44,279,62],"description":"decides what to do during the access\nverification.","scope":"validate_with_callback","type":"callable"},{"kind":128,"name":"$ref_feature","location":[279,64,279,76],"description":"the feature to which a user needs to have\naccess based on the initial id_patient_file.\nThis means that this feature will be\nchecked upon the real owner of the patient\nfile.","scope":"validate_with_callback","type":"int"},{"kind":128,"name":"$cur_feature","location":[279,78,279,90],"description":"feature to which a user needs to have access\nbased on the current owner (passed in the\nrequest). This means this feature (or features)\nwill be checked upon the passed id owner.\n","scope":"validate_with_callback","type":"int"}]}]}]}}