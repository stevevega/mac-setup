{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/PracticeAPI/Handler/Calendar/Doctor/Get.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor","location":[12,0,12,49]},{"kind":1,"name":"CalendarParams","modifiers":4096,"location":[14,5,14,41],"associated":[{"kind":1,"name":"HH\\Calendar\\Params"}]},{"kind":1,"name":"CalendarDate","modifiers":4096,"location":[15,5,15,34],"associated":[{"kind":1,"name":"HH\\Calendar\\Util\\CalendarDate"}]},{"kind":1,"name":"ClinicValidator","modifiers":4096,"location":[16,5,16,50],"associated":[{"kind":1,"name":"HH\\Entity\\Clinic\\Validator"}]},{"kind":1,"name":"EventMobileGet","modifiers":4096,"location":[17,5,17,75],"associated":[{"kind":1,"name":"HH\\PracticeAPI\\Handler\\Appointment\\Mobile\\Doctor\\Get"}]},{"kind":1,"name":"EventGet","modifiers":4096,"location":[18,5,18,65],"associated":[{"kind":1,"name":"HH\\PracticeAPI\\Handler\\Event\\Calendar\\Doctor\\Get"}]},{"kind":1,"name":"PatientGet","modifiers":4096,"location":[19,5,19,66],"associated":[{"kind":1,"name":"HH\\PracticeAPI\\Handler\\PatientFile\\Calendar\\Get"}]},{"kind":1,"name":"HErrorCode","modifiers":4096,"location":[20,5,20,40],"associated":[{"kind":1,"name":"HH\\Request\\Error\\Code"}]},{"kind":1,"name":"Alias","modifiers":4096,"location":[21,5,21,26],"associated":[{"kind":1,"name":"HH\\Request\\Util\\Alias"}]},{"kind":1,"name":"IRequest","modifiers":4096,"location":[22,5,22,23],"associated":[{"kind":1,"name":"Huli\\Http\\IRequest"}]},{"kind":1,"name":"Error","modifiers":4096,"location":[23,5,23,28],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Error"}]},{"kind":1,"name":"ErrorCode","modifiers":4096,"location":[24,5,24,46],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Error\\Code"}]},{"kind":1,"name":"Child","modifiers":4096,"location":[25,5,25,36],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\Child"}]},{"kind":1,"name":"Field","modifiers":4096,"location":[26,5,26,36],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\Field"}]},{"kind":1,"name":"IAfterChildren","modifiers":4096,"location":[27,5,27,50],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\Hook\\IAfterChildren"}]},{"kind":1,"name":"IAfterHandle","modifiers":4096,"location":[28,5,28,48],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\Hook\\IAfterHandle"}]},{"kind":1,"name":"IGet","modifiers":4096,"location":[29,5,29,35],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\IGet"}]},{"kind":1,"name":"TContext","modifiers":4096,"location":[30,5,30,39],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\TContext"}]},{"kind":1,"name":"CalendarModel","modifiers":4096,"location":[31,5,31,36],"associated":[{"kind":1,"name":"Model\\Calendar"}]},{"kind":1,"name":"ClinicModel","modifiers":4096,"location":[32,5,32,32],"associated":[{"kind":1,"name":"Model\\Clinic"}]},{"kind":1,"name":"DoctorModel","modifiers":4096,"location":[33,5,33,32],"associated":[{"kind":1,"name":"Model\\Doctor"}]},{"kind":1,"name":"EventRecordModel","modifiers":4096,"location":[34,5,34,43],"associated":[{"kind":1,"name":"Model\\Event\\Record"}]},{"kind":1,"name":"LanguageModel","modifiers":4096,"location":[35,5,35,36],"associated":[{"kind":1,"name":"Model\\Language"}]},{"kind":1,"name":"PatientFileModel","modifiers":4096,"location":[36,5,36,43],"associated":[{"kind":1,"name":"Model\\Patient\\File"}]},{"kind":1,"name":"UserModel","modifiers":4096,"location":[37,5,37,28],"associated":[{"kind":1,"name":"Model\\User"}]},{"kind":1,"name":"stdClass","modifiers":4096,"location":[38,5,38,13],"associated":[{"kind":1,"name":"stdClass"}]},{"kind":1,"name":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","location":[43,0,386,1],"associated":[{"kind":2,"name":"Huli\\Http\\Request\\Handler\\IGet"},{"kind":2,"name":"Huli\\Http\\Request\\Handler\\Hook\\IAfterHandle"},{"kind":2,"name":"Huli\\Http\\Request\\Handler\\Hook\\IAfterChildren"},{"kind":4,"name":"Huli\\Http\\Request\\Handler\\TContext"}],"description":"This handler retrieves the doctor practice calendar.","children":[{"kind":1024,"name":"EVENTS","modifiers":1,"location":[50,10,50,27],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","value":"'events'"},{"kind":1024,"name":"DAYS_WITH_EVENTS","modifiers":1,"location":[51,10,51,47],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","value":"'days_with_events'"},{"kind":1024,"name":"PATIENTS","modifiers":1,"location":[52,10,52,31],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","value":"'patients'"},{"kind":1024,"name":"MAX_ALLOWED_EVENTS","modifiers":1,"location":[53,10,53,35],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","value":"5000"},{"kind":1024,"name":"ERROR_MAX_ALLOWED_EVENTS","modifiers":1,"location":[54,10,54,63],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","value":"'error_max_allowed_events'"},{"kind":1024,"name":"ID_CLINICS","modifiers":1,"location":[55,10,55,35],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","value":"'id_clinics'"},{"kind":16,"name":"$id_user","modifiers":1,"location":[60,11,60,19],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$id_language","modifiers":1,"location":[61,11,61,23],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$cid","modifiers":1,"location":[63,11,63,15],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$end_date","modifiers":1,"location":[64,11,64,20],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$id_calendar","modifiers":1,"location":[65,11,65,23],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$id_clinic","modifiers":1,"location":[66,11,66,21],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$id_clinics","modifiers":1,"location":[67,11,67,22],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$id_doctor","modifiers":1,"location":[68,11,68,21],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$init","modifiers":1,"location":[69,11,69,24],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$is_mobile_version","modifiers":1,"location":[70,11,70,29],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$start_date","modifiers":1,"location":[71,11,71,22],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":16,"name":"$data","modifiers":4,"location":[78,12,78,17],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","type":"Model\\Calendar"},{"kind":16,"name":"$has_patients","modifiers":4,"location":[86,12,86,33],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","type":"bool"},{"kind":32,"name":"set_id_clinic","modifiers":1,"location":[93,4,96,5],"description":"Sets id_clinics value as array","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","children":[{"kind":128,"name":"$id_clinic","location":[93,34,93,51],"scope":"set_id_clinic","typeSource":1,"type":"string"}]},{"kind":32,"name":"set_start_date","modifiers":1,"location":[105,4,112,5],"description":"Sets the date of the start of the event","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","type":"Huli\\Http\\Request\\Error|null","children":[{"kind":128,"name":"$start_date","location":[105,35,105,53],"scope":"set_start_date","typeSource":1,"type":"string"}]},{"kind":32,"name":"set_end_date","modifiers":1,"location":[123,4,130,5],"description":"Sets the date and time of the end of the event, this method should\nbe called after set_date_from otherwise it will fail","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","type":"Huli\\Http\\Request\\Error|null","children":[{"kind":128,"name":"$end_date","location":[123,33,123,49],"scope":"set_end_date","typeSource":1,"type":"string"}]},{"kind":32,"name":"get_request_fields","modifiers":1,"location":[135,4,165,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":32,"name":"get_children_requests","modifiers":1,"location":[170,4,189,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get"},{"kind":32,"name":"get_handler_type","modifiers":1,"location":[194,4,197,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","typeSource":1,"type":"int"},{"kind":32,"name":"get_handler_name","modifiers":1,"location":[202,4,205,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","typeSource":1,"type":"string"},{"kind":32,"name":"has_access","modifiers":1,"location":[210,4,213,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","typeSource":1,"type":"bool"},{"kind":32,"name":"handle","modifiers":1,"location":[231,4,249,5],"description":"Retrieves the calendar required\nCreate parent object to send a request of the form:\n{\n\"calendar\": {\n\"cid\": 55,\n\"slot\": 30\n},\n\"events\": {.....},\n\"patients\": {.....}\n}","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","type":"stdClass","children":[{"kind":128,"name":"$processed_fields","location":[231,27,231,50],"scope":"handle"}]},{"kind":32,"name":"after_handle","modifiers":1,"location":[254,4,269,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","typeSource":1,"type":"Huli\\Http\\IRequest","children":[{"kind":128,"name":"$req","location":[254,33,254,46],"scope":"after_handle","typeSource":1,"type":"Huli\\Http\\IRequest"}]},{"kind":32,"name":"after_children","modifiers":1,"location":[274,4,290,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","typeSource":1,"type":"Huli\\Http\\IRequest","children":[{"kind":128,"name":"$req","location":[274,35,274,48],"scope":"after_children","typeSource":1,"type":"Huli\\Http\\IRequest"}]},{"kind":32,"name":"set_requested_id_clinics","modifiers":4,"location":[304,4,320,5],"description":"Sets the value of id_clinics using the following logic:\n\n- If \"id_clinic\" is empty and the field \"init\" is true then get all the\nclinics of the doctor (active and inactive).\n- Else if 'id_clinic' is empty and the field 'init' is empty get only\nINACTIVE clinics.\n- Else if 'id_clinic' is not empty get the requested clinics and all\nthe INACTIVE clinics.","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","children":[{"kind":128,"name":"$req","location":[304,46,304,59],"scope":"set_requested_id_clinics","typeSource":1,"type":"Huli\\Http\\IRequest"}]},{"kind":32,"name":"has_no_cal","modifiers":4,"location":[327,4,330,5],"description":"Simply returns whether any calendar information was found.","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","typeSource":1,"type":"bool"},{"kind":32,"name":"process_patients","modifiers":4,"location":[343,4,357,5],"description":"Process patients to get patient information.\n\nIf the events requests contain any patient file ids, both first name and\nlast name will be retrieved for each one.","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","typeSource":1,"type":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","children":[{"kind":128,"name":"$req","location":[343,38,343,51],"scope":"process_patients","typeSource":1,"type":"Huli\\Http\\IRequest"},{"kind":128,"name":"$data","location":[343,53,343,58],"scope":"process_patients","type":"object"}]},{"kind":32,"name":"process_events","modifiers":4,"location":[368,4,385,5],"description":"Validate if exist event into $event_children and is less that max_allowed\nevents.","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","typeSource":1,"type":"HH\\PracticeAPI\\Handler\\Calendar\\Doctor\\Get","children":[{"kind":128,"name":"$req","location":[368,36,368,49],"scope":"process_events","typeSource":1,"type":"Huli\\Http\\IRequest"},{"kind":128,"name":"$data","location":[368,51,368,56],"scope":"process_events","type":"object"}]}]}]}}