{"uri":"file:///Users/vega/Code/huli/manager-web/src/scripts/ExternalImporter/catolica.php","root":{"kind":0,"name":"","children":[{"kind":1,"name":"Type","modifiers":4096,"location":[2,5,2,26],"associated":[{"kind":1,"name":"Box\\Spout\\Common\\Type"}]},{"kind":1,"name":"ReaderFactory","modifiers":4096,"location":[3,5,3,35],"associated":[{"kind":1,"name":"Box\\Spout\\Reader\\ReaderFactory"}]},{"kind":1,"name":"Session","modifiers":4096,"location":[4,5,4,24],"associated":[{"kind":1,"name":"HH\\Catolica\\Session"}]},{"kind":1,"name":"CatolicaPatientFileSave","modifiers":4096,"location":[5,5,5,76],"associated":[{"kind":1,"name":"HH\\Request\\Handler\\Catolica\\PatientFile\\Save"}]},{"kind":1,"name":"EventDoctorSave","modifiers":4096,"location":[6,5,6,69],"associated":[{"kind":1,"name":"HH\\Request\\Handler\\Event\\Calendar\\Doctor\\Save"}]},{"kind":1,"name":"ObjectRequest","modifiers":4096,"location":[7,5,7,44],"associated":[{"kind":1,"name":"HH\\Request\\Type\\Object"}]},{"kind":1,"name":"CitizenRegisterCore","modifiers":4096,"location":[8,5,8,56],"associated":[{"kind":1,"name":"HH\\Search\\Cores\\CitizenRegister\\CitizenRegisterCore"}]},{"kind":1,"name":"Date","modifiers":4096,"location":[9,5,9,17],"associated":[{"kind":1,"name":"HH\\Util\\Date"}]},{"kind":1,"name":"TConsoleInOut","modifiers":4096,"location":[10,5,10,33],"associated":[{"kind":1,"name":"HH\\Util\\Script\\TConsoleInOut"}]},{"kind":1,"name":"MergeAccess","modifiers":4096,"location":[11,5,11,51],"associated":[{"kind":1,"name":"Huli\\Authorization\\Access\\Merge"}]},{"kind":1,"name":"Transaction","modifiers":4096,"location":[12,5,12,30],"associated":[{"kind":1,"name":"Huli\\Database\\Transaction"}]},{"kind":1,"name":"TaskQueue","modifiers":4096,"location":[13,5,13,40],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\TaskQueue"}]},{"kind":1,"name":"App","modifiers":4096,"location":[14,5,14,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"CatolicaAppointmentModel","modifiers":4096,"location":[15,5,15,59],"associated":[{"kind":1,"name":"Model\\Catolica\\Appointment"}]},{"kind":1,"name":"CatolicaDoctorModel","modifiers":4096,"location":[16,5,16,49],"associated":[{"kind":1,"name":"Model\\Catolica\\Doctor"}]},{"kind":1,"name":"CatolicaPatientModel","modifiers":4096,"location":[17,5,17,51],"associated":[{"kind":1,"name":"Model\\Catolica\\Patient"}]},{"kind":1,"name":"CatolicaPatientPhoneModel","modifiers":4096,"location":[18,5,18,61],"associated":[{"kind":1,"name":"Model\\Catolica\\PatientPhone"}]},{"kind":1,"name":"CitizenRegisterModel","modifiers":4096,"location":[19,5,19,51],"associated":[{"kind":1,"name":"Model\\Citizen\\Register"}]},{"kind":1,"name":"DoctorModel","modifiers":4096,"location":[20,5,20,32],"associated":[{"kind":1,"name":"Model\\Doctor"}]},{"kind":1,"name":"PatientFileModel","modifiers":4096,"location":[21,5,21,43],"associated":[{"kind":1,"name":"Model\\Patient\\File"}]},{"kind":1,"name":"Migrate","location":[33,0,779,1],"associated":[{"kind":4,"name":"HH\\Util\\Script\\TConsoleInOut"}],"description":"This class allow to migrate an csv files to the database","children":[{"kind":1024,"name":"APPOINTMENTS_FILE","modifiers":1,"location":[41,10,41,50],"scope":"Migrate","value":"'citas_catolica.csv'"},{"kind":1024,"name":"DOCTORS_FILE","modifiers":1,"location":[42,10,42,48],"scope":"Migrate","value":"'doctores_catolica.csv'"},{"kind":1024,"name":"PATIENTS_FILE","modifiers":1,"location":[43,10,43,50],"scope":"Migrate","value":"'pacientes_catolica.csv'"},{"kind":1024,"name":"UNTIMED_APPOINTMENTS_FILE","modifiers":1,"location":[44,10,44,67],"scope":"Migrate","value":"'citas_sin_hora_catolica.csv'"},{"kind":1024,"name":"CATOLICA_FILES","modifiers":1,"location":[46,10,51,5],"scope":"Migrate","value":"[\n        self::PATIENTS_FILE,\n        self::DOCTORS_FILE,\n        self::APPOINTMENTS_FILE,\n        self::UNTIMED_APPOINTMENTS_FILE\n    ]"},{"kind":1024,"name":"PROVINCES","modifiers":1,"location":[53,10,61,5],"scope":"Migrate","value":"[\n        'ALAJUELA' => 727,\n        'CARTAGO' => 728,\n        'GUANACASTE' => 729,\n        'HEREDIA' => 730,\n        'LIMON' => 731,\n        'PUNTARENAS' => 732,\n        'SAN JOSE' => 733\n    ]"},{"kind":32,"name":"__construct","modifiers":1,"location":[66,4,96,5],"description":"Class constructor","scope":"Migrate"},{"kind":32,"name":"start","modifiers":4,"location":[98,4,122,5],"scope":"Migrate"},{"kind":32,"name":"process_file","modifiers":4,"location":[130,4,157,5],"description":"Process the files that will be inserted to the database","scope":"Migrate","children":[{"kind":128,"name":"$directory_path","location":[130,34,130,49],"scope":"process_file","type":"string"},{"kind":128,"name":"$file","location":[130,51,130,56],"scope":"process_file","type":"string"}]},{"kind":32,"name":"process_patients","modifiers":4,"location":[165,4,176,5],"description":"Process patients ignoring the column headers if required","scope":"Migrate","children":[{"kind":128,"name":"$opened_file","location":[165,38,165,50],"scope":"process_patients","type":"string"},{"kind":128,"name":"$ignore_column_headers","location":[165,52,165,81],"scope":"process_patients","value":"true","type":"bool"}]},{"kind":32,"name":"process_doctors","modifiers":4,"location":[184,4,194,5],"description":"Process doctors ignoring the column headers if required","scope":"Migrate","children":[{"kind":128,"name":"$opened_file","location":[184,37,184,49],"scope":"process_doctors","type":"string"},{"kind":128,"name":"$ignore_column_headers","location":[184,51,184,80],"scope":"process_doctors","value":"true","type":"bool"}]},{"kind":32,"name":"process_appointments","modifiers":4,"location":[202,4,214,5],"description":"Process appointments ignoring the column headers if required","scope":"Migrate","children":[{"kind":128,"name":"$opened_file","location":[202,42,202,54],"scope":"process_appointments","type":"string"},{"kind":128,"name":"$ignore_column_headers","location":[202,56,202,85],"scope":"process_appointments","value":"true","type":"bool"}]},{"kind":32,"name":"process_untimed_appointments","modifiers":4,"location":[222,4,233,5],"description":"Process untimed appointments (reminders)","scope":"Migrate","children":[{"kind":128,"name":"$opened_file","location":[222,50,222,62],"scope":"process_untimed_appointments","type":"string"},{"kind":128,"name":"$ignore_column_headers","location":[222,64,222,93],"scope":"process_untimed_appointments","value":"true","type":"bool"}]},{"kind":32,"name":"process_patient_data","modifiers":4,"location":[240,4,269,5],"description":"Process patient data, formatting each of the fields if required","scope":"Migrate","children":[{"kind":128,"name":"$patient_data","location":[240,42,240,55],"scope":"process_patient_data","type":"array"}]},{"kind":32,"name":"format_identification","modifiers":4,"location":[276,4,306,5],"description":"Process an id field to extract only the numeric value","scope":"Migrate","children":[{"kind":128,"name":"$id","location":[276,43,276,46],"scope":"format_identification","type":"string"},{"kind":128,"name":"$patient","location":[276,48,276,66],"scope":"format_identification","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"format_name","modifiers":4,"location":[314,4,376,5],"description":"Format the name of the patient","scope":"Migrate","children":[{"kind":128,"name":"$name","location":[314,33,314,38],"scope":"format_name","type":"string"},{"kind":128,"name":"$patient","location":[314,40,314,58],"scope":"format_name","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"extract_name_notes","modifiers":4,"location":[385,4,396,5],"description":"Given a patient name it extracts the name notes\ni.e ALVARADO BRENES DANIEL **CONFIRMADO**","scope":"Migrate","children":[{"kind":128,"name":"$name","location":[385,40,385,45],"scope":"extract_name_notes","type":"string"},{"kind":128,"name":"$patient","location":[385,47,385,65],"scope":"extract_name_notes","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"format_phones","modifiers":4,"location":[404,4,433,5],"description":"Given a string filled with phones and notes, it extracts the phones and format them","scope":"Migrate","children":[{"kind":128,"name":"$phones","location":[404,35,404,42],"scope":"format_phones","type":"string"},{"kind":128,"name":"$patient","location":[404,44,404,62],"scope":"format_phones","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"get_phone_type","modifiers":4,"location":[442,4,456,5],"description":"Returns the phone type by its first character","scope":"Migrate","type":"int","children":[{"kind":128,"name":"$phone_number","location":[442,36,442,49],"scope":"get_phone_type","type":"string"}]},{"kind":32,"name":"process_doctor_data","modifiers":4,"location":[463,4,472,5],"description":"Process doctor data and save it","scope":"Migrate","children":[{"kind":128,"name":"$doctor_data","location":[463,41,463,53],"scope":"process_doctor_data","type":"array"}]},{"kind":32,"name":"process_appointment_data","modifiers":4,"location":[479,4,520,5],"description":"Process appointment data, formatting each of the fields if required","scope":"Migrate","children":[{"kind":128,"name":"$appointment_data","location":[479,46,479,63],"scope":"process_appointment_data","type":"array"}]},{"kind":32,"name":"process_untimed_appointment_data","modifiers":4,"location":[522,4,546,5],"scope":"Migrate","children":[{"kind":128,"name":"$untimed_appointment_data","location":[522,54,522,79],"scope":"process_untimed_appointment_data"}]},{"kind":32,"name":"save_processed_data_into_database","modifiers":4,"location":[551,4,593,5],"description":"Start the process of migrating the data from the temporary tables to the huli database","scope":"Migrate"},{"kind":32,"name":"get_catolica_patient","modifiers":4,"location":[595,4,617,5],"scope":"Migrate","children":[{"kind":128,"name":"$session","location":[595,42,595,50],"scope":"get_catolica_patient"},{"kind":128,"name":"$catolica_doctor","location":[595,52,595,68],"scope":"get_catolica_patient"},{"kind":128,"name":"$document_name","location":[595,70,595,84],"scope":"get_catolica_patient"},{"kind":128,"name":"$id_catolica_patient","location":[595,86,595,113],"scope":"get_catolica_patient","value":"null"}]},{"kind":32,"name":"get_id_patient_file","modifiers":4,"location":[619,4,694,5],"scope":"Migrate","children":[{"kind":128,"name":"$session","location":[619,41,619,49],"scope":"get_id_patient_file"},{"kind":128,"name":"$patient_data","location":[619,51,619,64],"scope":"get_id_patient_file"},{"kind":128,"name":"$doctor_data","location":[619,66,619,78],"scope":"get_id_patient_file"},{"kind":128,"name":"$unreferenced_patient_name","location":[619,80,619,113],"scope":"get_id_patient_file","value":"null"}]},{"kind":32,"name":"create_patient_file_object","modifiers":4,"location":[696,4,737,5],"scope":"Migrate","children":[{"kind":128,"name":"$patient_data","location":[696,48,696,61],"scope":"create_patient_file_object"},{"kind":128,"name":"$doctor_data","location":[696,63,696,75],"scope":"create_patient_file_object"}]},{"kind":32,"name":"create_appointment_object","modifiers":4,"location":[739,4,778,5],"scope":"Migrate","children":[{"kind":128,"name":"$catolica_doctor","location":[739,47,739,63],"scope":"create_appointment_object"},{"kind":128,"name":"$catolica_patient","location":[739,65,739,82],"scope":"create_appointment_object"},{"kind":128,"name":"$appointment_data","location":[739,84,739,101],"scope":"create_appointment_object"}]}]},{"kind":256,"name":"$migrator","location":[781,0,781,9]}]}}