{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Request/Handler/Authorization/Role/Save.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Request\\Handler\\Authorization\\Role","location":[11,0,11,48]},{"kind":1,"name":"AAlter","modifiers":4096,"location":[13,5,13,31],"associated":[{"kind":1,"name":"HH\\Request\\Behavior\\AAlter"}]},{"kind":1,"name":"Status","modifiers":4096,"location":[14,5,14,14],"associated":[{"kind":1,"name":"HH\\Status"}]},{"kind":1,"name":"UserRole","modifiers":4096,"location":[15,5,15,29],"associated":[{"kind":1,"name":"HH\\User\\Role"}]},{"kind":1,"name":"Organization","modifiers":4096,"location":[16,5,16,36],"associated":[{"kind":1,"name":"Huli\\Authorization\\Organization"}]},{"kind":1,"name":"App","modifiers":4096,"location":[17,5,17,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"AuthorizationModel","modifiers":4096,"location":[18,5,18,46],"associated":[{"kind":1,"name":"Model\\Authorization"}]},{"kind":1,"name":"OrganizationModel","modifiers":4096,"location":[19,5,19,44],"associated":[{"kind":1,"name":"Model\\Organization"}]},{"kind":1,"name":"UserModel","modifiers":4096,"location":[20,5,20,28],"associated":[{"kind":1,"name":"Model\\User"}]},{"kind":1,"name":"HH\\Request\\Handler\\Authorization\\Role\\Save","modifiers":8,"location":[27,0,266,1],"associated":[{"kind":1,"name":"HH\\Request\\Behavior\\AAlter"}],"description":"Save user authorization and user organization relationships","children":[{"kind":1024,"name":"CLINIC_OWNER","modifiers":1,"location":[32,10,32,39],"scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","value":"'clinic_owner'"},{"kind":1024,"name":"DESCRIPTION_FORMAT","modifiers":1,"location":[37,10,37,63],"scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","value":"'Organization entry for user %s'"},{"kind":16,"name":"$id_user","modifiers":2,"location":[44,14,44,22],"scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"int"},{"kind":16,"name":"$id_user_role","modifiers":2,"location":[51,14,51,27],"scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"int"},{"kind":16,"name":"$id_manager_system","modifiers":2,"location":[58,14,58,32],"scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"int"},{"kind":32,"name":"get_request_fields","modifiers":1,"location":[67,4,73,5],"description":"Requested fields to save","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save"},{"kind":32,"name":"get_children_requests","modifiers":1,"location":[82,4,95,5],"description":"No children implementation is needed","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save"},{"kind":32,"name":"include_last_insert_id","modifiers":2,"location":[104,4,107,5],"description":"There are not a main id inserted on this process so it is not needed to include it","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"bool"},{"kind":32,"name":"get_primary_key","modifiers":2,"location":[112,4,115,5],"description":"There are not a primary key on this process","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save"},{"kind":32,"name":"alter","modifiers":2,"location":[124,4,155,5],"description":"Save the user authorization or organization based on the user role","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"bool"},{"kind":32,"name":"save_doctor","modifiers":4,"location":[165,4,173,5],"description":"Handle cases when a doctor user will be saved\nAll doctors must have an entry on organization table as well as an entry on authorization\ntable relating the id user of the doctor as grantee and grantor with the organization\nof the doctor.","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"bool"},{"kind":32,"name":"save_clinic_owner","modifiers":4,"location":[183,4,191,5],"description":"Handle cases when a clinic owner will be saved\nAll clinic owner must have an entry on organization table as well an entry on authorization\ntable relating the id user of the clinic owner as grantee and grantor with the organization\nof the admin team user.","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"bool"},{"kind":32,"name":"save_assistant","modifiers":4,"location":[200,4,206,5],"description":"Handle cases when a assistant user will be saved\nAssistant authorization entries must be added only if the assistant will\nbe added to a closed clinic","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"bool"},{"kind":32,"name":"save_team_user","modifiers":4,"location":[215,4,221,5],"description":"Handle users that will be related to the team organization\nFor all users(except doctor, assistant) an entry on authorization must be created relating\nthe id user as grantee and grantor with the organization of the admin team user","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"bool"},{"kind":32,"name":"save_organization","modifiers":4,"location":[230,4,244,5],"description":"Save a new organization entry","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"bool","children":[{"kind":128,"name":"$is_private","location":[230,39,230,55],"scope":"save_organization","typeSource":1,"type":"bool"}]},{"kind":32,"name":"save_authorization","modifiers":4,"location":[254,4,265,5],"description":"Save a new authorization entry","scope":"HH\\Request\\Handler\\Authorization\\Role\\Save","type":"bool","children":[{"kind":128,"name":"$id_organization","location":[254,40,254,56],"scope":"save_authorization","type":"int"},{"kind":128,"name":"$status","location":[254,58,254,82],"scope":"save_authorization","value":"Status::ACTIVE","type":"bool"}]}]}]}}