{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Util/Script/Maintenance/CalendarSubscription.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Util\\Script\\Maintenance","location":[11,0,11,37]},{"kind":1,"name":"UtilSubscription","modifiers":4096,"location":[13,5,13,54],"associated":[{"kind":1,"name":"HH\\Util\\Calendar\\Subscription"}]},{"kind":1,"name":"Date","modifiers":4096,"location":[14,5,14,17],"associated":[{"kind":1,"name":"HH\\Util\\Date"}]},{"kind":1,"name":"AppointmentModel","modifiers":4096,"location":[15,5,15,42],"associated":[{"kind":1,"name":"Model\\Appointment"}]},{"kind":1,"name":"CalendarModel","modifiers":4096,"location":[16,5,16,36],"associated":[{"kind":1,"name":"Model\\Calendar"}]},{"kind":1,"name":"vCalendar","modifiers":4096,"location":[17,5,17,27],"associated":[{"kind":1,"name":"vcalendar"}]},{"kind":1,"name":"HH\\Util\\Script\\Maintenance\\CalendarSubscription","location":[24,0,188,1],"description":"Calendar subscription maintenance library\nThe calendar subscription file can became huge. This library remove the events of the pass 30 days\nof each of the active calendar subscription so the total of events on the subscription is reduced","children":[{"kind":16,"name":"$script_controller","modifiers":4,"location":[29,12,29,30],"scope":"HH\\Util\\Script\\Maintenance\\CalendarSubscription"},{"kind":16,"name":"$upload_handler","modifiers":4,"location":[36,12,36,27],"scope":"HH\\Util\\Script\\Maintenance\\CalendarSubscription","type":"object"},{"kind":32,"name":"__construct","modifiers":1,"location":[43,4,46,5],"description":"Appointment reminder controller","scope":"HH\\Util\\Script\\Maintenance\\CalendarSubscription","children":[{"kind":128,"name":"$script_controller","location":[43,32,43,50],"scope":"__construct","type":"object"}]},{"kind":32,"name":"start","modifiers":1,"location":[51,4,67,5],"description":"Start the calendar subscription maintenance process","scope":"HH\\Util\\Script\\Maintenance\\CalendarSubscription"},{"kind":32,"name":"set_upload_handler","modifiers":1,"location":[74,4,79,5],"description":"Set the upload handler file","scope":"HH\\Util\\Script\\Maintenance\\CalendarSubscription","children":[{"kind":128,"name":"$upload_handler","location":[74,39,74,54],"scope":"set_upload_handler","type":"object"}]},{"kind":32,"name":"process_doctor_subscription","modifiers":4,"location":[89,4,133,5],"description":"Process each of the doctor subscription\nThis method will removed all old events from the doctor calendar subscription","scope":"HH\\Util\\Script\\Maintenance\\CalendarSubscription","type":"bool","children":[{"kind":128,"name":"$id_doctor","location":[89,49,89,59],"scope":"process_doctor_subscription","type":"int"}]},{"kind":32,"name":"delete_calendar_events","modifiers":4,"location":[141,4,149,5],"description":"Delete the doctor calendar event from the doctor calendar subscription","scope":"HH\\Util\\Script\\Maintenance\\CalendarSubscription","children":[{"kind":128,"name":"$vcalendar","location":[141,44,141,64],"scope":"delete_calendar_events","typeSource":1,"type":"vcalendar"},{"kind":128,"name":"$events","location":[141,66,141,79],"scope":"delete_calendar_events","type":"array"}]},{"kind":32,"name":"get_events_to_delete","modifiers":4,"location":[159,4,187,5],"description":"Get all the events to be deleted from the doctor calendar subscription","scope":"HH\\Util\\Script\\Maintenance\\CalendarSubscription","type":"array","children":[{"kind":128,"name":"$id_doctor","location":[159,42,159,52],"scope":"get_events_to_delete","type":"int"},{"kind":128,"name":"$time_zone","location":[159,54,159,64],"scope":"get_events_to_delete","type":"string"}]}]}]}}