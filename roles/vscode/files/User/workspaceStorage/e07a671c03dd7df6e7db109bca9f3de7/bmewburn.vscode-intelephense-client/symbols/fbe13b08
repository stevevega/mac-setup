{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/UserProcess/AStep.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\UserProcess","location":[11,0,11,25]},{"kind":1,"name":"ARequest","modifiers":4096,"location":[13,5,13,21],"associated":[{"kind":1,"name":"HH\\Http\\ARequest"}]},{"kind":1,"name":"HHModule","modifiers":4096,"location":[14,5,14,34],"associated":[{"kind":1,"name":"HH\\Module\\Type\\HH"}]},{"kind":1,"name":"Urls","modifiers":4096,"location":[15,5,15,15],"associated":[{"kind":1,"name":"HH\\UI\\Urls"}]},{"kind":1,"name":"ErrorRenderer","modifiers":4096,"location":[16,5,16,45],"associated":[{"kind":1,"name":"HH\\UI\\UserProcess\\Error"}]},{"kind":1,"name":"LoginRequest","modifiers":4096,"location":[17,5,17,42],"associated":[{"kind":1,"name":"HH\\User\\Request\\Login"}]},{"kind":1,"name":"ISession","modifiers":4096,"location":[18,5,18,33],"associated":[{"kind":1,"name":"Huli\\Authentication\\ISession"}]},{"kind":1,"name":"UserContext","modifiers":4096,"location":[19,5,19,51],"associated":[{"kind":1,"name":"Huli\\Authorization\\Context\\User"}]},{"kind":1,"name":"UserAuthorization","modifiers":4096,"location":[20,5,20,57],"associated":[{"kind":1,"name":"Huli\\Authorization\\Factory\\User"}]},{"kind":1,"name":"Feature","modifiers":4096,"location":[21,5,21,31],"associated":[{"kind":1,"name":"Huli\\Authorization\\Feature"}]},{"kind":1,"name":"Runtime","modifiers":4096,"location":[22,5,22,31],"associated":[{"kind":1,"name":"Huli\\Authorization\\Runtime"}]},{"kind":1,"name":"Request","modifiers":4096,"location":[23,5,23,22],"associated":[{"kind":1,"name":"Kima\\Http\\Request"}]},{"kind":1,"name":"HH\\UserProcess\\AStep","modifiers":16,"location":[28,0,284,1],"associated":[{"kind":1,"name":"HH\\Http\\ARequest"}],"description":"Base class for classes than handle step by step process","children":[{"kind":1024,"name":"ERROR_USER_NOT_LOGGED_IN","modifiers":1,"location":[33,10,33,60],"scope":"HH\\UserProcess\\AStep","value":"'User is not logged in'"},{"kind":1024,"name":"R_SHOW_LOGIN","modifiers":1,"location":[38,10,38,29],"scope":"HH\\UserProcess\\AStep","value":"'sl'"},{"kind":1024,"name":"SHOW_LOGIN","modifiers":1,"location":[39,10,39,35],"scope":"HH\\UserProcess\\AStep","value":"'show_login'"},{"kind":1024,"name":"STEP_TYPE_KEY","modifiers":1,"location":[45,10,45,32],"scope":"HH\\UserProcess\\AStep","value":"'step'"},{"kind":16,"name":"$get_fields","modifiers":34,"location":[52,21,52,37],"scope":"HH\\UserProcess\\AStep","type":"array"},{"kind":16,"name":"$post_fields","modifiers":34,"location":[59,21,59,38],"scope":"HH\\UserProcess\\AStep","type":"array"},{"kind":16,"name":"$show_login","modifiers":2,"location":[64,14,64,33],"scope":"HH\\UserProcess\\AStep"},{"kind":16,"name":"$session","modifiers":2,"location":[71,14,71,22],"scope":"HH\\UserProcess\\AStep","type":"Huli\\Authentication\\ISession"},{"kind":16,"name":"$step_error","modifiers":4,"location":[73,12,73,30],"scope":"HH\\UserProcess\\AStep","type":"Huli\\Authentication\\ISession"},{"kind":32,"name":"__construct","modifiers":1,"location":[75,4,80,5],"description":"Session object","scope":"HH\\UserProcess\\AStep","children":[{"kind":128,"name":"$session","location":[75,32,75,49],"scope":"__construct","typeSource":1,"type":"Huli\\Authentication\\ISession"},{"kind":128,"name":"$instance","location":[75,51,75,60],"scope":"__construct"},{"kind":128,"name":"$module","location":[75,62,75,69],"scope":"__construct"}]},{"kind":32,"name":"get","modifiers":1,"location":[91,4,102,5],"description":"Processed a get request from the user for the current step, validates\nthe request as well as loading any data based on the request params","scope":"HH\\UserProcess\\AStep","type":"array","children":[{"kind":128,"name":"$view","location":[91,24,91,29],"scope":"get","type":"Kima\\View"},{"kind":128,"name":"$is_post","location":[91,31,91,47],"scope":"get","value":"false"}]},{"kind":32,"name":"submit","modifiers":1,"location":[109,4,119,5],"description":"Handles the user tries to continue to the next step via post request","scope":"HH\\UserProcess\\AStep","type":"array"},{"kind":32,"name":"set_next_step","modifiers":1,"location":[126,4,129,5],"description":"Sets the next step","scope":"HH\\UserProcess\\AStep","children":[{"kind":128,"name":"$step","location":[126,34,126,39],"scope":"set_next_step","type":"HH\\UserProcess\\AStep"}]},{"kind":32,"name":"next_step_url","modifiers":1,"location":[136,4,139,5],"description":"Returns the url of the step that follows","scope":"HH\\UserProcess\\AStep","type":"string"},{"kind":32,"name":"get_url","modifiers":1,"location":[148,4,151,5],"description":"Gets the url for the step","scope":"HH\\UserProcess\\AStep","type":"string","children":[{"kind":128,"name":"$params","location":[148,28,148,42],"description":"anything that should be used to create the url\n","scope":"get_url","value":"null","type":"mixed"}]},{"kind":32,"name":"show_login","modifiers":1,"location":[158,4,161,5],"description":"Gets whether a login step should be displayed","scope":"HH\\UserProcess\\AStep","type":"bool"},{"kind":32,"name":"set_show_login","modifiers":1,"location":[168,4,171,5],"description":"Sets whether to show the login","scope":"HH\\UserProcess\\AStep","children":[{"kind":128,"name":"$show_login","location":[168,35,168,46],"scope":"set_show_login","type":"string"}]},{"kind":32,"name":"has_step_error","modifiers":1,"location":[178,4,181,5],"description":"Returns whether an error related to the step has been set","scope":"HH\\UserProcess\\AStep","type":"bool"},{"kind":32,"name":"step_error","modifiers":1,"location":[188,4,191,5],"description":"Returns the step error information","scope":"HH\\UserProcess\\AStep","type":"string"},{"kind":32,"name":"render_error","modifiers":1,"location":[199,4,207,5],"description":"Renders the error page for the step by step processes, the error\npage will ony be rendered if the step already has errors detected.","scope":"HH\\UserProcess\\AStep","children":[{"kind":128,"name":"$view","location":[199,33,199,38],"scope":"render_error","type":"Kima\\View"}]},{"kind":32,"name":"set_step_error","modifiers":2,"location":[214,4,217,5],"description":"Sets the error key","scope":"HH\\UserProcess\\AStep","children":[{"kind":128,"name":"$error","location":[214,38,214,44],"scope":"set_step_error","type":"string"}]},{"kind":32,"name":"process_step","modifiers":18,"location":[222,4,222,47],"description":"Processes the data passed by the user in the POST request","scope":"HH\\UserProcess\\AStep"},{"kind":32,"name":"get_step","modifiers":18,"location":[227,4,227,48],"description":"Processes the data needed to render the view for the current step","scope":"HH\\UserProcess\\AStep","children":[{"kind":128,"name":"$view","location":[227,41,227,46],"scope":"get_step"}]},{"kind":32,"name":"load_get_data","modifiers":18,"location":[233,4,233,48],"description":"Implementing classes should define here how to load any basic data for\nthe GET request","scope":"HH\\UserProcess\\AStep"},{"kind":32,"name":"load_post_data","modifiers":18,"location":[239,4,239,49],"description":"Implementing classes should define here how to load any basic data for\nthe POST request","scope":"HH\\UserProcess\\AStep"},{"kind":32,"name":"process_show_login","modifiers":2,"location":[244,4,250,5],"description":"Set the show login option depending on the environment info","scope":"HH\\UserProcess\\AStep"},{"kind":32,"name":"get_formatted_url","modifiers":2,"location":[261,4,266,5],"description":"Returns the formatted url, includes the instance prefix when the instance\nis different from the default","scope":"HH\\UserProcess\\AStep","type":"string","children":[{"kind":128,"name":"$url","location":[261,41,261,45],"description":"the url fragment","scope":"get_formatted_url","type":"string"},{"kind":128,"name":"$params","location":[261,47,261,54],"description":"the query params\n","scope":"get_formatted_url","type":"array"}]},{"kind":32,"name":"verify_logged_in","modifiers":2,"location":[271,4,283,5],"description":"Verifies that the current request has access to the patient dashboard","scope":"HH\\UserProcess\\AStep","children":[{"kind":128,"name":"$user_process","location":[271,40,271,53],"scope":"verify_logged_in"}]}]}]}}