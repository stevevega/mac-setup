{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Request/Handler/DoctorAssistant/Manager/Save.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Request\\Handler\\DoctorAssistant\\Manager","location":[12,0,12,53]},{"kind":1,"name":"ICommunication","modifiers":4096,"location":[14,5,14,33],"associated":[{"kind":1,"name":"Communication\\ICommunication"}]},{"kind":1,"name":"TCommunication","modifiers":4096,"location":[15,5,15,33],"associated":[{"kind":1,"name":"Communication\\TCommunication"}]},{"kind":1,"name":"UserCache","modifiers":4096,"location":[16,5,16,38],"associated":[{"kind":1,"name":"HH\\Entity\\User\\Cache"}]},{"kind":1,"name":"AAlter","modifiers":4096,"location":[17,5,17,31],"associated":[{"kind":1,"name":"HH\\Request\\Behavior\\AAlter"}]},{"kind":1,"name":"TDoctorAssistant","modifiers":4096,"location":[18,5,18,56],"associated":[{"kind":1,"name":"HH\\Request\\Handler\\DoctorAssistant\\TDoctorAssistant"}]},{"kind":1,"name":"ClinicEntity","modifiers":4096,"location":[19,5,19,63],"associated":[{"kind":1,"name":"HH\\Search\\Cores\\CommonObject\\Clinic\\Entity"}]},{"kind":1,"name":"DoctorEntity","modifiers":4096,"location":[20,5,20,63],"associated":[{"kind":1,"name":"HH\\Search\\Cores\\CommonObject\\Doctor\\Entity"}]},{"kind":1,"name":"Status","modifiers":4096,"location":[21,5,21,14],"associated":[{"kind":1,"name":"HH\\Status"}]},{"kind":1,"name":"Organization","modifiers":4096,"location":[22,5,22,36],"associated":[{"kind":1,"name":"Huli\\Authorization\\Organization"}]},{"kind":1,"name":"AuthorizationRole","modifiers":4096,"location":[23,5,23,49],"associated":[{"kind":1,"name":"Huli\\Authorization\\Role"}]},{"kind":1,"name":"AuthorizationModel","modifiers":4096,"location":[24,5,24,46],"associated":[{"kind":1,"name":"Model\\Authorization"}]},{"kind":1,"name":"AuthorizationClinicModel","modifiers":4096,"location":[25,5,25,59],"associated":[{"kind":1,"name":"Model\\Authorization\\Clinic"}]},{"kind":1,"name":"ClinicModel","modifiers":4096,"location":[26,5,26,32],"associated":[{"kind":1,"name":"Model\\Clinic"}]},{"kind":1,"name":"Role","modifiers":4096,"location":[27,5,27,17],"associated":[{"kind":1,"name":"HH\\User\\Role"}]},{"kind":1,"name":"DoctorModel","modifiers":4096,"location":[28,5,28,32],"associated":[{"kind":1,"name":"Model\\Doctor"}]},{"kind":1,"name":"DoctorClinicModel","modifiers":4096,"location":[29,5,29,45],"associated":[{"kind":1,"name":"Model\\Doctor\\Clinic"}]},{"kind":1,"name":"OrganizationModel","modifiers":4096,"location":[30,5,30,44],"associated":[{"kind":1,"name":"Model\\Organization"}]},{"kind":1,"name":"UserModel","modifiers":4096,"location":[31,5,31,28],"associated":[{"kind":1,"name":"Model\\User"}]},{"kind":1,"name":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","location":[36,0,347,1],"associated":[{"kind":1,"name":"HH\\Request\\Behavior\\AAlter"},{"kind":2,"name":"Communication\\ICommunication"},{"kind":4,"name":"HH\\Request\\Handler\\DoctorAssistant\\TDoctorAssistant"},{"kind":4,"name":"Communication\\TCommunication"}],"description":"Saves the assistant related to the doctor on the clinic","children":[{"kind":1024,"name":"ERROR_INVALID_DOCTOR_CLINIC","modifiers":1,"location":[47,10,47,76],"scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","value":"'Clinic %s not related to doctor %s'"},{"kind":1024,"name":"ERROR_NO_ASSISTANT","modifiers":1,"location":[48,10,48,65],"scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","value":"'User %s is not a valid assistant'"},{"kind":1024,"name":"ERROR_ASSISTANT_NOT_ASSIGN","modifiers":1,"location":[49,10,49,87],"scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","value":"'Assistant not related on clinic %s to owner %s'"},{"kind":1024,"name":"CLINIC_OWNER","modifiers":1,"location":[54,10,54,39],"scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","value":"'clinic_owner'"},{"kind":1024,"name":"COMM_HANDLER","modifiers":1,"location":[59,10,59,39],"scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","value":"'comm_handler'"},{"kind":32,"name":"get_request_fields","modifiers":1,"location":[67,4,77,5],"description":"Request fields\nThe order of the request attributes is important","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save"},{"kind":32,"name":"get_children_requests","modifiers":1,"location":[84,4,87,5],"description":"Patient children save requests","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save"},{"kind":32,"name":"get_handler_type","modifiers":2,"location":[92,4,95,5],"description":"Gets the handler type to use","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save"},{"kind":32,"name":"include_last_insert_id","modifiers":2,"location":[103,4,106,5],"description":"Sets whether or not to retrive the last insert id and include it\nin the processed data","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","type":"bool"},{"kind":32,"name":"alter","modifiers":2,"location":[115,4,124,5],"description":"Saves the doctor assistant information\nFor each assistant in a doctor clinic a new association on authorization and\nauthorization clinic has to be created","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","type":"bool"},{"kind":32,"name":"set_id_clinic","modifiers":2,"location":[132,4,153,5],"description":"Set the id clinic value\nThe validation must include the doctor","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","children":[{"kind":128,"name":"$id_clinic","location":[132,37,132,47],"scope":"set_id_clinic","type":"int"}]},{"kind":32,"name":"set_status","modifiers":2,"location":[160,4,165,5],"description":"Set the status of the relation doctor clinic assistant","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","children":[{"kind":128,"name":"$status","location":[160,34,160,41],"scope":"set_status","type":"int"}]},{"kind":32,"name":"set_id_user","modifiers":2,"location":[174,4,206,5],"description":"Sets the id_user","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","type":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","children":[{"kind":128,"name":"$id_user","location":[174,35,174,43],"scope":"set_id_user","type":"string"}]},{"kind":32,"name":"trigger_events","modifiers":2,"location":[213,4,254,5],"description":"Triggers events happening on success request","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","type":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save"},{"kind":32,"name":"process_doctor_assistant","modifiers":4,"location":[267,4,288,5],"description":"Process the list of doctor assistant to be added to the doctor\nDoctor-assistant-clinic association is made using authorization and authorization clinic tables\nWhen an assistant is added to a doctor, the authorization among the doctor and the assistant\nhave to be made but when the assistant is removed from all the clinics of the doctor this\nsame authorization have to be mark as innactive","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","typeSource":1,"type":"bool","children":[{"kind":128,"name":"$id_owner","location":[267,46,267,59],"scope":"process_doctor_assistant","typeSource":1,"type":"int"}]},{"kind":32,"name":"get_doctor_assistant_final_association","modifiers":4,"location":[295,4,314,5],"description":"Get the final relation among the doctor and the assistant on an organization","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","type":"array","children":[{"kind":128,"name":"$id_owner","location":[295,60,295,73],"scope":"get_doctor_assistant_final_association","typeSource":1,"type":"int"}]},{"kind":32,"name":"process_doctor_assistant_authorization","modifiers":4,"location":[322,4,346,5],"description":"Process the authorization among the doctor and the assistant","scope":"HH\\Request\\Handler\\DoctorAssistant\\Manager\\Save","typeSource":1,"type":"bool","children":[{"kind":128,"name":"$id_owner","location":[322,60,322,73],"scope":"process_doctor_assistant_authorization","typeSource":1,"type":"int"},{"kind":128,"name":"$final_association","location":[322,75,322,100],"scope":"process_doctor_assistant_authorization","type":"array"}]}]}]}}