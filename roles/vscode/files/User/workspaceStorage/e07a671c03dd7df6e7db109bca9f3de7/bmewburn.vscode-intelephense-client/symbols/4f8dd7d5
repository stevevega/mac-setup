{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/Payment/Store/Invoice.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Payment\\Store","location":[11,0,11,24]},{"kind":1,"name":"InvoiceModel","modifiers":4096,"location":[13,5,13,52],"associated":[{"kind":1,"name":"Model\\User\\Subscription\\Invoice"}]},{"kind":1,"name":"InvoiceItemModel","modifiers":4096,"location":[14,5,14,60],"associated":[{"kind":1,"name":"Model\\User\\Subscription\\InvoiceItem"}]},{"kind":1,"name":"IInvoiceItem","modifiers":4096,"location":[15,5,15,25],"associated":[{"kind":1,"name":"Payment\\IInvoiceItem"}]},{"kind":1,"name":"Payment\\Store\\Invoice","modifiers":8,"location":[22,0,157,1],"description":"This is just a decorator class for the invoice models, handles certain\ninformation in a stateful way in order to process data from 3rd party\nservices.","children":[{"kind":16,"name":"$invoice","modifiers":4,"location":[29,12,29,20],"scope":"Payment\\Store\\Invoice","type":"Model\\User\\Subscription\\Invoice"},{"kind":32,"name":"is_empty","modifiers":1,"location":[36,4,39,5],"description":"Returns whether the invoice object was found","scope":"Payment\\Store\\Invoice","type":"bool"},{"kind":32,"name":"is_processed","modifiers":1,"location":[46,4,49,5],"description":"Returns whether the invoice was completely processed before.","scope":"Payment\\Store\\Invoice","type":"bool"},{"kind":32,"name":"load","modifiers":1,"location":[58,4,63,5],"description":"Gets the stored invoice for use in the events","scope":"Payment\\Store\\Invoice","type":"Payment\\Store\\Invoice","children":[{"kind":128,"name":"$id","location":[58,25,58,28],"description":"stripe formatted id\n","scope":"load","type":"string"}]},{"kind":32,"name":"save","modifiers":1,"location":[73,4,88,5],"description":"Stores the invoice retrived from Stripe in the db","scope":"Payment\\Store\\Invoice","type":"Payment\\Store\\Invoice","children":[{"kind":128,"name":"$data","location":[73,25,73,30],"scope":"save","type":"object"},{"kind":128,"name":"$id_user_subscription","location":[73,32,73,53],"scope":"save","type":"int"}]},{"kind":32,"name":"mark_as_processed","modifiers":1,"location":[95,4,101,5],"description":"Marks the invoice model as processed.","scope":"Payment\\Store\\Invoice","type":"Payment\\Store\\Invoice"},{"kind":32,"name":"add_invoice_item","modifiers":1,"location":[111,4,123,5],"description":"Adds an invoice item to the db","scope":"Payment\\Store\\Invoice","type":"Payment\\Store\\Invoice","children":[{"kind":128,"name":"$li","location":[111,37,111,53],"scope":"add_invoice_item","typeSource":1,"type":"Payment\\IInvoiceItem"},{"kind":128,"name":"$stripe_id","location":[111,55,111,65],"description":"the id sent by the stripe endpoint\n","scope":"add_invoice_item","type":"string"}]},{"kind":32,"name":"get_unprocessed_item","modifiers":1,"location":[130,4,139,5],"description":"Generates unprocessed items to be added to an invoice.","scope":"Payment\\Store\\Invoice","type":"Payment\\Store\\Generator"},{"kind":32,"name":"update_invoice_item","modifiers":1,"location":[149,4,156,5],"description":"Update the invoice item model by setting the stripe id","scope":"Payment\\Store\\Invoice","type":"bool","children":[{"kind":128,"name":"$i","location":[149,40,149,55],"description":"has the unique model id","scope":"update_invoice_item","typeSource":1,"type":"Payment\\IInvoiceItem"},{"kind":128,"name":"$stripe_id","location":[149,57,149,67],"scope":"update_invoice_item","type":"string"}]}]}]}}