{"uri":"file:///Users/vega/Code/huli/manager-web/src/scripts/ExternalImporter/catolica_fix_patients_contact.php","root":{"kind":0,"name":"","children":[{"kind":1,"name":"Type","modifiers":4096,"location":[2,5,2,26],"associated":[{"kind":1,"name":"Box\\Spout\\Common\\Type"}]},{"kind":1,"name":"ReaderFactory","modifiers":4096,"location":[3,5,3,35],"associated":[{"kind":1,"name":"Box\\Spout\\Reader\\ReaderFactory"}]},{"kind":1,"name":"CitizenRegisterCore","modifiers":4096,"location":[4,5,4,56],"associated":[{"kind":1,"name":"HH\\Search\\Cores\\CitizenRegister\\CitizenRegisterCore"}]},{"kind":1,"name":"Date","modifiers":4096,"location":[5,5,5,17],"associated":[{"kind":1,"name":"HH\\Util\\Date"}]},{"kind":1,"name":"TConsoleInOut","modifiers":4096,"location":[6,5,6,33],"associated":[{"kind":1,"name":"HH\\Util\\Script\\TConsoleInOut"}]},{"kind":1,"name":"Transaction","modifiers":4096,"location":[7,5,7,30],"associated":[{"kind":1,"name":"Huli\\Database\\Transaction"}]},{"kind":1,"name":"CatolicaAppointmentModel","modifiers":4096,"location":[8,5,8,59],"associated":[{"kind":1,"name":"Model\\Catolica\\Appointment"}]},{"kind":1,"name":"CatolicaDoctorModel","modifiers":4096,"location":[9,5,9,49],"associated":[{"kind":1,"name":"Model\\Catolica\\Doctor"}]},{"kind":1,"name":"CatolicaPatientModel","modifiers":4096,"location":[10,5,10,51],"associated":[{"kind":1,"name":"Model\\Catolica\\Patient"}]},{"kind":1,"name":"CatolicaPatientPhoneModel","modifiers":4096,"location":[11,5,11,61],"associated":[{"kind":1,"name":"Model\\Catolica\\PatientPhone"}]},{"kind":1,"name":"CitizenRegisterModel","modifiers":4096,"location":[12,5,12,51],"associated":[{"kind":1,"name":"Model\\Citizen\\Register"}]},{"kind":1,"name":"Migrate","location":[24,0,462,1],"associated":[{"kind":4,"name":"HH\\Util\\Script\\TConsoleInOut"}],"description":"This class allow to migrate an csv files to the database","children":[{"kind":1024,"name":"PATIENTS_FILE","modifiers":1,"location":[32,10,32,50],"scope":"Migrate","value":"'pacientes_catolica.csv'"},{"kind":1024,"name":"APPOINTMENTS_FILE","modifiers":1,"location":[33,10,33,50],"scope":"Migrate","value":"'citas_catolica.csv'"},{"kind":1024,"name":"CATOLICA_FILES","modifiers":1,"location":[35,10,38,5],"scope":"Migrate","value":"[\n        self::PATIENTS_FILE,\n        self::APPOINTMENTS_FILE\n    ]"},{"kind":1024,"name":"PROVINCES","modifiers":1,"location":[40,10,48,5],"scope":"Migrate","value":"[\n        'ALAJUELA' => 727,\n        'CARTAGO' => 728,\n        'GUANACASTE' => 729,\n        'HEREDIA' => 730,\n        'LIMON' => 731,\n        'PUNTARENAS' => 732,\n        'SAN JOSE' => 733\n    ]"},{"kind":32,"name":"__construct","modifiers":1,"location":[53,4,83,5],"description":"Class constructor","scope":"Migrate"},{"kind":32,"name":"start","modifiers":4,"location":[85,4,107,5],"scope":"Migrate"},{"kind":32,"name":"process_file","modifiers":4,"location":[115,4,138,5],"description":"Process the files that will be inserted to the database","scope":"Migrate","children":[{"kind":128,"name":"$directory_path","location":[115,34,115,49],"scope":"process_file","type":"string"},{"kind":128,"name":"$file","location":[115,51,115,56],"scope":"process_file","type":"string"}]},{"kind":32,"name":"process_patients","modifiers":4,"location":[146,4,157,5],"description":"Process patients ignoring the column headers if required","scope":"Migrate","children":[{"kind":128,"name":"$opened_file","location":[146,38,146,50],"scope":"process_patients","type":"string"},{"kind":128,"name":"$ignore_column_headers","location":[146,52,146,81],"scope":"process_patients","value":"true","type":"bool"}]},{"kind":32,"name":"process_appointments","modifiers":4,"location":[165,4,176,5],"description":"Process appointments ignoring the column headers if required","scope":"Migrate","children":[{"kind":128,"name":"$opened_file","location":[165,42,165,54],"scope":"process_appointments","type":"string"},{"kind":128,"name":"$ignore_column_headers","location":[165,56,165,85],"scope":"process_appointments","value":"true","type":"bool"}]},{"kind":32,"name":"process_patient_data","modifiers":4,"location":[183,4,217,5],"description":"Process patient data, formatting each of the fields if required","scope":"Migrate","children":[{"kind":128,"name":"$patient_data","location":[183,42,183,55],"scope":"process_patient_data","type":"array"}]},{"kind":32,"name":"format_identification","modifiers":4,"location":[224,4,254,5],"description":"Process an id field to extract only the numeric value","scope":"Migrate","children":[{"kind":128,"name":"$id","location":[224,43,224,46],"scope":"format_identification","type":"string"},{"kind":128,"name":"$patient","location":[224,48,224,66],"scope":"format_identification","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"format_name","modifiers":4,"location":[262,4,330,5],"description":"Format the name of the patient","scope":"Migrate","children":[{"kind":128,"name":"$name","location":[262,33,262,38],"scope":"format_name","type":"string"},{"kind":128,"name":"$patient","location":[262,40,262,58],"scope":"format_name","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"extract_name_notes","modifiers":4,"location":[339,4,350,5],"description":"Given a patient name it extracts the name notes\ni.e ALVARADO BRENES DANIEL **CONFIRMADO**","scope":"Migrate","children":[{"kind":128,"name":"$name","location":[339,40,339,45],"scope":"extract_name_notes","type":"string"},{"kind":128,"name":"$patient","location":[339,47,339,65],"scope":"extract_name_notes","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"format_phones","modifiers":4,"location":[358,4,393,5],"description":"Given a string filled with phones and notes, it extracts the phones and format them","scope":"Migrate","children":[{"kind":128,"name":"$phones","location":[358,35,358,42],"scope":"format_phones","type":"string"},{"kind":128,"name":"$patient","location":[358,44,358,62],"scope":"format_phones","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"get_phone_type","modifiers":4,"location":[402,4,416,5],"description":"Returns the phone type by its first character","scope":"Migrate","type":"int","children":[{"kind":128,"name":"$phone_number","location":[402,36,402,49],"scope":"get_phone_type","type":"string"}]},{"kind":32,"name":"process_appointment_data","modifiers":4,"location":[423,4,461,5],"description":"Process appointment data, formatting each of the fields if required","scope":"Migrate","children":[{"kind":128,"name":"$appointment_data","location":[423,46,423,63],"scope":"process_appointment_data","type":"array"}]}]},{"kind":256,"name":"$migrator","location":[464,0,464,9]}]}}