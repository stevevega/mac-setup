{"uri":"file:///Users/vega/Code/huli/manager-web/src/vendor/hulilabs/php-common/src/library/Huli/Audit/Writer.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Huli\\Audit","location":[12,0,12,21]},{"kind":1,"name":"IAuditStore","modifiers":4096,"location":[14,5,14,37],"associated":[{"kind":1,"name":"Huli\\Audit\\IStore"}]},{"kind":1,"name":"ISession","modifiers":4096,"location":[15,5,15,33],"associated":[{"kind":1,"name":"Huli\\Authentication\\ISession"}]},{"kind":1,"name":"UserAgent","modifiers":4096,"location":[16,5,16,31],"associated":[{"kind":1,"name":"Huli\\Model\\Audit\\UserAgent"}]},{"kind":1,"name":"Error","modifiers":4096,"location":[17,5,17,15],"associated":[{"kind":1,"name":"Kima\\Error"}]},{"kind":1,"name":"Huli\\Audit\\Writer","modifiers":8,"location":[23,0,127,1],"description":"This class exposes the functionality to save an acces/view audit log.\nUse this class only in controllers","children":[{"kind":1024,"name":"ERROR","modifiers":1,"location":[25,10,25,100],"scope":"Huli\\Audit\\Writer","value":"\"Unable to save audit log: class = %s, id_user = %s, ip = %s, ua = %s, p = %s\\n%s\""},{"kind":16,"name":"$audit_store","modifiers":4,"location":[32,12,32,24],"scope":"Huli\\Audit\\Writer","type":"Model\\Audit\\IAuditStore"},{"kind":16,"name":"$env","modifiers":4,"location":[39,12,39,16],"scope":"Huli\\Audit\\Writer","type":"HH\\Audit\\Environment"},{"kind":32,"name":"__construct","modifiers":4,"location":[41,4,45,5],"description":"Stores and instance of the user's environment (ip, user agent, id)","scope":"Huli\\Audit\\Writer","children":[{"kind":128,"name":"$audit_store","location":[41,33,41,57],"scope":"__construct","typeSource":1,"type":"Huli\\Audit\\IStore"},{"kind":128,"name":"$env","location":[41,59,41,75],"scope":"__construct","typeSource":1,"type":"Huli\\Audit\\Environment"}]},{"kind":32,"name":"get","modifiers":33,"location":[56,4,61,5],"description":"Factory function","scope":"Huli\\Audit\\Writer","typeSource":1,"type":"Huli\\Audit\\Writer","children":[{"kind":128,"name":"$audit_store","location":[57,8,57,32],"description":"the audit_store to be used to saved the\naccess log.","scope":"get","typeSource":1,"type":"Huli\\Audit\\IStore"},{"kind":128,"name":"$session","location":[58,8,58,25],"description":"the jwt object to be used to get the logged user\n","scope":"get","typeSource":1,"type":"Huli\\Authentication\\ISession"}]},{"kind":32,"name":"get_by_environment","modifiers":33,"location":[72,4,77,5],"description":"Factory function to get the writer by environment","scope":"Huli\\Audit\\Writer","typeSource":1,"type":"Huli\\Audit\\Writer","children":[{"kind":128,"name":"$audit_store","location":[73,8,73,32],"description":"the audit_store to be used to saved the\naccess log.","scope":"get_by_environment","typeSource":1,"type":"Huli\\Audit\\IStore"},{"kind":128,"name":"$env","location":[74,8,74,24],"scope":"get_by_environment","typeSource":1,"type":"Huli\\Audit\\Environment"}]},{"kind":32,"name":"log","modifiers":1,"location":[86,4,126,5],"description":"Logs the audit action to the model that is currently set in the properties","scope":"Huli\\Audit\\Writer","typeSource":1,"type":"bool","children":[{"kind":128,"name":"$params","location":[86,24,86,34],"description":"variable number of parameters\n","scope":"log","type":"mixed"}]}]}]}}