{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/Payment/Events/Invoice/Created.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Payment\\Events\\Invoice","location":[11,0,11,33]},{"kind":1,"name":"Catalog","modifiers":4096,"location":[13,5,13,21],"associated":[{"kind":1,"name":"HH\\Addon\\Catalog"}]},{"kind":1,"name":"TResponse","modifiers":4096,"location":[14,5,14,22],"associated":[{"kind":1,"name":"HH\\Http\\TResponse"}]},{"kind":1,"name":"Error","modifiers":4096,"location":[15,5,15,15],"associated":[{"kind":1,"name":"Kima\\Error"}]},{"kind":1,"name":"UserSubscriptionModel","modifiers":4096,"location":[16,5,16,53],"associated":[{"kind":1,"name":"Model\\User\\Subscription"}]},{"kind":1,"name":"AddonFactory","modifiers":4096,"location":[17,5,17,42],"associated":[{"kind":1,"name":"Payment\\Addon\\Factory"}]},{"kind":1,"name":"EventWrapper","modifiers":4096,"location":[18,5,18,54],"associated":[{"kind":1,"name":"Payment\\EventObject\\Invoice\\Event"}]},{"kind":1,"name":"ICallable","modifiers":4096,"location":[19,5,19,22],"associated":[{"kind":1,"name":"Payment\\ICallable"}]},{"kind":1,"name":"IEventObject","modifiers":4096,"location":[20,5,20,25],"associated":[{"kind":1,"name":"Payment\\IEventObject"}]},{"kind":1,"name":"IInvoiceItem","modifiers":4096,"location":[21,5,21,25],"associated":[{"kind":1,"name":"Payment\\IInvoiceItem"}]},{"kind":1,"name":"IProcessor","modifiers":4096,"location":[22,5,22,23],"associated":[{"kind":1,"name":"Payment\\IProcessor"}]},{"kind":1,"name":"InvoiceStore","modifiers":4096,"location":[23,5,23,42],"associated":[{"kind":1,"name":"Payment\\Store\\Invoice"}]},{"kind":1,"name":"Payment\\Events\\Invoice\\Created","location":[28,0,168,1],"associated":[{"kind":2,"name":"Payment\\ICallable"},{"kind":4,"name":"HH\\Http\\TResponse"}],"description":"Handles events related to the invoice object","children":[{"kind":16,"name":"$total_added","modifiers":4,"location":[37,12,37,28],"scope":"Payment\\Events\\Invoice\\Created","type":"int"},{"kind":16,"name":"$event","modifiers":4,"location":[44,12,44,18],"scope":"Payment\\Events\\Invoice\\Created","type":"Payment\\EventObject\\Invoice\\Event"},{"kind":32,"name":"__construct","modifiers":1,"location":[50,4,54,5],"scope":"Payment\\Events\\Invoice\\Created","children":[{"kind":128,"name":"$event","location":[50,32,50,51],"description":"contains object event data","scope":"__construct","typeSource":1,"type":"Payment\\IEventObject"},{"kind":128,"name":"$processor","location":[50,53,50,74],"description":"payment processor","scope":"__construct","typeSource":1,"type":"Payment\\IProcessor"}]},{"kind":32,"name":"load","modifiers":4,"location":[61,4,70,5],"description":"Loads the event information","scope":"Payment\\Events\\Invoice\\Created","children":[{"kind":128,"name":"$id_event","location":[61,26,61,35],"scope":"load","type":"string"}]},{"kind":32,"name":"run","modifiers":1,"location":[77,4,129,5],"description":"Processed the created invoice event, checks the subscription against any\nmodification done in our side as well as adding line items to the invoice\nregarding addons that should be charged to the user.","scope":"Payment\\Events\\Invoice\\Created"},{"kind":32,"name":"get_total_added","modifiers":1,"location":[136,4,139,5],"description":"Retrieves the total amount of line items added to the current customer","scope":"Payment\\Events\\Invoice\\Created","type":"int"},{"kind":32,"name":"add_invoice_item","modifiers":4,"location":[150,4,167,5],"description":"Adds an invoice line item for the customer according based on the data\nsupplied by the addons","scope":"Payment\\Events\\Invoice\\Created","children":[{"kind":128,"name":"$item","location":[150,38,150,56],"description":"contains info about the addon such as\nprice and description","scope":"add_invoice_item","typeSource":1,"type":"Payment\\IInvoiceItem"},{"kind":128,"name":"$sub","location":[150,58,150,84],"description":"contains some subscription information","scope":"add_invoice_item","typeSource":1,"type":"Model\\User\\Subscription"},{"kind":128,"name":"$invoice","location":[150,86,150,94],"description":"contains the invoice data sent by stripe","scope":"add_invoice_item","type":"object"}]}]}]}}