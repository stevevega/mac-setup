{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/PracticeAPI/Handler/Calendar/Clinic/Get.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic","location":[12,0,12,49]},{"kind":1,"name":"CalendarClinic","modifiers":4096,"location":[14,5,14,41],"associated":[{"kind":1,"name":"HH\\Calendar\\Clinic"}]},{"kind":1,"name":"CalendarParams","modifiers":4096,"location":[15,5,15,41],"associated":[{"kind":1,"name":"HH\\Calendar\\Params"}]},{"kind":1,"name":"CalendarDate","modifiers":4096,"location":[16,5,16,34],"associated":[{"kind":1,"name":"HH\\Calendar\\Util\\CalendarDate"}]},{"kind":1,"name":"DoctorValidator","modifiers":4096,"location":[17,5,17,50],"associated":[{"kind":1,"name":"HH\\Entity\\Doctor\\Validator"}]},{"kind":1,"name":"EventMobileGet","modifiers":4096,"location":[18,5,18,75],"associated":[{"kind":1,"name":"HH\\PracticeAPI\\Handler\\Appointment\\Mobile\\Clinic\\Get"}]},{"kind":1,"name":"EventGet","modifiers":4096,"location":[19,5,19,65],"associated":[{"kind":1,"name":"HH\\PracticeAPI\\Handler\\Event\\Calendar\\Clinic\\Get"}]},{"kind":1,"name":"PatientGet","modifiers":4096,"location":[20,5,20,66],"associated":[{"kind":1,"name":"HH\\PracticeAPI\\Handler\\PatientFile\\Calendar\\Get"}]},{"kind":1,"name":"HErrorCode","modifiers":4096,"location":[21,5,21,40],"associated":[{"kind":1,"name":"HH\\Request\\Error\\Code"}]},{"kind":1,"name":"Alias","modifiers":4096,"location":[22,5,22,26],"associated":[{"kind":1,"name":"HH\\Request\\Util\\Alias"}]},{"kind":1,"name":"IRequest","modifiers":4096,"location":[23,5,23,23],"associated":[{"kind":1,"name":"Huli\\Http\\IRequest"}]},{"kind":1,"name":"Error","modifiers":4096,"location":[24,5,24,28],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Error"}]},{"kind":1,"name":"ErrorCode","modifiers":4096,"location":[25,5,25,46],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Error\\Code"}]},{"kind":1,"name":"Child","modifiers":4096,"location":[26,5,26,36],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\Child"}]},{"kind":1,"name":"Field","modifiers":4096,"location":[27,5,27,36],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\Field"}]},{"kind":1,"name":"IAfterChildren","modifiers":4096,"location":[28,5,28,50],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\Hook\\IAfterChildren"}]},{"kind":1,"name":"IAfterHandle","modifiers":4096,"location":[29,5,29,48],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\Hook\\IAfterHandle"}]},{"kind":1,"name":"IGet","modifiers":4096,"location":[30,5,30,35],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\IGet"}]},{"kind":1,"name":"TContext","modifiers":4096,"location":[31,5,31,39],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\TContext"}]},{"kind":1,"name":"CalendarModel","modifiers":4096,"location":[32,5,32,36],"associated":[{"kind":1,"name":"Model\\Calendar"}]},{"kind":1,"name":"ClinicModel","modifiers":4096,"location":[33,5,33,32],"associated":[{"kind":1,"name":"Model\\Clinic"}]},{"kind":1,"name":"DoctorModel","modifiers":4096,"location":[34,5,34,32],"associated":[{"kind":1,"name":"Model\\Doctor"}]},{"kind":1,"name":"EventRecordModel","modifiers":4096,"location":[35,5,35,43],"associated":[{"kind":1,"name":"Model\\Event\\Record"}]},{"kind":1,"name":"LanguageModel","modifiers":4096,"location":[36,5,36,36],"associated":[{"kind":1,"name":"Model\\Language"}]},{"kind":1,"name":"PatientFileModel","modifiers":4096,"location":[37,5,37,43],"associated":[{"kind":1,"name":"Model\\Patient\\File"}]},{"kind":1,"name":"stdClass","modifiers":4096,"location":[38,5,38,13],"associated":[{"kind":1,"name":"stdClass"}]},{"kind":1,"name":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","location":[43,0,344,1],"associated":[{"kind":2,"name":"Huli\\Http\\Request\\Handler\\IGet"},{"kind":2,"name":"Huli\\Http\\Request\\Handler\\Hook\\IAfterHandle"},{"kind":2,"name":"Huli\\Http\\Request\\Handler\\Hook\\IAfterChildren"},{"kind":4,"name":"Huli\\Http\\Request\\Handler\\TContext"}],"description":"This handler retrieves the doctor practice calendar.","children":[{"kind":1024,"name":"EVENTS","modifiers":1,"location":[50,10,50,27],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","value":"'events'"},{"kind":1024,"name":"DAYS_WITH_EVENTS","modifiers":1,"location":[51,10,51,47],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","value":"'days_with_events'"},{"kind":1024,"name":"PATIENTS","modifiers":1,"location":[52,10,52,31],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","value":"'patients'"},{"kind":1024,"name":"MAX_ALLOWED_EVENTS","modifiers":1,"location":[53,10,53,35],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","value":"5000"},{"kind":1024,"name":"ERROR_MAX_ALLOWED_EVENTS","modifiers":1,"location":[54,10,54,63],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","value":"'error_max_allowed_events'"},{"kind":1024,"name":"ID_DOCTORS","modifiers":1,"location":[55,10,55,35],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","value":"'id_doctors'"},{"kind":16,"name":"$id_user","modifiers":1,"location":[60,11,60,19],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$id_language","modifiers":1,"location":[61,11,61,23],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$cid","modifiers":1,"location":[63,11,63,15],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$end_date","modifiers":1,"location":[64,11,64,20],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$id_clinic","modifiers":1,"location":[65,11,65,21],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$id_doctor","modifiers":1,"location":[66,11,66,21],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$init","modifiers":1,"location":[67,11,67,24],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$is_mobile_version","modifiers":1,"location":[68,11,68,29],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$start_date","modifiers":1,"location":[69,11,69,22],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$id_calendars","modifiers":1,"location":[70,11,70,24],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$hfr","modifiers":1,"location":[71,11,71,15],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":16,"name":"$calendar","modifiers":4,"location":[78,12,78,21],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","type":"Model\\Calendar"},{"kind":16,"name":"$cids","modifiers":4,"location":[79,12,79,17],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","type":"Model\\Calendar"},{"kind":16,"name":"$has_patients","modifiers":4,"location":[87,12,87,33],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","type":"bool"},{"kind":32,"name":"set_id_doctor","modifiers":1,"location":[94,4,97,5],"description":"Sets the doctor ids as array","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","children":[{"kind":128,"name":"$id_doctor","location":[94,34,94,51],"scope":"set_id_doctor","typeSource":1,"type":"string"}]},{"kind":32,"name":"set_start_date","modifiers":1,"location":[106,4,113,5],"description":"Sets the date of the start of the event","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","type":"Huli\\Http\\Request\\Error|null","children":[{"kind":128,"name":"$start_date","location":[106,35,106,53],"scope":"set_start_date","typeSource":1,"type":"string"}]},{"kind":32,"name":"set_end_date","modifiers":1,"location":[124,4,131,5],"description":"Sets the date and time of the end of the event, this method should\nbe called after set_date_from otherwise it will fail","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","type":"Huli\\Http\\Request\\Error|null","children":[{"kind":128,"name":"$end_date","location":[124,33,124,49],"scope":"set_end_date","typeSource":1,"type":"string"}]},{"kind":32,"name":"get_request_fields","modifiers":1,"location":[136,4,163,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":32,"name":"get_children_requests","modifiers":1,"location":[168,4,181,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":32,"name":"get_handler_type","modifiers":1,"location":[186,4,189,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","typeSource":1,"type":"int"},{"kind":32,"name":"get_handler_name","modifiers":1,"location":[194,4,197,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","typeSource":1,"type":"string"},{"kind":32,"name":"has_access","modifiers":1,"location":[202,4,205,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","typeSource":1,"type":"bool"},{"kind":32,"name":"handle","modifiers":1,"location":[223,4,233,5],"description":"Retrieves the calendar required\nCreate parent object to send a request of the form:\n{\n\"calendar\": {\n\"cid\": 55,\n\"slot\": 30\n},\n\"events\": {.....},\n\"patients\": {.....}\n}","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","type":"stdClass","children":[{"kind":128,"name":"$processed_fields","location":[223,27,223,50],"scope":"handle"}]},{"kind":32,"name":"after_handle","modifiers":1,"location":[238,4,247,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","typeSource":1,"type":"Huli\\Http\\IRequest","children":[{"kind":128,"name":"$req","location":[238,33,238,46],"scope":"after_handle","typeSource":1,"type":"Huli\\Http\\IRequest"}]},{"kind":32,"name":"after_children","modifiers":1,"location":[252,4,264,5],"scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","typeSource":1,"type":"Huli\\Http\\IRequest","children":[{"kind":128,"name":"$req","location":[252,35,252,48],"scope":"after_children","typeSource":1,"type":"Huli\\Http\\IRequest"}]},{"kind":32,"name":"set_requested_id_doctors","modifiers":4,"location":[274,4,288,5],"description":"Sets the value of id_doctors using the following logic:\n- If id_doctor is empty and the field init is true then get all the\ndoctors of the clinic (active and inactive).\n- Else if id_doctor is empty and the field init is empty get only\nINACTIVE doctors else if id_doctor is not empty get the requested\ndoctors and all the INACTIVE doctors.","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get"},{"kind":32,"name":"process_patients","modifiers":4,"location":[301,4,315,5],"description":"Process patients to get patient information.\n\nIf the events requests contain any patient file ids, both first name and\nlast name will be retrieved for each one.","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","typeSource":1,"type":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","children":[{"kind":128,"name":"$req","location":[301,38,301,51],"scope":"process_patients","typeSource":1,"type":"Huli\\Http\\IRequest"},{"kind":128,"name":"$data","location":[301,53,301,58],"scope":"process_patients","type":"object"}]},{"kind":32,"name":"process_events","modifiers":4,"location":[326,4,343,5],"description":"Validate if exist event into $event_children and is less that max_allowed\nevents.","scope":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","typeSource":1,"type":"HH\\PracticeAPI\\Handler\\Calendar\\Clinic\\Get","children":[{"kind":128,"name":"$req","location":[326,36,326,49],"scope":"process_events","typeSource":1,"type":"Huli\\Http\\IRequest"},{"kind":128,"name":"$data","location":[326,51,326,56],"scope":"process_events","type":"object"}]}]}]}}