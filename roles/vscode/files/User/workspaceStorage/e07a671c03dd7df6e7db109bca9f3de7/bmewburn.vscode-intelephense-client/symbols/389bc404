{"uri":"file:///Users/vega/Code/huli/manager-web/src/vendor/stevevega/kima/library/Kima/Model.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Kima","location":[6,0,6,15]},{"kind":1,"name":"Mongo","modifiers":4096,"location":[8,4,8,20],"associated":[{"kind":1,"name":"Kima\\Model\\Mongo"}]},{"kind":1,"name":"Mysql","modifiers":4096,"location":[9,4,9,20],"associated":[{"kind":1,"name":"Kima\\Model\\Mysql"}]},{"kind":1,"name":"ResultSet","modifiers":4096,"location":[10,4,10,24],"associated":[{"kind":1,"name":"Kima\\Model\\ResultSet"}]},{"kind":1,"name":"App","modifiers":4096,"location":[11,4,11,18],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"Config","modifiers":4096,"location":[12,4,12,21],"associated":[{"kind":1,"name":"Kima\\Prime\\Config"}]},{"kind":1,"name":"ReflectionObject","modifiers":4096,"location":[13,4,13,20],"associated":[{"kind":1,"name":"ReflectionObject"}]},{"kind":1,"name":"ReflectionProperty","modifiers":4096,"location":[14,4,14,22],"associated":[{"kind":1,"name":"ReflectionProperty"}]},{"kind":1,"name":"Kima\\Model","modifiers":16,"location":[20,0,866,1],"description":"Model\nGets a model with the corresponding db engine","children":[{"kind":1024,"name":"ERROR_NO_DEFAULT_DB_ENGINE","modifiers":1,"location":[25,10,25,97],"scope":"Kima\\Model","value":"'Default database engine is not present in the app config'"},{"kind":1024,"name":"ERROR_INVALID_DB_MODEL","modifiers":1,"location":[26,10,26,66],"scope":"Kima\\Model","value":"'Invalid database engine: \"%s\"'"},{"kind":1024,"name":"ERROR_NO_TABLE","modifiers":1,"location":[27,10,27,80],"scope":"Kima\\Model","value":"'Required constant \"TABLE\" not present in model \"%s\"'"},{"kind":1024,"name":"ERROR_NO_JOIN_TABLE","modifiers":1,"location":[28,10,28,68],"scope":"Kima\\Model","value":"'Required join table field is empty'"},{"kind":1024,"name":"ERROR_INVALID_FUNCTION","modifiers":1,"location":[29,10,29,81],"scope":"Kima\\Model","value":"'Function \"%s\" is not available for %s models'"},{"kind":1024,"name":"JOIN_TABLE","modifiers":1,"location":[34,10,34,30],"scope":"Kima\\Model","value":"'table'"},{"kind":1024,"name":"JOIN_TYPE","modifiers":1,"location":[35,10,35,28],"scope":"Kima\\Model","value":"'type'"},{"kind":1024,"name":"JOIN_LEFT","modifiers":1,"location":[36,10,36,28],"scope":"Kima\\Model","value":"'left'"},{"kind":1024,"name":"JOIN_INNER","modifiers":1,"location":[37,10,37,30],"scope":"Kima\\Model","value":"'inner'"},{"kind":1024,"name":"JOIN_RIGHT","modifiers":1,"location":[38,10,38,30],"scope":"Kima\\Model","value":"'right'"},{"kind":1024,"name":"JOIN_ON","modifiers":1,"location":[39,10,39,24],"scope":"Kima\\Model","value":"'on'"},{"kind":1024,"name":"ORDER_ASC","modifiers":1,"location":[44,11,44,28],"scope":"Kima\\Model","value":"'ASC'"},{"kind":1024,"name":"ORDER_DESC","modifiers":1,"location":[45,10,45,29],"scope":"Kima\\Model","value":"'DESC'"},{"kind":1024,"name":"FORMAT_UNIXTIME","modifiers":1,"location":[50,11,50,49],"scope":"Kima\\Model","value":"'UNIX_TIMESTAMP(%s)'"},{"kind":1024,"name":"FORMAT_MAX","modifiers":1,"location":[51,10,51,32],"scope":"Kima\\Model","value":"'MAX(%s)'"},{"kind":1024,"name":"GROUP_CONCAT_DISTINCT","modifiers":1,"location":[52,10,52,77],"scope":"Kima\\Model","value":"'GROUP_CONCAT(DISTINCT(%s) SEPARATOR \"%s\")'"},{"kind":16,"name":"$model","modifiers":4,"location":[59,12,59,18],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$adapter","modifiers":4,"location":[66,12,66,20],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$database","modifiers":4,"location":[73,12,73,21],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$prefix","modifiers":4,"location":[80,12,80,19],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$table","modifiers":4,"location":[87,12,87,18],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$fields","modifiers":4,"location":[94,12,94,24],"scope":"Kima\\Model","type":"array"},{"kind":16,"name":"$joins","modifiers":4,"location":[101,12,101,23],"scope":"Kima\\Model","type":"array"},{"kind":16,"name":"$filters","modifiers":4,"location":[108,12,108,25],"scope":"Kima\\Model","type":"array"},{"kind":16,"name":"$having","modifiers":4,"location":[115,12,115,24],"scope":"Kima\\Model","type":"array"},{"kind":16,"name":"$binds","modifiers":4,"location":[122,12,122,23],"scope":"Kima\\Model","type":"array"},{"kind":16,"name":"$limit","modifiers":4,"location":[129,12,129,22],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$start","modifiers":4,"location":[136,12,136,22],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$group","modifiers":4,"location":[143,12,143,23],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$order","modifiers":4,"location":[150,12,150,23],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$async","modifiers":4,"location":[157,12,157,18],"scope":"Kima\\Model","type":"bool"},{"kind":16,"name":"$prevent_upsert","modifiers":4,"location":[164,12,164,27],"scope":"Kima\\Model","type":"bool"},{"kind":16,"name":"$query_string","modifiers":4,"location":[171,12,171,25],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$db_engine","modifiers":4,"location":[178,12,178,22],"scope":"Kima\\Model","type":"string"},{"kind":16,"name":"$total_count","modifiers":4,"location":[185,12,185,24],"scope":"Kima\\Model","type":"int"},{"kind":16,"name":"$debug","modifiers":4,"location":[192,12,192,26],"scope":"Kima\\Model","type":"bool"},{"kind":32,"name":"__construct","modifiers":1,"location":[197,4,215,5],"description":"constructor","scope":"Kima\\Model"},{"kind":32,"name":"get_total_count","modifiers":1,"location":[222,4,225,5],"description":"Gets the total count for a query","scope":"Kima\\Model","type":"int"},{"kind":32,"name":"to_array","modifiers":1,"location":[234,4,248,5],"description":"Returns the current object converted to array","scope":"Kima\\Model","type":"array","children":[{"kind":128,"name":"$objects","location":[234,29,234,48],"scope":"to_array","value":"[]","type":"array"}]},{"kind":32,"name":"set_db_engine","modifiers":1,"location":[257,4,262,5],"description":"Sets the database engine for the model","scope":"Kima\\Model","type":"Kima\\Model","children":[{"kind":128,"name":"$db_engine","location":[257,34,257,44],"scope":"set_db_engine","type":"string"}]},{"kind":32,"name":"set_model","modifiers":1,"location":[271,4,287,5],"description":"Sets the model name and table used","scope":"Kima\\Model","type":"Kima\\Model","children":[{"kind":128,"name":"$model","location":[271,30,271,36],"scope":"set_model","type":"string"}]},{"kind":32,"name":"database","modifiers":1,"location":[294,4,299,5],"description":"Set the database to use","scope":"Kima\\Model","children":[{"kind":128,"name":"$database","location":[294,29,294,38],"scope":"database","type":"string"}]},{"kind":32,"name":"table","modifiers":1,"location":[306,4,311,5],"description":"Sets the database table which should be used for insertion","scope":"Kima\\Model","children":[{"kind":128,"name":"$table","location":[306,26,306,32],"scope":"table","type":"string"}]},{"kind":32,"name":"join","modifiers":1,"location":[318,4,323,5],"description":"Sets a join with another table(s) for a query","scope":"Kima\\Model","children":[{"kind":128,"name":"$joins","location":[318,25,318,37],"scope":"join","type":"array"}]},{"kind":32,"name":"filter","modifiers":1,"location":[331,4,336,5],"description":"Sets the query filters","scope":"Kima\\Model","children":[{"kind":128,"name":"$filters","location":[331,27,331,41],"scope":"filter","type":"array"}]},{"kind":32,"name":"having","modifiers":1,"location":[343,4,348,5],"description":"Sets the query having","scope":"Kima\\Model","children":[{"kind":128,"name":"$having","location":[343,27,343,40],"scope":"having","type":"array"}]},{"kind":32,"name":"bind","modifiers":1,"location":[357,4,362,5],"description":"Set binds used for prepare statements","scope":"Kima\\Model","type":"Kima\\Model","children":[{"kind":128,"name":"$binds","location":[357,25,357,37],"scope":"bind","type":"array"}]},{"kind":32,"name":"group","modifiers":1,"location":[370,4,375,5],"description":"Sets a group join","scope":"Kima\\Model","children":[{"kind":128,"name":"$group","location":[370,26,370,38],"scope":"group","type":"array"}]},{"kind":32,"name":"order","modifiers":1,"location":[383,4,388,5],"description":"Sets a response order","scope":"Kima\\Model","children":[{"kind":128,"name":"$order","location":[383,26,383,32],"scope":"order","type":"mixed"}]},{"kind":32,"name":"limit","modifiers":1,"location":[397,4,409,5],"description":"Sets a query limit and start pagination value if necessary","scope":"Kima\\Model","children":[{"kind":128,"name":"$limit","location":[397,26,397,32],"scope":"limit","type":"int"},{"kind":128,"name":"$page","location":[397,34,397,43],"scope":"limit","value":"0","type":"int"},{"kind":128,"name":"$offset","location":[397,45,397,56],"scope":"limit","value":"0","type":"int"}]},{"kind":32,"name":"async","modifiers":1,"location":[416,4,421,5],"description":"Sets the whether the call is made sync/async","scope":"Kima\\Model","children":[{"kind":128,"name":"$async","location":[416,26,416,32],"scope":"async","type":"bool"}]},{"kind":32,"name":"prevent_upsert","modifiers":1,"location":[429,4,434,5],"description":"Prevents Mongo's upsert\nCan be used before a `put` invocation","scope":"Kima\\Model","children":[{"kind":128,"name":"$prevent_upsert","location":[429,35,429,57],"scope":"prevent_upsert","value":"true","type":"bool"}]},{"kind":32,"name":"debug","modifiers":1,"location":[439,4,444,5],"description":"Turns on debug mode","scope":"Kima\\Model"},{"kind":32,"name":"fetch","modifiers":1,"location":[454,4,461,5],"description":"Fetch one result of data from the database\nExample $fields values:\narray('id_user', 'name', 'id_city', 'city.name' => 'city_name')","scope":"Kima\\Model","children":[{"kind":128,"name":"$fields","location":[454,26,454,44],"scope":"fetch","value":"[]","type":"array"},{"kind":128,"name":"$return_as_array","location":[454,46,454,70],"scope":"fetch","value":"false","type":"bool"}]},{"kind":32,"name":"fetch_all","modifiers":1,"location":[472,4,477,5],"description":"Fetch multiple results from the database\nExample $fields values:\narray('id_user', 'name', 'id_city', 'city.name' => 'city_name')","scope":"Kima\\Model","children":[{"kind":128,"name":"$fields","location":[473,8,473,26],"scope":"fetch_all","value":"[]","type":"array"},{"kind":128,"name":"$get_as_result_set","location":[473,28,473,54],"description":"gets a result set with additional info as total count","scope":"fetch_all","value":"false","type":"bool"},{"kind":128,"name":"$return_as_array","location":[473,56,473,80],"scope":"fetch_all","value":"false","type":"bool"}]},{"kind":32,"name":"aggregate","modifiers":1,"location":[484,4,501,5],"description":"Aggregate method for models","scope":"Kima\\Model","type":"array"},{"kind":32,"name":"distinct","modifiers":1,"location":[508,4,532,5],"description":"Distinct method for model","scope":"Kima\\Model","children":[{"kind":128,"name":"$field","location":[508,29,508,35],"scope":"distinct","type":"string"}]},{"kind":32,"name":"update_model","modifiers":1,"location":[540,4,562,5],"description":"Updates data\nUse this method for batch or custom updates","scope":"Kima\\Model"},{"kind":32,"name":"put","modifiers":1,"location":[569,4,594,5],"description":"Inserts/updates data one at a time","scope":"Kima\\Model","children":[{"kind":128,"name":"$fields","location":[569,24,569,42],"scope":"put","value":"[]","type":"array"}]},{"kind":32,"name":"copy","modifiers":1,"location":[602,4,625,5],"description":"Clones a row in the database using the fields requested and filters","scope":"Kima\\Model","children":[{"kind":128,"name":"$fields","location":[602,25,602,43],"scope":"copy","value":"[]","type":"array"},{"kind":128,"name":"$source","location":[602,45,602,64],"description":"to be used in the select","scope":"copy","value":"''","typeSource":1,"type":"string"}]},{"kind":32,"name":"delete","modifiers":1,"location":[632,4,651,5],"description":"Deletes data","scope":"Kima\\Model"},{"kind":32,"name":"set_default_db_engine","modifiers":4,"location":[659,4,670,5],"description":"Sets the default database engine for the model","scope":"Kima\\Model","children":[{"kind":128,"name":"$config","location":[659,43,659,57],"scope":"set_default_db_engine","typeSource":1,"type":"Kima\\Prime\\Config"}]},{"kind":32,"name":"set_model_adapter","modifiers":4,"location":[677,4,691,5],"description":"Set the model adapter","scope":"Kima\\Model","type":"mixed"},{"kind":32,"name":"set_prefix","modifiers":4,"location":[698,4,703,5],"description":"Sets the model table/collection default prefix","scope":"Kima\\Model","children":[{"kind":128,"name":"$prefix","location":[698,32,698,39],"scope":"set_prefix","type":"string"}]},{"kind":32,"name":"set_default_model","modifiers":4,"location":[708,4,713,5],"description":"Set the default model","scope":"Kima\\Model"},{"kind":32,"name":"set_fields","modifiers":4,"location":[720,4,725,5],"description":"Sets the query fields to fetch/insert","scope":"Kima\\Model","children":[{"kind":128,"name":"$fields","location":[720,32,720,45],"scope":"set_fields","type":"array"}]},{"kind":32,"name":"get_query_params","modifiers":4,"location":[732,4,749,5],"description":"Get the query parameters","scope":"Kima\\Model","type":"array"},{"kind":32,"name":"clear_query_params","modifiers":4,"location":[754,4,769,5],"description":"Clears the query params","scope":"Kima\\Model"},{"kind":32,"name":"fetch_results","modifiers":4,"location":[779,4,832,5],"description":"Fetch query results","scope":"Kima\\Model","children":[{"kind":128,"name":"$fields","location":[780,8,780,21],"scope":"fetch_results","type":"array"},{"kind":128,"name":"$fetch_all","location":[780,23,780,33],"scope":"fetch_results","type":"bool"},{"kind":128,"name":"$get_as_result_set","location":[780,35,780,53],"description":"gets a result set with additional info as total count","scope":"fetch_results","type":"bool"},{"kind":128,"name":"$return_as_array","location":[780,55,780,71],"scope":"fetch_results","type":"bool"}]},{"kind":32,"name":"get_joins","modifiers":4,"location":[839,4,851,5],"description":"Remove duplicate values from the joins and gets the final value","scope":"Kima\\Model","type":"array"},{"kind":32,"name":"clear_params_array","modifiers":4,"location":[857,4,865,5],"description":"Clears the basic query params","scope":"Kima\\Model","children":[{"kind":128,"name":"$params","location":[857,40,857,54],"scope":"clear_params_array","type":"array&"}]}]}]}}