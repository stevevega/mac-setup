{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Admin/Service/Branch.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Admin\\Service","location":[11,0,11,27]},{"kind":1,"name":"ADraftRequest","modifiers":4096,"location":[13,5,13,26],"associated":[{"kind":1,"name":"HH\\Http\\ADraftRequest"}]},{"kind":1,"name":"Language","modifiers":4096,"location":[14,5,14,16],"associated":[{"kind":1,"name":"HH\\Language"}]},{"kind":1,"name":"Phone","modifiers":4096,"location":[15,5,15,13],"associated":[{"kind":1,"name":"HH\\Phone"}]},{"kind":1,"name":"Status","modifiers":4096,"location":[16,5,16,14],"associated":[{"kind":1,"name":"HH\\Status"}]},{"kind":1,"name":"HHTreatment","modifiers":4096,"location":[17,5,17,32],"associated":[{"kind":1,"name":"HH\\Treatment"}]},{"kind":1,"name":"TreatmentType","modifiers":4096,"location":[18,5,18,39],"associated":[{"kind":1,"name":"HH\\Treatment\\Type"}]},{"kind":1,"name":"AHealthService","modifiers":4096,"location":[19,5,19,39],"associated":[{"kind":1,"name":"HH\\UI\\HealthService\\AHealthService"}]},{"kind":1,"name":"AwsThumbnail","modifiers":4096,"location":[20,5,20,42],"associated":[{"kind":1,"name":"HH\\Util\\Aws\\Thumbnail"}]},{"kind":1,"name":"KInt","modifiers":4096,"location":[21,5,21,19],"associated":[{"kind":1,"name":"Kima\\Util\\KInt"}]},{"kind":1,"name":"Currency","modifiers":4096,"location":[22,5,22,19],"associated":[{"kind":1,"name":"Model\\Currency"}]},{"kind":1,"name":"BranchDraft","modifiers":4096,"location":[23,5,23,46],"associated":[{"kind":1,"name":"Model\\Draft\\Service\\Branch"}]},{"kind":1,"name":"InstanceModel","modifiers":4096,"location":[24,5,24,36],"associated":[{"kind":1,"name":"Model\\Instance"}]},{"kind":1,"name":"City","modifiers":4096,"location":[25,5,25,24],"associated":[{"kind":1,"name":"Model\\Location\\City"}]},{"kind":1,"name":"Country","modifiers":4096,"location":[26,5,26,27],"associated":[{"kind":1,"name":"Model\\Location\\Country"}]},{"kind":1,"name":"Service","modifiers":4096,"location":[27,5,27,18],"associated":[{"kind":1,"name":"Model\\Service"}]},{"kind":1,"name":"ServiceBranchModel","modifiers":4096,"location":[28,5,28,47],"associated":[{"kind":1,"name":"Model\\Service\\Branch"}]},{"kind":1,"name":"BranchEmailModel","modifiers":4096,"location":[29,5,29,51],"associated":[{"kind":1,"name":"Model\\Service\\Branch\\Email"}]},{"kind":1,"name":"BranchInstanceModel","modifiers":4096,"location":[30,5,30,57],"associated":[{"kind":1,"name":"Model\\Service\\Branch\\Instance"}]},{"kind":1,"name":"BranchL10nModel","modifiers":4096,"location":[31,5,31,49],"associated":[{"kind":1,"name":"Model\\Service\\Branch\\L10n"}]},{"kind":1,"name":"BranchPhoneModel","modifiers":4096,"location":[32,5,32,51],"associated":[{"kind":1,"name":"Model\\Service\\Branch\\Phone"}]},{"kind":1,"name":"BranchTreatmentModel","modifiers":4096,"location":[33,5,33,59],"associated":[{"kind":1,"name":"Model\\Service\\Branch\\Treatment"}]},{"kind":1,"name":"ServiceTypeModel","modifiers":4096,"location":[34,5,34,43],"associated":[{"kind":1,"name":"Model\\Service\\Type"}]},{"kind":1,"name":"TreatmentModel","modifiers":4096,"location":[35,5,35,38],"associated":[{"kind":1,"name":"Model\\Treatment"}]},{"kind":1,"name":"HH\\Admin\\Service\\Branch","modifiers":8,"location":[40,0,937,1],"associated":[{"kind":1,"name":"HH\\Http\\ADraftRequest"}],"description":"Service Branch Admin library","children":[{"kind":1024,"name":"ERROR_MIN_NUM_PUBLIC_TREATMENTS","modifiers":1,"location":[45,10,45,77],"scope":"HH\\Admin\\Service\\Branch","value":"'error_min_num_public_treatments'"},{"kind":1024,"name":"ERROR_MAX_NUMBER_PREFERRED_TREATMENT","modifiers":1,"location":[46,10,46,87],"scope":"HH\\Admin\\Service\\Branch","value":"'error_max_number_preferred_treatment'"},{"kind":1024,"name":"SERVICE_BRANCH","modifiers":1,"location":[51,10,51,43],"scope":"HH\\Admin\\Service\\Branch","value":"'service_branch'"},{"kind":1024,"name":"NEW_SERVICE_BRANCH","modifiers":1,"location":[52,10,52,36],"scope":"HH\\Admin\\Service\\Branch","value":"'new'"},{"kind":1024,"name":"DRAFT_MODEL","modifiers":1,"location":[57,10,57,53],"scope":"HH\\Admin\\Service\\Branch","value":"'\\Model\\Draft\\Service\\Branch'"},{"kind":1024,"name":"ADDRESS","modifiers":1,"location":[62,10,62,29],"scope":"HH\\Admin\\Service\\Branch","value":"'address'"},{"kind":1024,"name":"EMAILS","modifiers":1,"location":[63,10,63,27],"scope":"HH\\Admin\\Service\\Branch","value":"'emails'"},{"kind":1024,"name":"ID_CITY","modifiers":1,"location":[64,10,64,29],"scope":"HH\\Admin\\Service\\Branch","value":"'id_city'"},{"kind":1024,"name":"ID_SERVICE_BRANCH","modifiers":1,"location":[65,10,65,49],"scope":"HH\\Admin\\Service\\Branch","value":"'id_service_branch'"},{"kind":1024,"name":"INSTANCES","modifiers":1,"location":[66,10,66,33],"scope":"HH\\Admin\\Service\\Branch","value":"'instances'"},{"kind":1024,"name":"LATITUDE","modifiers":1,"location":[67,10,67,31],"scope":"HH\\Admin\\Service\\Branch","value":"'latitude'"},{"kind":1024,"name":"LONGITUDE","modifiers":1,"location":[68,10,68,33],"scope":"HH\\Admin\\Service\\Branch","value":"'longitude'"},{"kind":1024,"name":"NAME","modifiers":1,"location":[69,10,69,23],"scope":"HH\\Admin\\Service\\Branch","value":"'name'"},{"kind":1024,"name":"PHONES","modifiers":1,"location":[70,10,70,27],"scope":"HH\\Admin\\Service\\Branch","value":"'phones'"},{"kind":1024,"name":"PHOTO","modifiers":1,"location":[71,10,71,25],"scope":"HH\\Admin\\Service\\Branch","value":"'photo'"},{"kind":1024,"name":"STATUS","modifiers":1,"location":[72,10,72,27],"scope":"HH\\Admin\\Service\\Branch","value":"'status'"},{"kind":1024,"name":"SUMMARY","modifiers":1,"location":[73,10,73,29],"scope":"HH\\Admin\\Service\\Branch","value":"'summary'"},{"kind":1024,"name":"TREATMENTS","modifiers":1,"location":[74,10,74,35],"scope":"HH\\Admin\\Service\\Branch","value":"'treatments'"},{"kind":1024,"name":"L_CITY","modifiers":1,"location":[79,10,79,27],"scope":"HH\\Admin\\Service\\Branch","value":"'l_city'"},{"kind":1024,"name":"EMAIL","modifiers":1,"location":[84,10,84,25],"scope":"HH\\Admin\\Service\\Branch","value":"'email'"},{"kind":1024,"name":"ID_COUNTRY","modifiers":1,"location":[85,10,85,35],"scope":"HH\\Admin\\Service\\Branch","value":"'id_country'"},{"kind":1024,"name":"ID_CURRENCY","modifiers":1,"location":[86,10,86,37],"scope":"HH\\Admin\\Service\\Branch","value":"'id_currency'"},{"kind":1024,"name":"ID_INSTANCE","modifiers":1,"location":[87,10,87,37],"scope":"HH\\Admin\\Service\\Branch","value":"'id_instance'"},{"kind":1024,"name":"ID_SERVICE_BRANCH_EMAIL","modifiers":1,"location":[88,10,88,61],"scope":"HH\\Admin\\Service\\Branch","value":"'id_service_branch_email'"},{"kind":1024,"name":"ID_PHONE","modifiers":1,"location":[89,10,89,31],"scope":"HH\\Admin\\Service\\Branch","value":"'id_phone'"},{"kind":1024,"name":"ID_TREATMENT","modifiers":1,"location":[90,10,90,39],"scope":"HH\\Admin\\Service\\Branch","value":"'id_treatment'"},{"kind":1024,"name":"PHONE_EXTENSION","modifiers":1,"location":[91,10,91,45],"scope":"HH\\Admin\\Service\\Branch","value":"'phone_extension'"},{"kind":1024,"name":"PHONE_NUMBER","modifiers":1,"location":[92,10,92,39],"scope":"HH\\Admin\\Service\\Branch","value":"'phone_number'"},{"kind":1024,"name":"PRICE","modifiers":1,"location":[93,10,93,25],"scope":"HH\\Admin\\Service\\Branch","value":"'price'"},{"kind":1024,"name":"IS_PUBLIC","modifiers":1,"location":[94,10,94,33],"scope":"HH\\Admin\\Service\\Branch","value":"'is_public'"},{"kind":1024,"name":"SERVICE_TYPE","modifiers":1,"location":[95,10,95,39],"scope":"HH\\Admin\\Service\\Branch","value":"'service_type'"},{"kind":1024,"name":"IS_PREFERRED","modifiers":1,"location":[96,10,96,39],"scope":"HH\\Admin\\Service\\Branch","value":"'is_preferred'"},{"kind":1024,"name":"TYPE","modifiers":1,"location":[97,10,97,23],"scope":"HH\\Admin\\Service\\Branch","value":"'type'"},{"kind":1024,"name":"MAX_PHONES","modifiers":1,"location":[102,10,102,24],"scope":"HH\\Admin\\Service\\Branch","value":"3"},{"kind":1024,"name":"MAX_EMAILS","modifiers":1,"location":[103,10,103,24],"scope":"HH\\Admin\\Service\\Branch","value":"3"},{"kind":1024,"name":"MAX_PRICE_VALUE","modifiers":1,"location":[108,10,108,39],"scope":"HH\\Admin\\Service\\Branch","value":"99999999.99"},{"kind":1024,"name":"COUNTRIES","modifiers":1,"location":[113,10,113,33],"scope":"HH\\Admin\\Service\\Branch","value":"'countries'"},{"kind":1024,"name":"CURRENCIES","modifiers":1,"location":[114,10,114,35],"scope":"HH\\Admin\\Service\\Branch","value":"'currencies'"},{"kind":1024,"name":"DEFAULT_PHOTO","modifiers":1,"location":[119,10,119,99],"scope":"HH\\Admin\\Service\\Branch","value":"'/img/placeholder/thumbnail/500x250/service-branch-photo-placeholder.png'"},{"kind":16,"name":"$treatment_behavior","modifiers":1,"location":[126,11,131,5],"scope":"HH\\Admin\\Service\\Branch","type":"array"},{"kind":16,"name":"$treatments_fields","modifiers":2,"location":[138,14,145,5],"scope":"HH\\Admin\\Service\\Branch","type":"array"},{"kind":16,"name":"$instances_fields","modifiers":2,"location":[151,14,153,5],"scope":"HH\\Admin\\Service\\Branch","type":"array"},{"kind":16,"name":"$phones_fields","modifiers":2,"location":[160,14,165,5],"scope":"HH\\Admin\\Service\\Branch","type":"array"},{"kind":16,"name":"$emails_fields","modifiers":2,"location":[172,14,175,5],"scope":"HH\\Admin\\Service\\Branch","type":"array"},{"kind":16,"name":"$allowed_statuses","modifiers":2,"location":[181,14,186,5],"scope":"HH\\Admin\\Service\\Branch","type":"array"},{"kind":16,"name":"$min_num_public_treatments","modifiers":2,"location":[191,14,191,44],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$save_fields","modifiers":2,"location":[198,14,213,5],"scope":"HH\\Admin\\Service\\Branch","type":"array"},{"kind":16,"name":"$requiered_service_branch_fields","modifiers":2,"location":[221,14,230,5],"scope":"HH\\Admin\\Service\\Branch","type":"[HH\\Admin\\Service\\type]"},{"kind":16,"name":"$readonly_fields","modifiers":2,"location":[235,14,237,5],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$address","modifiers":2,"location":[242,14,242,22],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$emails","modifiers":2,"location":[243,14,243,21],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$id_city","modifiers":2,"location":[244,14,244,22],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$id_service_branch","modifiers":2,"location":[245,14,245,32],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$instances","modifiers":2,"location":[246,14,246,24],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$latitude","modifiers":2,"location":[247,14,247,23],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$longitude","modifiers":2,"location":[248,14,248,24],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$name","modifiers":2,"location":[249,14,249,19],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$phones","modifiers":2,"location":[250,14,250,21],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$photo","modifiers":2,"location":[251,14,251,20],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$status","modifiers":2,"location":[252,14,252,21],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$summary","modifiers":2,"location":[253,14,253,22],"scope":"HH\\Admin\\Service\\Branch"},{"kind":16,"name":"$treatments","modifiers":2,"location":[254,14,254,25],"scope":"HH\\Admin\\Service\\Branch"},{"kind":32,"name":"get_service_branch","modifiers":1,"location":[264,4,306,5],"description":"Gets the branch information\nThe info should be used to pre-fill the edit branch page","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$id_service_branch","location":[264,39,264,57],"scope":"get_service_branch","type":"int"}]},{"kind":32,"name":"get_options_data","modifiers":1,"location":[313,4,324,5],"description":"Gets the data for preloaded multivalue fields","scope":"HH\\Admin\\Service\\Branch","type":"array"},{"kind":32,"name":"save","modifiers":1,"location":[333,4,367,5],"description":"Saves a branch","scope":"HH\\Admin\\Service\\Branch","type":"array","children":[{"kind":128,"name":"$data","location":[333,25,333,30],"scope":"save","type":"HH\\Admin\\Service\\stdClass"}]},{"kind":32,"name":"is_valid_service_branch","modifiers":1,"location":[376,4,397,5],"description":"Validate if all the instances has a valid profile according to the type of service","scope":"HH\\Admin\\Service\\Branch","type":"bool","children":[{"kind":128,"name":"$id_service_branches","location":[376,44,376,64],"scope":"is_valid_service_branch","type":"int"}]},{"kind":32,"name":"delete","modifiers":1,"location":[406,4,423,5],"description":"Logically deletes the branch","scope":"HH\\Admin\\Service\\Branch","type":"array","children":[{"kind":128,"name":"$id_service_branch","location":[406,27,406,45],"scope":"delete","type":"int"}]},{"kind":32,"name":"set_service_type","modifiers":1,"location":[433,4,442,5],"description":"Sets the service_type and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$service_type","location":[433,37,433,50],"scope":"set_service_type","type":"mixed"}]},{"kind":32,"name":"get_branch_profile","modifiers":2,"location":[451,4,460,5],"description":"Gets the branch profile for admin edition","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Clinic","children":[{"kind":128,"name":"$id_service_branch","location":[451,42,451,60],"scope":"get_branch_profile","type":"int"}]},{"kind":32,"name":"get_branch_additional_info","modifiers":2,"location":[469,4,498,5],"description":"Gets the branch additional required information","scope":"HH\\Admin\\Service\\Branch","type":"Model\\Service\\Branch","children":[{"kind":128,"name":"$branch","location":[469,50,469,57],"scope":"get_branch_additional_info","type":"Model\\Service\\Branch"}]},{"kind":32,"name":"get_additional_options_data","modifiers":2,"location":[507,4,517,5],"description":"Gets additional options data specific for a service type","scope":"HH\\Admin\\Service\\Branch","type":"array","children":[{"kind":128,"name":"$options_data","location":[507,51,507,70],"scope":"get_additional_options_data","type":"array"}]},{"kind":32,"name":"save_branch_data","modifiers":2,"location":[524,4,539,5],"description":"Saves the service_branch full information","scope":"HH\\Admin\\Service\\Branch","type":"bool"},{"kind":32,"name":"save_l10n","modifiers":2,"location":[546,4,552,5],"description":"Saves branch l10n data","scope":"HH\\Admin\\Service\\Branch","type":"bool"},{"kind":32,"name":"save_multivalue_fields","modifiers":2,"location":[559,4,569,5],"description":"Saves branch multivalue fields data","scope":"HH\\Admin\\Service\\Branch","type":"bool"},{"kind":32,"name":"delete_branch","modifiers":2,"location":[576,4,601,5],"description":"Logically deletes the service branch from the required instances","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch"},{"kind":32,"name":"set_treatment_type_behavior","modifiers":2,"location":[609,4,624,5],"description":"Set the treatment type behavior according to the service branch type","scope":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$content","location":[609,51,609,60],"description":"Content can be an object or an array","scope":"set_treatment_type_behavior","type":"mixed"},{"kind":128,"name":"$id_service_branch","location":[609,62,609,80],"scope":"set_treatment_type_behavior","type":"int"}]},{"kind":32,"name":"save_service_branch","modifiers":2,"location":[631,4,645,5],"description":"Saves the branch data","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch"},{"kind":32,"name":"touch","modifiers":2,"location":[650,4,653,5],"description":"Touch required elements","scope":"HH\\Admin\\Service\\Branch"},{"kind":32,"name":"set_emails","modifiers":2,"location":[662,4,677,5],"description":"Sets the emails and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$emails","location":[662,34,662,47],"scope":"set_emails","type":"array"}]},{"kind":32,"name":"set_id_city","modifiers":2,"location":[686,4,695,5],"description":"Sets the id_city and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$id_city","location":[686,35,686,43],"scope":"set_id_city","type":"int"}]},{"kind":32,"name":"set_id_service_branch","modifiers":2,"location":[704,4,719,5],"description":"Sets the id_service_branch and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$id_service_branch","location":[704,45,704,63],"scope":"set_id_service_branch","type":"int"}]},{"kind":32,"name":"set_instances","modifiers":2,"location":[728,4,743,5],"description":"Sets the instances and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$instances","location":[728,37,728,53],"scope":"set_instances","type":"array"}]},{"kind":32,"name":"set_latitude","modifiers":2,"location":[752,4,757,5],"description":"Sets the latitude and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$latitude","location":[752,36,752,45],"scope":"set_latitude","type":"float"}]},{"kind":32,"name":"set_longitude","modifiers":2,"location":[766,4,771,5],"description":"Sets the longitude and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$longitude","location":[766,37,766,47],"scope":"set_longitude","type":"float"}]},{"kind":32,"name":"set_phones","modifiers":2,"location":[780,4,795,5],"description":"Sets the phones and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$phones","location":[780,34,780,47],"scope":"set_phones","type":"array"}]},{"kind":32,"name":"set_photo","modifiers":2,"location":[804,4,809,5],"description":"Sets the photo and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$photo","location":[804,33,804,39],"scope":"set_photo","type":"string"}]},{"kind":32,"name":"set_treatments","modifiers":2,"location":[818,4,895,5],"description":"Sets the treatments and validates it","scope":"HH\\Admin\\Service\\Branch","type":"HH\\Admin\\Service\\Branch","children":[{"kind":128,"name":"$treatments","location":[818,38,818,55],"scope":"set_treatments","type":"array"}]},{"kind":32,"name":"has_required_properties","modifiers":4,"location":[904,4,915,5],"description":"Review if a service branch have all the required properties","scope":"HH\\Admin\\Service\\Branch","type":"bool","children":[{"kind":128,"name":"$service_branch","location":[904,45,904,60],"scope":"has_required_properties","type":"int"}]},{"kind":32,"name":"get_branch_from_array","modifiers":4,"location":[925,4,936,5],"description":"Return the service branch from an array of service branches","scope":"HH\\Admin\\Service\\Branch","type":"object","children":[{"kind":128,"name":"$id_service_branch","location":[925,43,925,61],"scope":"get_branch_from_array","type":"int"},{"kind":128,"name":"$service_branches","location":[925,63,925,86],"description":"array of service branch objects\n","scope":"get_branch_from_array","type":"array"}]}]}]}}