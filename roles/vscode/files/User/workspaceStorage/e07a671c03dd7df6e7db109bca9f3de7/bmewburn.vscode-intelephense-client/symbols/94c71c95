{"uri":"file:///Users/vega/Code/huli/manager-web/src/test/phpunit/library/Payment/Event/InvoiceUpdatedTest.php","root":{"kind":0,"name":"","children":[{"kind":1,"name":"Module","modifiers":4096,"location":[11,5,11,14],"associated":[{"kind":1,"name":"HH\\Module"}]},{"kind":1,"name":"Session","modifiers":4096,"location":[12,5,12,48],"associated":[{"kind":1,"name":"HH\\Test\\Authentication\\App\\Practice\\Session"}]},{"kind":1,"name":"HelperData","modifiers":4096,"location":[13,5,13,31],"associated":[{"kind":1,"name":"HH\\Test\\Data"}]},{"kind":1,"name":"Helper","modifiers":4096,"location":[14,5,14,19],"associated":[{"kind":1,"name":"HH\\Test\\Helper"}]},{"kind":1,"name":"InvoiceItem","modifiers":4096,"location":[15,5,15,30],"associated":[{"kind":1,"name":"Payment\\Addon\\InvoiceItem"}]},{"kind":1,"name":"Wrapper","modifiers":4096,"location":[16,5,16,32],"associated":[{"kind":1,"name":"Payment\\EventObject\\Wrapper"}]},{"kind":1,"name":"Updated","modifiers":4096,"location":[17,5,17,35],"associated":[{"kind":1,"name":"Payment\\Events\\Invoice\\Updated"}]},{"kind":1,"name":"InvoiceStore","modifiers":4096,"location":[18,5,18,42],"associated":[{"kind":1,"name":"Payment\\Store\\Invoice"}]},{"kind":1,"name":"InvoiceUpdatedEventTest","location":[22,0,238,1],"associated":[{"kind":1,"name":"PHPUnit_Framework_TestCase"}],"description":"_\n_             _ _| |_\n| |           | |_   _|\n| |___  _   _ | | |_|\n| '_  \\| | | || | | |\n| | | || |_| || | | |\n|_| |_|\\___,_||_| |_|\n\n(c) Huli Inc","children":[{"kind":16,"name":"$helper","modifiers":34,"location":[24,21,24,28],"scope":"InvoiceUpdatedEventTest"},{"kind":16,"name":"$data","modifiers":34,"location":[25,21,25,26],"scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"setUpBeforeClass","modifiers":33,"location":[27,4,34,5],"scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"tearDownAfterClass","modifiers":33,"location":[36,4,39,5],"scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"setUp","modifiers":2,"location":[41,4,52,5],"scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"test_invoice","modifiers":1,"location":[57,4,69,5],"description":"Test default behaviour, invoice is not processed","scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"test_invalid_invoice","modifiers":1,"location":[74,4,82,5],"scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"test_user_with_free_plan","modifiers":1,"location":[88,4,101,5],"description":"Tests that a user with a free plan should not be charged for any\nfeatures even if they are assigned (albeit incorrectly)","scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"test_closed_invoice","modifiers":1,"location":[107,4,117,5],"description":"Tests what happens when the invoice was created closed (this happens mostly\nwhen the subscription is unpaid).","scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"test_closed_processed","modifiers":1,"location":[119,4,134,5],"scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"test_invoice_no_reopened_invoice","modifiers":1,"location":[140,4,156,5],"description":"Test that when an invoice.updated event is received the handler will\nskip it if the change is not from closed=true to closed=false.","scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"test_invoice_unprocessed_invoice","modifiers":1,"location":[158,4,178,5],"scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"test_idempotency","modifiers":1,"location":[185,4,192,5],"scope":"InvoiceUpdatedEventTest","children":[{"kind":128,"name":"$args","location":[185,37,185,42],"scope":"test_idempotency"}]},{"kind":32,"name":"test_invoice_unprocessed_invoice_none","modifiers":1,"location":[198,4,212,5],"description":"Testing that an invoice can be processed even if it doesn't have\ninvoice items.","scope":"InvoiceUpdatedEventTest"},{"kind":32,"name":"get_invoice","modifiers":4,"location":[217,4,226,5],"scope":"InvoiceUpdatedEventTest","type":"Payment\\Store\\Invoice"},{"kind":32,"name":"add_invoice_item","modifiers":4,"location":[231,4,237,5],"scope":"InvoiceUpdatedEventTest","type":"Payment\\Addon\\InvoiceItem","children":[{"kind":128,"name":"$s","location":[231,38,231,53],"scope":"add_invoice_item","typeSource":1,"type":"Payment\\Store\\Invoice"},{"kind":128,"name":"$id","location":[231,55,231,65],"scope":"add_invoice_item","value":"null"}]}]}]}}