{"uri":"file:///Users/vega/Code/huli/manager-web/src/application/model/Viator/Notification.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Model\\Viator","location":[11,0,11,23]},{"kind":1,"name":"UTCDateTime","modifiers":4096,"location":[13,5,13,30],"associated":[{"kind":1,"name":"HH\\Util\\Mongo\\UTCDateTime"}]},{"kind":1,"name":"Model","modifiers":4096,"location":[14,5,14,15],"associated":[{"kind":1,"name":"Kima\\Model"}]},{"kind":1,"name":"ObjectID","modifiers":4096,"location":[15,5,15,26],"associated":[{"kind":1,"name":"MongoDB\\BSON\\ObjectID"}]},{"kind":1,"name":"Model\\Viator\\Notification","location":[30,0,201,1],"associated":[{"kind":1,"name":"Kima\\Model"}],"description":"This class allows interaction with notifications stored by Viator","children":[{"kind":16,"name":"$_id","modifiers":256,"location":[17,0,29,3],"type":"MongoDB\\BSON\\ObjectID"},{"kind":16,"name":"$to","modifiers":256,"location":[17,0,29,3],"description":"destinatary","type":"Model\\Viator\\String"},{"kind":16,"name":"$createdAt","modifiers":256,"location":[17,0,29,3],"description":"when was the notification created?","type":"HH\\Util\\Mongo\\UTCDateTime"},{"kind":16,"name":"$updatedAt","modifiers":256,"location":[17,0,29,3],"description":"when was the notification updated?","type":"HH\\Util\\Mongo\\UTCDateTime"},{"kind":16,"name":"$type","modifiers":256,"location":[17,0,29,3],"description":"notification type or category","type":"Model\\Viator\\String"},{"kind":16,"name":"$eventName","modifiers":256,"location":[17,0,29,3],"description":"event that was reported to the client, commonly related to $type","type":"Model\\Viator\\String"},{"kind":16,"name":"$status","modifiers":256,"location":[17,0,29,3],"description":"notification status (represented by a number)","type":"Model\\Viator\\String"},{"kind":16,"name":"$data","modifiers":256,"location":[17,0,29,3],"description":"notification payload that was delivered to the client","type":"Model\\Viator\\Array"},{"kind":16,"name":"$namespace","modifiers":256,"location":[17,0,29,3],"description":"destinatary namespace","type":"Model\\Viator\\String"},{"kind":1024,"name":"DB_ENGINE","modifiers":1,"location":[35,10,35,29],"scope":"Model\\Viator\\Notification","value":"'mongo'"},{"kind":1024,"name":"TABLE","modifiers":1,"location":[39,10,39,39],"scope":"Model\\Viator\\Notification","value":"'viator.notification'"},{"kind":1024,"name":"ID","modifiers":1,"location":[43,10,43,20],"scope":"Model\\Viator\\Notification","value":"'_id'"},{"kind":1024,"name":"TO","modifiers":1,"location":[44,10,44,19],"scope":"Model\\Viator\\Notification","value":"'to'"},{"kind":1024,"name":"CREATED_ON","modifiers":1,"location":[45,10,45,34],"scope":"Model\\Viator\\Notification","value":"'createdAt'"},{"kind":1024,"name":"UPDATED_ON","modifiers":1,"location":[46,10,46,34],"scope":"Model\\Viator\\Notification","value":"'updatedAt'"},{"kind":1024,"name":"TYPE","modifiers":1,"location":[47,10,47,23],"scope":"Model\\Viator\\Notification","value":"'type'"},{"kind":1024,"name":"EVENT_NAME","modifiers":1,"location":[48,10,48,34],"scope":"Model\\Viator\\Notification","value":"'eventName'"},{"kind":1024,"name":"STATUS","modifiers":1,"location":[49,10,49,27],"scope":"Model\\Viator\\Notification","value":"'status'"},{"kind":1024,"name":"DATA","modifiers":1,"location":[50,10,50,23],"scope":"Model\\Viator\\Notification","value":"'data'"},{"kind":1024,"name":"NOTIFICATION_NAMESPACE","modifiers":1,"location":[51,10,51,46],"scope":"Model\\Viator\\Notification","value":"'namespace'"},{"kind":1024,"name":"STATUS_NOT_DELIVERED","modifiers":1,"location":[56,10,56,34],"scope":"Model\\Viator\\Notification","value":"1"},{"kind":1024,"name":"STATUS_DELIVERED","modifiers":1,"location":[57,10,57,30],"scope":"Model\\Viator\\Notification","value":"2"},{"kind":1024,"name":"STATUS_READ","modifiers":1,"location":[58,10,58,25],"scope":"Model\\Viator\\Notification","value":"3"},{"kind":1024,"name":"TOTAL","modifiers":1,"location":[63,10,63,25],"scope":"Model\\Viator\\Notification","value":"'total'"},{"kind":32,"name":"get_user_notifications","modifiers":33,"location":[78,4,116,5],"description":"Retrieves a list of notifications, related to a user","scope":"Model\\Viator\\Notification","type":"array","children":[{"kind":128,"name":"$to","location":[79,8,79,11],"description":"the id of the user","scope":"get_user_notifications","type":"string"},{"kind":128,"name":"$limit","location":[80,8,80,19],"scope":"get_user_notifications","value":"10","type":"mixed"},{"kind":128,"name":"$page","location":[81,8,81,17],"scope":"get_user_notifications","value":"0","type":"mixed"},{"kind":128,"name":"$type","location":[82,8,82,20],"description":"optional notification type filter","scope":"get_user_notifications","value":"null","type":"string"},{"kind":128,"name":"$event_name","location":[83,8,83,26],"description":"optional notification event name filter","scope":"get_user_notifications","value":"null","type":"string"},{"kind":128,"name":"$order","location":[84,8,84,25],"scope":"get_user_notifications","value":"self::ID","type":"mixed"},{"kind":128,"name":"$order_type","location":[85,8,85,26],"scope":"get_user_notifications","value":"null","type":"null|mixed"}]},{"kind":32,"name":"get_notification_count","modifiers":33,"location":[130,4,159,5],"description":"Obtains the amount of notifications with a given status\nand an optional type.\ne.g. get_notification_count('someuserid', 1) will obtain all\nnot delivered notifications for the user 'someuserid'","scope":"Model\\Viator\\Notification","type":"int","children":[{"kind":128,"name":"$to","location":[130,50,130,53],"description":"notification destinatary","scope":"get_notification_count","type":"string"},{"kind":128,"name":"$status","location":[130,55,130,62],"description":"valid notification status","scope":"get_notification_count","type":"string"},{"kind":128,"name":"$type","location":[130,64,130,76],"description":"notification type\n","scope":"get_notification_count","value":"null","type":"string"}]},{"kind":32,"name":"update_notification_status","modifiers":33,"location":[171,4,200,5],"description":"Updates a notification or notification group status","scope":"Model\\Viator\\Notification","type":"[Model\\Viator\\type]","children":[{"kind":128,"name":"$to","location":[172,8,172,11],"description":"a user's id","scope":"update_notification_status","type":"string"},{"kind":128,"name":"$new_status","location":[173,8,173,19],"description":"the new notification status (see constants above)","scope":"update_notification_status","type":"int"},{"kind":128,"name":"$id_notification","location":[174,8,174,31],"description":"add this field to filter by notification id","scope":"update_notification_status","value":"null","type":"string"},{"kind":128,"name":"$status","location":[175,8,175,22],"description":"add this field to filter by notification status\n","scope":"update_notification_status","value":"null","type":"string"}]}]}]}}