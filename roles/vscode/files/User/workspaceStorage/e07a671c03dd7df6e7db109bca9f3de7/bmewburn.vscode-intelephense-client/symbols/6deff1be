{"uri":"file:///Users/vega/Code/huli/manager-web/src/vendor/stevevega/kima/library/Kima/View.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Kima","location":[5,0,5,15]},{"kind":1,"name":"CssToInline","modifiers":4096,"location":[7,4,7,25],"associated":[{"kind":1,"name":"Kima\\Html\\CssToInline"}]},{"kind":1,"name":"Kima\\View","location":[14,0,986,1],"description":"View\nHandles the view template system for better views","children":[{"kind":1024,"name":"ERROR_INVALID_CONTENT_TYPE","modifiers":1,"location":[20,10,20,73],"scope":"Kima\\View","value":"'\"%s\" is not a valid content type'"},{"kind":1024,"name":"ERROR_INVALID_VIEW_PATH","modifiers":1,"location":[21,10,21,80],"scope":"Kima\\View","value":"'Cannot access template directory path \"%s\"'"},{"kind":1024,"name":"ERROR_DUPLICATE_TEMPLATE","modifiers":1,"location":[22,10,22,72],"scope":"Kima\\View","value":"'Template \"%s\" was already created'"},{"kind":1024,"name":"ERROR_NO_TEMPLATE","modifiers":1,"location":[23,10,23,56],"scope":"Kima\\View","value":"'Template \"%s\" not exists'"},{"kind":1024,"name":"ERROR_HTML_ONLY","modifiers":1,"location":[24,10,24,64],"scope":"Kima\\View","value":"'%s can only be added to html views'"},{"kind":1024,"name":"ERROR_INVALID_HTML_HEADER","modifiers":1,"location":[25,10,25,99],"scope":"Kima\\View","value":"'Invalid html format, <head> needed for meta tags and styles'"},{"kind":1024,"name":"ERROR_INVALID_HTML_BODY","modifiers":1,"location":[26,10,26,79],"scope":"Kima\\View","value":"'Invalid html format, <head> needed for %s'"},{"kind":1024,"name":"HTML","modifiers":1,"location":[31,10,31,23],"scope":"Kima\\View","value":"'html'"},{"kind":1024,"name":"XML","modifiers":1,"location":[32,10,32,21],"scope":"Kima\\View","value":"'xml'"},{"kind":1024,"name":"TXT","modifiers":1,"location":[33,10,33,21],"scope":"Kima\\View","value":"'txt'"},{"kind":1024,"name":"LAZY_LOAD_SCRIPT","modifiers":1,"location":[38,10,53,18],"scope":"Kima\\View","value":"'<script type=\"text/javascript\">\n            (function (w) {\n                function ll()\n                {\n                    var e;\n                    %s\n                }\n\n                if (w.addEventListener)\n                    w.addEventListener(\"load\", ll, false);\n                else if (w.attachEvent)\n                    w.attachEvent(\"onload\", ll);\n                else w.onload = ll;\n            })(window);\n        </script>'"},{"kind":1024,"name":"LAZY_LOAD_INCLUDE","modifiers":1,"location":[58,10,62,38],"scope":"Kima\\View","value":"'e = document.createElement(\"script\");\n        e.src = \"%s\";\n        e.type = \"text/javascript\";\n        document.body.appendChild(e);'"},{"kind":16,"name":"$content_types","modifiers":4,"location":[68,12,68,63],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$content_type","modifiers":4,"location":[74,12,74,25],"scope":"Kima\\View","type":"string"},{"kind":16,"name":"$view_path","modifiers":4,"location":[80,12,80,22],"scope":"Kima\\View","type":"string"},{"kind":16,"name":"$failover_path","modifiers":4,"location":[86,12,86,26],"scope":"Kima\\View","type":"string"},{"kind":16,"name":"$use_layout","modifiers":4,"location":[92,12,92,31],"scope":"Kima\\View","type":"boolean"},{"kind":16,"name":"$apply_styles_inline","modifiers":4,"location":[98,12,98,40],"scope":"Kima\\View","type":"boolean"},{"kind":16,"name":"$cache","modifiers":4,"location":[104,12,104,18],"scope":"Kima\\View","type":"Kima\\Cache"},{"kind":16,"name":"$globals","modifiers":4,"location":[110,12,110,25],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$vars","modifiers":4,"location":[116,12,116,22],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$scripts","modifiers":4,"location":[122,12,122,25],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$lazy_scripts","modifiers":4,"location":[128,12,128,30],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$styles","modifiers":4,"location":[134,12,134,24],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$style_files","modifiers":4,"location":[140,12,140,29],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$meta_tags","modifiers":4,"location":[146,12,146,27],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$blocks","modifiers":4,"location":[152,12,152,24],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$parsed_blocks","modifiers":4,"location":[158,12,158,31],"scope":"Kima\\View","type":"array"},{"kind":16,"name":"$auto_display","modifiers":4,"location":[164,12,164,25],"scope":"Kima\\View","type":"boolean"},{"kind":16,"name":"$use_compression","modifiers":4,"location":[170,12,170,28],"scope":"Kima\\View","type":"boolean"},{"kind":32,"name":"__construct","modifiers":1,"location":[176,4,202,5],"description":"Constructor","scope":"Kima\\View","children":[{"kind":128,"name":"$options","location":[176,32,176,51],"scope":"__construct","value":"[]","type":"array"}]},{"kind":32,"name":"load","modifiers":1,"location":[209,4,238,5],"description":"Loads a view and set it into blocks","scope":"Kima\\View","children":[{"kind":128,"name":"$file","location":[209,25,209,30],"scope":"load","type":"string"},{"kind":128,"name":"$view_path","location":[209,32,209,49],"description":"custom view path","scope":"load","value":"null","type":"string"}]},{"kind":32,"name":"set","modifiers":1,"location":[250,4,273,5],"description":"Sets a value to a variable\nIf no template is passed, it will send a global variable","scope":"Kima\\View","type":"Kima\\View","children":[{"kind":128,"name":"$name","location":[250,24,250,29],"scope":"set","type":"string"},{"kind":128,"name":"$value","location":[250,31,250,37],"scope":"set","type":"string"},{"kind":128,"name":"$template","location":[250,39,250,55],"scope":"set","value":"null","type":"string"},{"kind":128,"name":"$escaped","location":[250,57,250,72],"description":"Escaped by default","scope":"set","value":"true","type":"boolean"},{"kind":128,"name":"$apply_nl2br","location":[250,74,250,94],"description":"Whether to apply nl2br to values or not","scope":"set","value":"false","type":"boolean"}]},{"kind":32,"name":"render","modifiers":1,"location":[281,4,333,5],"description":"Parse and renders the template content and merge it with the final result\nprepared to flush","scope":"Kima\\View","children":[{"kind":128,"name":"$template","location":[281,27,281,36],"scope":"render","type":"string"},{"kind":128,"name":"$keep_values","location":[281,38,281,58],"scope":"render","value":"false","type":"boolean"}]},{"kind":32,"name":"show","modifiers":1,"location":[341,4,344,5],"description":"Alias of render","scope":"Kima\\View","children":[{"kind":128,"name":"$template","location":[341,25,341,34],"scope":"show","type":"string"},{"kind":128,"name":"$keep_values","location":[341,36,341,56],"scope":"show","value":"false","type":"boolean"}]},{"kind":32,"name":"populate","modifiers":1,"location":[352,4,383,5],"description":"Populates a template with an array data","scope":"Kima\\View","type":"void","children":[{"kind":128,"name":"$template","location":[352,29,352,38],"scope":"populate","type":"string"},{"kind":128,"name":"$data","location":[352,40,352,45],"scope":"populate","type":"mixed"}]},{"kind":32,"name":"clear","modifiers":1,"location":[389,4,397,5],"description":"Clear a template","scope":"Kima\\View","children":[{"kind":128,"name":"$template","location":[389,26,389,35],"scope":"clear","type":"string"}]},{"kind":32,"name":"hide","modifiers":1,"location":[404,4,409,5],"description":"Hides a template","scope":"Kima\\View","children":[{"kind":128,"name":"$template","location":[404,25,404,34],"scope":"hide","type":"string"}]},{"kind":32,"name":"meta","modifiers":1,"location":[418,4,434,5],"description":"Sets a meta value to html type templates","scope":"Kima\\View","children":[{"kind":128,"name":"$name","location":[418,25,418,30],"scope":"meta","type":"string"},{"kind":128,"name":"$content","location":[418,32,418,40],"scope":"meta","type":"string"},{"kind":128,"name":"$http_equiv","location":[418,42,418,61],"scope":"meta","value":"false","type":"boolean"}]},{"kind":32,"name":"script","modifiers":1,"location":[441,4,461,5],"description":"Sets a script value to html type templates","scope":"Kima\\View","children":[{"kind":128,"name":"$script","location":[441,27,441,34],"scope":"script","type":"string"},{"kind":128,"name":"$lazy_load","location":[441,36,441,54],"scope":"script","value":"false"},{"kind":128,"name":"$attrs","location":[441,56,441,69],"scope":"script","value":"null"}]},{"kind":32,"name":"style","modifiers":1,"location":[469,4,493,5],"description":"Sets a style value to html type templates","scope":"Kima\\View","children":[{"kind":128,"name":"$style_file","location":[469,26,469,37],"description":"(Requires full path wehn load_in_header is true)","scope":"style","type":"string"},{"kind":128,"name":"$media_type","location":[469,39,469,57],"scope":"style","value":"null","type":"string"},{"kind":128,"name":"$load_in_header","location":[469,59,469,82],"scope":"style","value":"false","type":"boolean"}]},{"kind":32,"name":"get_view_file_path","modifiers":1,"location":[502,4,518,5],"description":"Gets the view path, it may be the module view if exists\notherwise it returns the global scope view path","scope":"Kima\\View","type":"string","children":[{"kind":128,"name":"$file","location":[502,39,502,44],"scope":"get_view_file_path","type":"string"},{"kind":128,"name":"$view_path","location":[502,46,502,63],"scope":"get_view_file_path","value":"null","type":"string"}]},{"kind":32,"name":"get_view","modifiers":1,"location":[526,4,573,5],"description":"Gets a template content with the corresponding information","scope":"Kima\\View","type":"string","children":[{"kind":128,"name":"$template","location":[526,29,526,38],"scope":"get_view","type":"string"},{"kind":128,"name":"$set_headers","location":[526,40,526,59],"scope":"get_view","value":"true","type":"boolean"}]},{"kind":32,"name":"get_main_template","modifiers":1,"location":[578,4,587,5],"description":"Gets the main template for the current view","scope":"Kima\\View"},{"kind":32,"name":"set_auto_display","modifiers":1,"location":[593,4,598,5],"description":"Sets the auto display option for the main template","scope":"Kima\\View","children":[{"kind":128,"name":"$auto_display","location":[593,37,593,50],"scope":"set_auto_display","type":"boolean"}]},{"kind":32,"name":"set_compression","modifiers":1,"location":[604,4,609,5],"description":"Sets the compress option from the template","scope":"Kima\\View","children":[{"kind":128,"name":"$compression","location":[604,36,604,48],"scope":"set_compression"}]},{"kind":32,"name":"apply_styles_inline","modifiers":1,"location":[614,4,619,5],"description":"Enable convertion of CSS styles to html inline styles","scope":"Kima\\View"},{"kind":32,"name":"__destruct","modifiers":1,"location":[624,4,637,5],"description":"Destructor","scope":"Kima\\View"},{"kind":32,"name":"set_content_type","modifiers":4,"location":[643,4,652,5],"description":"Set the proper content type of the main template to use","scope":"Kima\\View","children":[{"kind":128,"name":"$view_file","location":[643,38,643,48],"scope":"set_content_type","type":"string"}]},{"kind":32,"name":"set_view_path","modifiers":4,"location":[660,4,675,5],"description":"Set the folder path where the views are located","scope":"Kima\\View","type":"Kima\\View","children":[{"kind":128,"name":"$view_path","location":[660,35,660,45],"scope":"set_view_path","type":"string"},{"kind":128,"name":"$is_failover","location":[660,47,660,67],"scope":"set_view_path","value":"false","type":"boolean"}]},{"kind":32,"name":"set_cache","modifiers":4,"location":[681,4,685,5],"description":"Set the cache handler","scope":"Kima\\View","children":[{"kind":128,"name":"$options","location":[681,31,681,45],"scope":"set_cache","type":"array"}]},{"kind":32,"name":"get_block_l10n","modifiers":4,"location":[693,4,720,5],"description":"Get block strings based on l10n strings","scope":"Kima\\View","type":"array","children":[{"kind":128,"name":"$blocks","location":[693,36,693,49],"scope":"get_block_l10n","type":"array"},{"kind":128,"name":"$view_file","location":[693,51,693,61],"scope":"get_block_l10n","type":"string"}]},{"kind":32,"name":"get_file_content","modifiers":4,"location":[727,4,735,5],"description":"Validates the file_path and returns the file contents","scope":"Kima\\View","type":"string","children":[{"kind":128,"name":"$file_path","location":[727,38,727,48],"scope":"get_file_content","type":"string"}]},{"kind":32,"name":"get_blocks","modifiers":4,"location":[742,4,814,5],"description":"Breaks the template content into blocks","scope":"Kima\\View","type":"array","children":[{"kind":128,"name":"$template","location":[742,32,742,41],"scope":"get_blocks","type":"string"}]},{"kind":32,"name":"populate_element","modifiers":4,"location":[816,4,824,5],"scope":"Kima\\View","children":[{"kind":128,"name":"$element","location":[816,38,816,52],"scope":"populate_element"},{"kind":128,"name":"$template","location":[816,54,816,63],"scope":"populate_element"}]},{"kind":32,"name":"populate_value","modifiers":4,"location":[832,4,839,5],"description":"Populates a view value based on the type","scope":"Kima\\View","children":[{"kind":128,"name":"$item","location":[832,36,832,41],"scope":"populate_value","type":"string"},{"kind":128,"name":"$value","location":[832,43,832,49],"scope":"populate_value","type":"mixed"},{"kind":128,"name":"$template","location":[832,51,832,60],"scope":"populate_value","type":"string"}]},{"kind":32,"name":"set_value","modifiers":4,"location":[850,4,882,5],"description":"Replace the tag var with the value on a template\nalso doing some data cleaning","scope":"Kima\\View","type":"string","children":[{"kind":128,"name":"$var","location":[850,31,850,35],"scope":"set_value","type":"string"},{"kind":128,"name":"$value","location":[850,37,850,43],"scope":"set_value","type":"string"},{"kind":128,"name":"$template","location":[850,45,850,54],"scope":"set_value"},{"kind":128,"name":"$is_block","location":[850,56,850,72],"scope":"set_value","value":"true","type":"boolean"}]},{"kind":32,"name":"add_headers","modifiers":4,"location":[888,4,905,5],"description":"Add the meta tags and styles to the html type templates","scope":"Kima\\View","children":[{"kind":128,"name":"$template","location":[888,33,888,42],"scope":"add_headers"}]},{"kind":32,"name":"add_scripts","modifiers":4,"location":[912,4,933,5],"description":"Add javascripts to the html type templates","scope":"Kima\\View","children":[{"kind":128,"name":"$template","location":[912,33,912,42],"scope":"add_scripts"}]},{"kind":32,"name":"compress","modifiers":4,"location":[941,4,952,5],"description":"Removes innecesary spaces and chars from the output","scope":"Kima\\View","type":"string","children":[{"kind":128,"name":"$output","location":[941,30,941,37],"scope":"compress","type":"string"}]},{"kind":32,"name":"flush","modifiers":4,"location":[958,4,963,5],"description":"Outputs a template content","scope":"Kima\\View","children":[{"kind":128,"name":"$template","location":[958,27,958,36],"scope":"flush","type":"string"}]},{"kind":32,"name":"format_attrs","modifiers":4,"location":[971,4,984,5],"description":"Receives an array of key value attributes and converts them\ninto a string of key values for an HTML tags","scope":"Kima\\View","type":"[string]","children":[{"kind":128,"name":"$attrs","location":[971,34,971,53],"description":"array of key values","scope":"format_attrs","value":"null","type":"[array]"}]}]}]}}