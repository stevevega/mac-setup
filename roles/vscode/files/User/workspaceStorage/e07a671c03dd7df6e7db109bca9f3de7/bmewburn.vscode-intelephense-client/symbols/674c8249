{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Mail/Handler/Appointment/ReminderMailer.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Mail\\Handler\\Appointment","location":[11,0,11,38]},{"kind":1,"name":"CalendarDate","modifiers":4096,"location":[13,5,13,34],"associated":[{"kind":1,"name":"HH\\Calendar\\Util\\CalendarDate"}]},{"kind":1,"name":"Template","modifiers":4096,"location":[14,5,14,26],"associated":[{"kind":1,"name":"HH\\Mail\\Util\\Template"}]},{"kind":1,"name":"Confirm","modifiers":4096,"location":[15,5,15,37],"associated":[{"kind":1,"name":"HH\\UserHooks\\Appointment\\Confirm"}]},{"kind":1,"name":"AppointmentSource","modifiers":4096,"location":[16,5,16,58],"associated":[{"kind":1,"name":"Huli\\Enum\\Set\\Appointment\\Source"}]},{"kind":1,"name":"Error","modifiers":4096,"location":[17,5,17,15],"associated":[{"kind":1,"name":"Kima\\Error"}]},{"kind":1,"name":"L10n","modifiers":4096,"location":[18,5,18,14],"associated":[{"kind":1,"name":"Kima\\L10n"}]},{"kind":1,"name":"Composer","modifiers":4096,"location":[19,5,19,18],"associated":[{"kind":1,"name":"Mail\\Composer"}]},{"kind":1,"name":"Reply","modifiers":4096,"location":[20,5,20,59],"associated":[{"kind":1,"name":"Webhooks\\Mandrill\\Inbound\\Appointment\\Process"}]},{"kind":1,"name":"HH\\Mail\\Handler\\Appointment\\ReminderMailer","location":[22,0,328,1],"associated":[{"kind":1,"name":"HH\\Mail\\Handler\\Appointment\\Base"}],"description":"_\n_             _ _| |_\n| |           | |_   _|\n| |___  _   _ | | |_|\n| '_  \\| | | || | | |\n| | | || |_| || | | |\n|_| |_|\\___,_||_| |_|\n\n(c) Huli Inc","children":[{"kind":1024,"name":"TAG_REMINDER","modifiers":1,"location":[24,10,24,47],"scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer","value":"'appointment-reminder'"},{"kind":1024,"name":"CONFIRM_PATIENT","modifiers":1,"location":[29,10,29,55],"scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer","value":"'/api/appointments/confirm'"},{"kind":32,"name":"set_bulk_params","modifiers":1,"location":[36,4,40,5],"scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer","children":[{"kind":128,"name":"$params","location":[36,36,36,43],"scope":"set_bulk_params","type":"mixed"}]},{"kind":32,"name":"send","modifiers":1,"location":[45,4,79,5],"description":"Sends a \"completed appointment\" email.","scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer"},{"kind":32,"name":"notify_patient","modifiers":4,"location":[84,4,140,5],"description":"Sends a reminder to a patient with a HuliHealth account","scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer"},{"kind":32,"name":"notify_patient_search","modifiers":4,"location":[146,4,208,5],"description":"Sends a reminder to a patient with a HuliHealth account that booked the\nappointment through a search instance","scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer"},{"kind":32,"name":"notify_patient_no_account","modifiers":4,"location":[213,4,273,5],"description":"Sends a reminder to a patient that doesn't have a HuliHealth account","scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer"},{"kind":32,"name":"get_subject","modifiers":4,"location":[285,4,288,5],"description":"Builds the subject string using the doctor display name and the date of\nthe appointment","scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer","type":"string","children":[{"kind":128,"name":"$l10n_key","location":[285,33,285,42],"scope":"get_subject","type":"string"},{"kind":128,"name":"$profile","location":[285,44,285,52],"scope":"get_subject","type":"HH\\Profile"},{"kind":128,"name":"$params","location":[285,54,285,61],"scope":"get_subject","type":"array"}]},{"kind":32,"name":"render_reminder_footer","modifiers":4,"location":[296,4,312,5],"description":"Sets the reminder footer with confirm button\nRender the button only if the reminder is the previous day and doctor have enable patient confirm","scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer","children":[{"kind":128,"name":"$template","location":[296,44,296,53],"scope":"render_reminder_footer","type":"string"}]},{"kind":32,"name":"is_1_day_reminder","modifiers":4,"location":[321,4,327,5],"description":"Validates if the reminder are 1 day reminder.\nGet today date and appointment date, if today + 1 is greater or equal to star_date then\nthe reminder is 1_day reminder","scope":"HH\\Mail\\Handler\\Appointment\\ReminderMailer","type":"bool"}]}]}}