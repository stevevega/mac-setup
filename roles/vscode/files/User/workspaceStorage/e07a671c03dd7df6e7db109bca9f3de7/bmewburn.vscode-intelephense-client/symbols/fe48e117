{"uri":"file:///Users/vega/Code/huli/manager-web/src/vendor/hulilabs/php-common/src/test/phpunit/library/Huli/Authorization/Access/OpenSingleTest.php","root":{"kind":0,"name":"","children":[{"kind":1,"name":"PracticeAuthorization","modifiers":4096,"location":[12,5,12,65],"associated":[{"kind":1,"name":"Huli\\Authorization\\Factory\\Practice"}]},{"kind":1,"name":"Feature","modifiers":4096,"location":[13,5,13,31],"associated":[{"kind":1,"name":"Huli\\Authorization\\Feature"}]},{"kind":1,"name":"UserCache","modifiers":4096,"location":[14,5,14,46],"associated":[{"kind":1,"name":"Huli\\Cache\\Generational\\User"}]},{"kind":1,"name":"Store","modifiers":4096,"location":[15,5,15,21],"associated":[{"kind":1,"name":"Huli\\Cache\\Store"}]},{"kind":1,"name":"UserRole","modifiers":4096,"location":[16,5,16,32],"associated":[{"kind":1,"name":"Huli\\Enum\\Listable\\UserRole"}]},{"kind":1,"name":"Helper","modifiers":4096,"location":[17,5,17,21],"associated":[{"kind":1,"name":"Huli\\Test\\Helper"}]},{"kind":1,"name":"PermissionData","modifiers":4096,"location":[18,5,18,48],"associated":[{"kind":1,"name":"Huli\\Test\\Permission\\Data"}]},{"kind":1,"name":"OpenSingleAccessTest","location":[23,0,360,1],"associated":[{"kind":1,"name":"PHPUnit_Framework_TestCase"}],"description":"Tests permissions for a user based on access given by another user.","children":[{"kind":16,"name":"$helper","modifiers":34,"location":[25,21,25,28],"scope":"OpenSingleAccessTest"},{"kind":16,"name":"$data","modifiers":34,"location":[26,21,26,26],"scope":"OpenSingleAccessTest"},{"kind":32,"name":"setUpBeforeClass","modifiers":33,"location":[28,4,33,5],"scope":"OpenSingleAccessTest"},{"kind":32,"name":"tearDownAfterClass","modifiers":33,"location":[35,4,38,5],"scope":"OpenSingleAccessTest"},{"kind":32,"name":"test_doctor_no_access","modifiers":1,"location":[43,4,53,5],"description":"***********************************************************************\nDynamic assignation\n***********************************************************************","scope":"OpenSingleAccessTest"},{"kind":32,"name":"test_doctor_with_access_by_plan","modifiers":1,"location":[59,4,70,5],"scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$feed","location":[59,52,59,57],"scope":"test_doctor_with_access_by_plan","type":"mixed"}]},{"kind":32,"name":"test_owner_access_assistant_allowed","modifiers":1,"location":[76,4,88,5],"scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$feed","location":[76,56,76,61],"scope":"test_owner_access_assistant_allowed","type":"mixed"}]},{"kind":32,"name":"test_owner_access_assistant_not_allowed","modifiers":1,"location":[94,4,97,5],"scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$access","location":[94,60,94,67],"scope":"test_owner_access_assistant_not_allowed","type":"mixed"}]},{"kind":32,"name":"test_owner_access_assistant_alone","modifiers":1,"location":[106,4,116,5],"description":"Test that a user that hasn't been assigned to the owner should never have\naccess to the owner feature","scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$feed","location":[106,54,106,59],"scope":"test_owner_access_assistant_alone","type":"mixed"}]},{"kind":32,"name":"test_doctor_access_to_feature_not_in_plan","modifiers":1,"location":[118,4,127,5],"scope":"OpenSingleAccessTest"},{"kind":32,"name":"test_doctor_access_to_feature_not_in_plan_enabled","modifiers":1,"location":[133,4,140,5],"scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$feed","location":[133,70,133,75],"scope":"test_doctor_access_to_feature_not_in_plan_enabled","type":"mixed"}]},{"kind":32,"name":"test_doctor_access_to_feature_in_plan_disabled","modifiers":1,"location":[146,4,153,5],"scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$feed","location":[146,67,146,72],"scope":"test_doctor_access_to_feature_in_plan_disabled","type":"mixed"}]},{"kind":32,"name":"test_doctor_access_with_old_plan_and_new_plan","modifiers":1,"location":[159,4,175,5],"description":"Tests that having inactive subscriptions do not affect the result of\nthe permission request when asking for a manually granted authorization","scope":"OpenSingleAccessTest"},{"kind":32,"name":"test_assistant_with_doctor_that_leaves_the_clinic","modifiers":1,"location":[181,4,197,5],"description":"This test will check that once a doctor is no longer assigned to a\ngiven clinic, the assistant will lose access to any assigned feature.","scope":"OpenSingleAccessTest"},{"kind":32,"name":"test_assistant_with_doctor_that_leaves_the_clinic_calendar","modifiers":1,"location":[204,4,207,5],"scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$access","location":[204,79,204,86],"scope":"test_assistant_with_doctor_that_leaves_the_clinic_calendar","type":"IAccess"}]},{"kind":32,"name":"test_assistant_with_one_doctor_that_leaves_the_clinic","modifiers":1,"location":[213,4,234,5],"description":"This test is similar to test_assistant_with_doctor_that_leaves_the_clinic\nwhereas two doctors are assigned here and only one leaves the clinic","scope":"OpenSingleAccessTest"},{"kind":32,"name":"test_assistant_with_one_doctor_that_leaves_the_clinic_2","modifiers":1,"location":[240,4,248,5],"scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$feed","location":[240,76,240,81],"scope":"test_assistant_with_one_doctor_that_leaves_the_clinic_2","type":"mixed"}]},{"kind":32,"name":"test_doctor_manager_allowed","modifiers":1,"location":[263,4,273,5],"description":"Doctor manager is allowed to see patient files and appointments","scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$feature","location":[263,48,263,56],"scope":"test_doctor_manager_allowed","type":"mixed"},{"kind":128,"name":"$expected","location":[263,58,263,67],"scope":"test_doctor_manager_allowed","type":"mixed"},{"kind":128,"name":"$feed","location":[263,69,263,74],"scope":"test_doctor_manager_allowed","type":"mixed"}]},{"kind":32,"name":"dm_features_allowed","modifiers":1,"location":[281,4,302,5],"description":"Add here all the features that a doctor manager can have and the possible\nresults","scope":"OpenSingleAccessTest"},{"kind":32,"name":"setup_doctor","modifiers":4,"location":[309,4,328,5],"description":"Sets up a doctor with necessary data for a valid authorization query.","scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$usr","location":[309,34,309,45],"scope":"setup_doctor","value":"null","type":"User"}]},{"kind":32,"name":"setup_assistant","modifiers":4,"location":[338,4,352,5],"description":"Sets up an assistant with necessary data for a valid authorization query.","scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$org","location":[338,37,338,41],"scope":"setup_assistant","type":"mixed"},{"kind":128,"name":"$doc","location":[338,43,338,47],"scope":"setup_assistant","type":"mixed"},{"kind":128,"name":"$cli","location":[338,49,338,53],"scope":"setup_assistant","type":"mixed"},{"kind":128,"name":"$usr","location":[338,55,338,59],"scope":"setup_assistant","type":"User"}]},{"kind":32,"name":"get_access","modifiers":4,"location":[354,4,359,5],"scope":"OpenSingleAccessTest","children":[{"kind":128,"name":"$ctx","location":[354,32,354,36],"scope":"get_access"}]}]}]}}