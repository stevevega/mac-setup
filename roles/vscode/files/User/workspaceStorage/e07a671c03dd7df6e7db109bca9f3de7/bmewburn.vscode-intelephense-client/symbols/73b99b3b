{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Http/ARequest.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Http","location":[11,0,11,18]},{"kind":1,"name":"Language","modifiers":4096,"location":[13,5,13,16],"associated":[{"kind":1,"name":"HH\\Language"}]},{"kind":1,"name":"Status","modifiers":4096,"location":[14,5,14,14],"associated":[{"kind":1,"name":"HH\\Status"}]},{"kind":1,"name":"Database","modifiers":4096,"location":[15,5,15,18],"associated":[{"kind":1,"name":"Kima\\Database"}]},{"kind":1,"name":"Request","modifiers":4096,"location":[16,5,16,22],"associated":[{"kind":1,"name":"Kima\\Http\\Request"}]},{"kind":1,"name":"App","modifiers":4096,"location":[17,5,17,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"stdClass","modifiers":4096,"location":[18,5,18,13],"associated":[{"kind":1,"name":"stdClass"}]},{"kind":1,"name":"HH\\Http\\ARequest","modifiers":16,"location":[24,0,427,1],"associated":[{"kind":4,"name":"HH\\Http\\TResponse"}],"description":"Abstract HTTP Request class\nHandles incomming request data","children":[{"kind":1024,"name":"ERROR_INVALID_REQUEST","modifiers":1,"location":[34,10,34,58],"scope":"HH\\Http\\ARequest","value":"'The request is invalid'"},{"kind":1024,"name":"ERROR_INVALID_REQUEST_TYPE","modifiers":1,"location":[35,10,35,73],"scope":"HH\\Http\\ARequest","value":"'The request type \"%s\" is invalid'"},{"kind":1024,"name":"ERROR_INVALID_FIELD","modifiers":1,"location":[36,10,36,56],"scope":"HH\\Http\\ARequest","value":"'error_invalid_field_%s'"},{"kind":1024,"name":"ERROR_INVALID_STATUS","modifiers":1,"location":[37,10,37,62],"scope":"HH\\Http\\ARequest","value":"'The status value is invalid'"},{"kind":1024,"name":"ERROR_INVALID_L10N","modifiers":1,"location":[38,10,38,87],"scope":"HH\\Http\\ARequest","value":"'The l10n field \"%s\" format is invalid, expecting array'"},{"kind":1024,"name":"ERROR_INVALID_L10N_LANGUAGE","modifiers":1,"location":[39,10,39,83],"scope":"HH\\Http\\ARequest","value":"'Invalid language \"%s\" for \"%s\" l10n field'"},{"kind":1024,"name":"ERROR_MISSING_FIELD","modifiers":1,"location":[40,10,40,73],"scope":"HH\\Http\\ARequest","value":"'The field \"%s\" should be in the request'"},{"kind":1024,"name":"ERROR_MAX_VALUES_EXCEEDED","modifiers":1,"location":[41,10,41,78],"scope":"HH\\Http\\ARequest","value":"'Only %s values of type %s can be added'"},{"kind":1024,"name":"ERROR_REQUIRED_FIELD","modifiers":1,"location":[42,10,42,58],"scope":"HH\\Http\\ARequest","value":"'error_required_field_%s'"},{"kind":1024,"name":"ERROR_INVALID_MULTIVALUE","modifiers":1,"location":[43,10,43,84],"scope":"HH\\Http\\ARequest","value":"'Missing fields list for \"%s\" multivalue field'"},{"kind":1024,"name":"OPTION_REQUIRED","modifiers":1,"location":[48,10,48,29],"scope":"HH\\Http\\ARequest","value":"0"},{"kind":1024,"name":"OPTION_FIELD","modifiers":1,"location":[49,10,49,26],"scope":"HH\\Http\\ARequest","value":"1"},{"kind":1024,"name":"OPTION_FIELD_TYPE","modifiers":1,"location":[50,10,50,31],"scope":"HH\\Http\\ARequest","value":"2"},{"kind":1024,"name":"OPTION_IGNORE_SET_METHOD","modifiers":1,"location":[51,10,51,38],"scope":"HH\\Http\\ARequest","value":"3"},{"kind":1024,"name":"FIELD_TYPE_SIMPLE","modifiers":1,"location":[56,10,56,31],"scope":"HH\\Http\\ARequest","value":"1"},{"kind":1024,"name":"FIELD_TYPE_L10N","modifiers":1,"location":[57,10,57,29],"scope":"HH\\Http\\ARequest","value":"2"},{"kind":1024,"name":"FIELD_TYPE_MULTIVALUE","modifiers":1,"location":[58,10,58,35],"scope":"HH\\Http\\ARequest","value":"3"},{"kind":1024,"name":"FIELD_TYPE_ARRAY","modifiers":1,"location":[59,10,59,30],"scope":"HH\\Http\\ARequest","value":"4"},{"kind":1024,"name":"FIELD_TYPE_MULTIEDITOR","modifiers":1,"location":[60,10,60,36],"scope":"HH\\Http\\ARequest","value":"5"},{"kind":1024,"name":"FIELD_TYPE_OBJECT","modifiers":1,"location":[61,10,61,31],"scope":"HH\\Http\\ARequest","value":"6"},{"kind":1024,"name":"REQUEST_GET","modifiers":1,"location":[66,10,66,29],"scope":"HH\\Http\\ARequest","value":"'get'"},{"kind":1024,"name":"REQUEST_POST","modifiers":1,"location":[67,10,67,31],"scope":"HH\\Http\\ARequest","value":"'post'"},{"kind":16,"name":"$request_types","modifiers":2,"location":[74,14,77,5],"scope":"HH\\Http\\ARequest","type":"array"},{"kind":16,"name":"$capable_request_types","modifiers":2,"location":[84,14,87,5],"scope":"HH\\Http\\ARequest","type":"array"},{"kind":16,"name":"$field_types","modifiers":2,"location":[94,14,101,5],"scope":"HH\\Http\\ARequest","type":"array"},{"kind":16,"name":"$demand_all_fields","modifiers":2,"location":[108,14,108,40],"scope":"HH\\Http\\ARequest","type":"bool"},{"kind":16,"name":"$request_type","modifiers":2,"location":[115,14,115,27],"scope":"HH\\Http\\ARequest","type":"string"},{"kind":16,"name":"$data","modifiers":2,"location":[122,14,122,19],"scope":"HH\\Http\\ARequest","type":"stdClass"},{"kind":16,"name":"$fields","modifiers":2,"location":[129,14,129,26],"scope":"HH\\Http\\ARequest","type":"array"},{"kind":32,"name":"set_field","modifiers":1,"location":[138,4,148,5],"description":"Sets a field value to an object parameter","scope":"HH\\Http\\ARequest","children":[{"kind":128,"name":"$field","location":[138,30,138,36],"scope":"set_field","type":"string"},{"kind":128,"name":"$value","location":[138,38,138,44],"scope":"set_field","type":"mixed"},{"kind":128,"name":"$ignore_set_method","location":[138,46,138,64],"scope":"set_field","type":"bool"}]},{"kind":32,"name":"get_l10n_objects","modifiers":2,"location":[157,4,173,5],"description":"Prepares and returns l10n for saving","scope":"HH\\Http\\ARequest","type":"array","children":[{"kind":128,"name":"$fields","location":[157,40,157,53],"scope":"get_l10n_objects","type":"array"}]},{"kind":32,"name":"get_last_insert_id","modifiers":2,"location":[180,4,185,5],"description":"Gets the latest id added to the db","scope":"HH\\Http\\ARequest","type":"int"},{"kind":32,"name":"begin_transaction","modifiers":2,"location":[192,4,197,5],"description":"Begins a sql transaction","scope":"HH\\Http\\ARequest","type":"bool"},{"kind":32,"name":"commit_transaction","modifiers":2,"location":[204,4,209,5],"description":"Commits a sql transaction","scope":"HH\\Http\\ARequest","type":"bool"},{"kind":32,"name":"rollback_transaction","modifiers":2,"location":[216,4,221,5],"description":"Rollbacks a sql transaction","scope":"HH\\Http\\ARequest","type":"bool"},{"kind":32,"name":"set_status","modifiers":2,"location":[229,4,238,5],"description":"Sets the status and validates\nAll fields have status so is safe to put it here","scope":"HH\\Http\\ARequest","children":[{"kind":128,"name":"$status","location":[229,34,229,41],"scope":"set_status","type":"int"}]},{"kind":32,"name":"set_request_type","modifiers":2,"location":[247,4,256,5],"description":"Sets and validates the request type","scope":"HH\\Http\\ARequest","children":[{"kind":128,"name":"$request_type","location":[247,40,247,53],"scope":"set_request_type","type":"string"}]},{"kind":32,"name":"is_valid_request","modifiers":2,"location":[263,4,270,5],"description":"Makes sure the request is valid","scope":"HH\\Http\\ARequest","type":"bool"},{"kind":32,"name":"get_field_options","modifiers":2,"location":[280,4,307,5],"description":"Gets the config options for a fields","scope":"HH\\Http\\ARequest","type":"array","children":[{"kind":128,"name":"$options","location":[280,41,280,49],"scope":"get_field_options","type":"mixed"},{"kind":128,"name":"$field","location":[280,51,280,57],"scope":"get_field_options","type":"string"}]},{"kind":32,"name":"is_valid_field_request","modifiers":4,"location":[315,4,322,5],"description":"Makes sure the field is in the request","scope":"HH\\Http\\ARequest","children":[{"kind":128,"name":"$field","location":[315,44,315,50],"scope":"is_valid_field_request","type":"string"},{"kind":128,"name":"$data","location":[315,52,315,57],"scope":"is_valid_field_request","type":"mixed"}]},{"kind":32,"name":"is_valid_required_value","modifiers":2,"location":[329,4,340,5],"description":"Validates the required fields","scope":"HH\\Http\\ARequest","children":[{"kind":128,"name":"$value","location":[329,47,329,53],"scope":"is_valid_required_value","type":"mixed"}]},{"kind":32,"name":"get_value","modifiers":2,"location":[352,4,365,5],"description":"Gets data field value","scope":"HH\\Http\\ARequest","type":"string","children":[{"kind":128,"name":"$field","location":[352,33,352,39],"scope":"get_value","type":"string"},{"kind":128,"name":"$is_required","location":[352,41,352,53],"scope":"get_value","type":"bool"},{"kind":128,"name":"$field_type","location":[352,55,352,66],"scope":"get_value","type":"string"},{"kind":128,"name":"$multivalue_fields","location":[352,68,352,97],"scope":"get_value","value":"[]"}]},{"kind":32,"name":"get_raw_value","modifiers":2,"location":[374,4,377,5],"description":"Gets the raw value of a field","scope":"HH\\Http\\ARequest","type":"mixed","children":[{"kind":128,"name":"$field","location":[374,37,374,43],"scope":"get_raw_value","type":"string"}]},{"kind":32,"name":"process_fields","modifiers":2,"location":[386,4,426,5],"description":"Process fields for a request\nValidates needed fields and required fields","scope":"HH\\Http\\ARequest","children":[{"kind":128,"name":"$fields","location":[386,38,386,51],"scope":"process_fields","type":"array"},{"kind":128,"name":"$request_type","location":[386,53,386,73],"scope":"process_fields","value":"null","type":"string"}]}]}]}}