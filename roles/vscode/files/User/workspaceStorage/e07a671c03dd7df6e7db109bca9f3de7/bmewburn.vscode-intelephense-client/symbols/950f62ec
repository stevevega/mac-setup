{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Search/Cores/ACore.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Search\\Cores","location":[11,0,11,26]},{"kind":1,"name":"SearchUtil","modifiers":4096,"location":[13,5,13,25],"associated":[{"kind":1,"name":"HH\\Search\\SearchUtil"}]},{"kind":1,"name":"Error","modifiers":4096,"location":[14,5,14,15],"associated":[{"kind":1,"name":"Kima\\Error"}]},{"kind":1,"name":"Solr","modifiers":4096,"location":[15,5,15,21],"associated":[{"kind":1,"name":"Kima\\Search\\Solr"}]},{"kind":1,"name":"HH\\Search\\Cores\\ACore","modifiers":16,"location":[17,0,567,1],"description":"_\n_             _ _| |_\n| |           | |_   _|\n| |___  _   _ | | |_|\n| '_  \\| | | || | | |\n| | | || |_| || | | |\n|_| |_|\\___,_||_| |_|\n\n(c) Huli Inc","children":[{"kind":1024,"name":"ERROR_NO_INSTANCE","modifiers":1,"location":[19,10,19,66],"scope":"HH\\Search\\Cores\\ACore","value":"'No site instance has been selected'"},{"kind":1024,"name":"ERROR_NO_SOLR_CORE","modifiers":1,"location":[20,10,20,72],"scope":"HH\\Search\\Cores\\ACore","value":"'No site solr instance has been selected'"},{"kind":1024,"name":"SOLR_FILTER_QUERY","modifiers":1,"location":[22,10,22,34],"scope":"HH\\Search\\Cores\\ACore","value":"'fq'"},{"kind":1024,"name":"LANGUAGE","modifiers":1,"location":[26,10,26,31],"scope":"HH\\Search\\Cores\\ACore","value":"'language'"},{"kind":1024,"name":"LIMIT","modifiers":1,"location":[27,10,27,25],"scope":"HH\\Search\\Cores\\ACore","value":"'limit'"},{"kind":1024,"name":"PAGE_NUM","modifiers":1,"location":[28,10,28,31],"scope":"HH\\Search\\Cores\\ACore","value":"'page_num'"},{"kind":1024,"name":"QUERY_STRING","modifiers":1,"location":[29,10,29,39],"scope":"HH\\Search\\Cores\\ACore","value":"'query_string'"},{"kind":1024,"name":"SOLR_SFIELD","modifiers":1,"location":[30,10,30,32],"scope":"HH\\Search\\Cores\\ACore","value":"'sfield'"},{"kind":1024,"name":"SOLR_DISTANCE","modifiers":1,"location":[31,10,31,29],"scope":"HH\\Search\\Cores\\ACore","value":"'d'"},{"kind":1024,"name":"SOLR_POINT","modifiers":1,"location":[32,10,32,27],"scope":"HH\\Search\\Cores\\ACore","value":"'pt'"},{"kind":1024,"name":"DISTANCE_OFF","modifiers":1,"location":[33,10,33,26],"scope":"HH\\Search\\Cores\\ACore","value":"0"},{"kind":1024,"name":"SOLR_GROUP","modifiers":1,"location":[34,10,34,30],"scope":"HH\\Search\\Cores\\ACore","value":"'group'"},{"kind":1024,"name":"SOLR_GROUP_FACET","modifiers":1,"location":[35,10,35,42],"scope":"HH\\Search\\Cores\\ACore","value":"'group.facet'"},{"kind":1024,"name":"SOLR_GROUP_MAIN","modifiers":1,"location":[36,10,36,40],"scope":"HH\\Search\\Cores\\ACore","value":"'group.main'"},{"kind":1024,"name":"SOLR_GROUP_FIELD","modifiers":1,"location":[37,10,37,42],"scope":"HH\\Search\\Cores\\ACore","value":"'group.field'"},{"kind":1024,"name":"SOLR_GROUP_LIMIT","modifiers":1,"location":[38,10,38,42],"scope":"HH\\Search\\Cores\\ACore","value":"'group.limit'"},{"kind":1024,"name":"SOLR_GROUP_SORT","modifiers":1,"location":[39,10,39,40],"scope":"HH\\Search\\Cores\\ACore","value":"'group.sort'"},{"kind":1024,"name":"SOLR_GROUP_QUERY","modifiers":1,"location":[40,10,40,42],"scope":"HH\\Search\\Cores\\ACore","value":"'group.query'"},{"kind":1024,"name":"SOLR_GROUP_NGROUP","modifiers":1,"location":[42,10,42,45],"scope":"HH\\Search\\Cores\\ACore","value":"'group.ngroups'"},{"kind":1024,"name":"SOLR_GROUP_TRUNCATE","modifiers":1,"location":[43,10,43,48],"scope":"HH\\Search\\Cores\\ACore","value":"'group.truncate'"},{"kind":1024,"name":"SOLR_ORDER_ASC","modifiers":1,"location":[45,10,45,32],"scope":"HH\\Search\\Cores\\ACore","value":"'ASC'"},{"kind":1024,"name":"SOLR_ORDER_DESC","modifiers":1,"location":[46,10,46,34],"scope":"HH\\Search\\Cores\\ACore","value":"'DESC'"},{"kind":1024,"name":"ID_INSTANCE","modifiers":1,"location":[50,10,50,37],"scope":"HH\\Search\\Cores\\ACore","value":"'id_instance'"},{"kind":1024,"name":"GEOFILTQUERY","modifiers":1,"location":[55,10,55,34],"scope":"HH\\Search\\Cores\\ACore","value":"'_query_'"},{"kind":1024,"name":"SORT_FIELD_RANDOM","modifiers":1,"location":[60,10,60,39],"scope":"HH\\Search\\Cores\\ACore","value":"'random_'"},{"kind":1024,"name":"AND_FILTER","modifiers":1,"location":[65,10,65,30],"scope":"HH\\Search\\Cores\\ACore","value":"' AND '"},{"kind":1024,"name":"OR_FILTER","modifiers":1,"location":[66,10,66,28],"scope":"HH\\Search\\Cores\\ACore","value":"' OR '"},{"kind":1024,"name":"DENY_FILTER","modifiers":1,"location":[67,10,67,27],"scope":"HH\\Search\\Cores\\ACore","value":"'-'"},{"kind":1024,"name":"MAX_INTEGER_LENGHT","modifiers":1,"location":[70,10,70,32],"scope":"HH\\Search\\Cores\\ACore","value":"9"},{"kind":1024,"name":"SORT_FIELD_DISTANCE","modifiers":1,"location":[75,10,75,43],"scope":"HH\\Search\\Cores\\ACore","value":"'geodist()'"},{"kind":1024,"name":"FIELD_DISTANCE","modifiers":1,"location":[79,10,79,47],"scope":"HH\\Search\\Cores\\ACore","value":"'distance:geodist()'"},{"kind":1024,"name":"SORT_BY","modifiers":1,"location":[84,10,84,29],"scope":"HH\\Search\\Cores\\ACore","value":"'sort_by'"},{"kind":16,"name":"$id_instance","modifiers":2,"location":[91,14,91,26],"scope":"HH\\Search\\Cores\\ACore","type":"int"},{"kind":16,"name":"$filters","modifiers":2,"location":[97,14,97,22],"scope":"HH\\Search\\Cores\\ACore","type":"array"},{"kind":16,"name":"$language","modifiers":2,"location":[103,14,103,23],"scope":"HH\\Search\\Cores\\ACore","type":"string"},{"kind":16,"name":"$limit","modifiers":2,"location":[109,14,109,25],"scope":"HH\\Search\\Cores\\ACore","type":"int"},{"kind":16,"name":"$page_number","modifiers":2,"location":[115,14,115,26],"scope":"HH\\Search\\Cores\\ACore","type":"int"},{"kind":16,"name":"$random_number","modifiers":2,"location":[123,14,123,28],"scope":"HH\\Search\\Cores\\ACore","type":"int"},{"kind":16,"name":"$solr_core","modifiers":2,"location":[129,14,129,31],"scope":"HH\\Search\\Cores\\ACore","type":"string"},{"kind":16,"name":"$query_user","modifiers":2,"location":[135,14,135,25],"scope":"HH\\Search\\Cores\\ACore","type":"string"},{"kind":16,"name":"$query_string","modifiers":2,"location":[141,14,141,27],"scope":"HH\\Search\\Cores\\ACore","type":"string"},{"kind":16,"name":"$distance","modifiers":2,"location":[148,14,148,44],"scope":"HH\\Search\\Cores\\ACore","type":"int"},{"kind":16,"name":"$points","modifiers":2,"location":[155,14,155,21],"scope":"HH\\Search\\Cores\\ACore","type":"string"},{"kind":16,"name":"$sort_by","modifiers":2,"location":[160,14,160,22],"scope":"HH\\Search\\Cores\\ACore"},{"kind":32,"name":"__construct","modifiers":1,"location":[169,4,173,5],"description":"Constructor\n\nSets the basic parameters for a Solr request","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$params","location":[169,32,169,45],"scope":"__construct","type":"array"}]},{"kind":32,"name":"get_facet_fields","modifiers":2,"location":[181,4,184,5],"description":"Returns and array of queries to be used for faceting,\ndefaults to null for this class","scope":"HH\\Search\\Cores\\ACore","type":"array"},{"kind":32,"name":"get_facet_queries","modifiers":2,"location":[192,4,195,5],"description":"Returns and array of queries to be used for faceting,\ndefaults to null for this class","scope":"HH\\Search\\Cores\\ACore","type":"array"},{"kind":32,"name":"get_highlight_fields","modifiers":2,"location":[203,4,206,5],"description":"Returns an array with all the fields that should be highlighted in\nthe result","scope":"HH\\Search\\Cores\\ACore","type":"array"},{"kind":32,"name":"get_fields","modifiers":18,"location":[217,4,217,45],"description":"Returns the fields that will be retrieved by the Solr query","scope":"HH\\Search\\Cores\\ACore","type":"array"},{"kind":32,"name":"get_filters","modifiers":18,"location":[229,4,229,46],"description":"Prepares the filters for the request\n\nAny filter should be set by this function and should return a string\nformatted appropiatedly for the filters\n\ne.g. (field:value and field2:value2)","scope":"HH\\Search\\Cores\\ACore","type":"string"},{"kind":32,"name":"get_sort_fields","modifiers":18,"location":[237,4,237,50],"description":"Returns an array will all the fields that will be used to sort the\nquery, additionally the sort order can be specified","scope":"HH\\Search\\Cores\\ACore","type":"array"},{"kind":32,"name":"get_params","modifiers":18,"location":[245,4,245,45],"description":"Prepares any extra parameters for the Solr query","scope":"HH\\Search\\Cores\\ACore","type":"array"},{"kind":32,"name":"prepare_query","modifiers":18,"location":[255,4,255,48],"description":"Prepares the query for the request.\n\nThis function should parse the raw string and make sure it is in an\nappropiate format for the Solr query\n\ne.g. field:text","scope":"HH\\Search\\Cores\\ACore"},{"kind":32,"name":"parse_result","modifiers":18,"location":[264,4,264,56],"description":"Returns an instance of the type AResponse, called by fetch()","scope":"HH\\Search\\Cores\\ACore","type":"HH\\Search\\Cores\\AResponse","children":[{"kind":128,"name":"$response","location":[264,45,264,54],"description":"contains the results of a Solr query\n","scope":"parse_result","type":"HH\\Search\\Cores\\SolrObject"}]},{"kind":32,"name":"fetch","modifiers":1,"location":[272,4,284,5],"description":"Retrieves the results from the Solr query, this function can be overridden\nto handle different fetch cases if necessary","scope":"HH\\Search\\Cores\\ACore","type":"array"},{"kind":32,"name":"delete_by_query","modifiers":1,"location":[294,4,300,5],"description":"Retrieves the results from the Solr query, this function can be overridden\nto handle different fetch cases if necessary","scope":"HH\\Search\\Cores\\ACore","type":"array","children":[{"kind":128,"name":"$asynch","location":[294,36,294,50],"description":"make an asynchronous solr delete operation\n","scope":"delete_by_query","value":"true","type":"bool"}]},{"kind":32,"name":"put","modifiers":1,"location":[310,4,316,5],"description":"Puts one or many documents to the Solr index","scope":"HH\\Search\\Cores\\ACore","type":"HH\\Search\\Cores\\SolrUpdateResponse","children":[{"kind":128,"name":"$documents","location":[310,24,310,34],"scope":"put"},{"kind":128,"name":"$asynch","location":[310,36,310,50],"description":"tells when the request must be asynchronous\n","scope":"put","value":"true","type":"bool"}]},{"kind":32,"name":"set_language","modifiers":1,"location":[323,4,331,5],"description":"Sets the language used in the localized fields","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$language","location":[323,33,323,42],"description":"language short name","scope":"set_language","type":"string"}]},{"kind":32,"name":"set_instance","modifiers":1,"location":[338,4,349,5],"description":"Sets the instance, this is mandatory, otherwise an error will be thrown.","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$id_instance","location":[338,33,338,45],"description":"the hh instance id","scope":"set_instance","type":"string"}]},{"kind":32,"name":"set_page_number","modifiers":1,"location":[356,4,364,5],"description":"[set_page_number description]","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$page_number","location":[356,36,356,48],"scope":"set_page_number","type":"int"}]},{"kind":32,"name":"set_limit","modifiers":1,"location":[371,4,379,5],"description":"Sets the number of result to retrieve","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$limit","location":[371,30,371,36],"scope":"set_limit","type":"int"}]},{"kind":32,"name":"set_random_number","modifiers":1,"location":[386,4,391,5],"description":"Sets the identifier to be used in random fields","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$rand","location":[386,38,386,43],"scope":"set_random_number","type":"int"}]},{"kind":32,"name":"set_query","modifiers":1,"location":[398,4,405,5],"description":"Sets the user query","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$query","location":[398,30,398,43],"scope":"set_query","value":"null","type":"string"}]},{"kind":32,"name":"set_sort_by","modifiers":1,"location":[412,4,419,5],"description":"Set the field that will have the most pririty when sorting the results","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$order","location":[412,32,412,45],"description":"field name","scope":"set_sort_by","value":"null","type":"string"}]},{"kind":32,"name":"set_distance","modifiers":1,"location":[426,4,436,5],"description":"Set the distance from the points specified","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$distance","location":[426,33,426,42],"description":"distance in Km","scope":"set_distance","type":"int"}]},{"kind":32,"name":"set_points","modifiers":1,"location":[444,4,452,5],"description":"Sets the latitude and longitude of the starting point","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$lat","location":[444,31,444,35],"description":"latitude","scope":"set_points","type":"float"},{"kind":128,"name":"$long","location":[444,37,444,42],"description":"longitude","scope":"set_points","type":"float"}]},{"kind":32,"name":"get_limit","modifiers":1,"location":[459,4,462,5],"description":"Returns the current set document limit","scope":"HH\\Search\\Cores\\ACore","type":"int"},{"kind":32,"name":"localize_field","modifiers":1,"location":[476,4,481,5],"description":"Returns the field name used for localized fields","scope":"HH\\Search\\Cores\\ACore","type":"string","children":[{"kind":128,"name":"$field","location":[476,35,476,41],"description":"field name e.g. 'description'","scope":"localize_field","type":"string"},{"kind":128,"name":"$alias","location":[476,43,476,56],"scope":"localize_field","value":"null"}]},{"kind":32,"name":"prepare_distance","modifiers":2,"location":[490,4,497,5],"description":"Prepares the distance filter","scope":"HH\\Search\\Cores\\ACore","children":[{"kind":128,"name":"$params","location":[490,40,490,48],"scope":"prepare_distance"},{"kind":128,"name":"$location_field","location":[490,50,490,65],"scope":"prepare_distance","type":"string"}]},{"kind":32,"name":"random_field","modifiers":2,"location":[504,4,507,5],"description":"Generate the random field name that will be used with the current query","scope":"HH\\Search\\Cores\\ACore","type":"string"},{"kind":32,"name":"filter_instance","modifiers":2,"location":[512,4,517,5],"description":"Prepares the instance filter","scope":"HH\\Search\\Cores\\ACore"},{"kind":32,"name":"filter_geofilt","modifiers":2,"location":[522,4,530,5],"description":"Get the geofilt filter","scope":"HH\\Search\\Cores\\ACore"},{"kind":32,"name":"compose_filters","modifiers":2,"location":[540,4,549,5],"description":"Componse the query filters","scope":"HH\\Search\\Cores\\ACore","type":"string","children":[{"kind":128,"name":"$filters","location":[540,39,540,47],"scope":"compose_filters","type":"array"},{"kind":128,"name":"$logical_function","location":[540,49,540,66],"scope":"compose_filters"},{"kind":128,"name":"$deny_all","location":[540,68,540,85],"description":"deny all the set of filtes\n","scope":"compose_filters","value":"false","type":"bool"}]},{"kind":32,"name":"parse_response","modifiers":4,"location":[558,4,566,5],"description":"Parse the response information after a solr synchronous operation","scope":"HH\\Search\\Cores\\ACore","type":"bool","children":[{"kind":128,"name":"$response","location":[558,36,558,45],"description":"solr response\n","scope":"parse_response","type":"string"}]}]}]}}