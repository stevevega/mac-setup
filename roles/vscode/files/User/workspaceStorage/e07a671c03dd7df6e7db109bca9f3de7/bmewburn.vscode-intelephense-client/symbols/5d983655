{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Audit/Writer.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Audit","location":[11,0,11,19]},{"kind":1,"name":"IAuditStore","modifiers":4096,"location":[13,5,13,35],"associated":[{"kind":1,"name":"HH\\Audit\\IStore"}]},{"kind":1,"name":"ISession","modifiers":4096,"location":[14,5,14,33],"associated":[{"kind":1,"name":"Huli\\Authentication\\ISession"}]},{"kind":1,"name":"Error","modifiers":4096,"location":[15,5,15,15],"associated":[{"kind":1,"name":"Kima\\Error"}]},{"kind":1,"name":"UserAgent","modifiers":4096,"location":[16,5,16,26],"associated":[{"kind":1,"name":"Model\\Audit\\UserAgent"}]},{"kind":1,"name":"HH\\Audit\\Writer","modifiers":8,"location":[22,0,119,1],"description":"This class exposes the functionality to save an acces/view audit log.\nUse this class only in controllers","children":[{"kind":1024,"name":"ERROR","modifiers":1,"location":[24,10,24,100],"scope":"HH\\Audit\\Writer","value":"\"Unable to save audit log: class = %s, id_user = %s, ip = %s, ua = %s, p = %s\\n%s\""},{"kind":16,"name":"$audit_store","modifiers":4,"location":[31,12,31,24],"scope":"HH\\Audit\\Writer","type":"Model\\Audit\\IAuditStore"},{"kind":16,"name":"$env","modifiers":4,"location":[38,12,38,16],"scope":"HH\\Audit\\Writer","type":"HH\\Audit\\Environment"},{"kind":32,"name":"__construct","modifiers":4,"location":[40,4,44,5],"description":"Stores and instance of the user's environment (ip, user agent, id)","scope":"HH\\Audit\\Writer","children":[{"kind":128,"name":"$audit_store","location":[40,33,40,57],"scope":"__construct","typeSource":1,"type":"HH\\Audit\\IStore"},{"kind":128,"name":"$env","location":[40,59,40,75],"scope":"__construct","typeSource":1,"type":"HH\\Audit\\Environment"}]},{"kind":32,"name":"get","modifiers":33,"location":[55,4,58,5],"description":"Factory function","scope":"HH\\Audit\\Writer","type":"HH\\Audit\\Writer","children":[{"kind":128,"name":"$audit_store","location":[55,31,55,55],"description":"the audit_store to be used to saved the\naccess log.","scope":"get","typeSource":1,"type":"HH\\Audit\\IStore"},{"kind":128,"name":"$session","location":[55,57,55,74],"description":"the jwt object to be used to get the logged user\n","scope":"get","typeSource":1,"type":"Huli\\Authentication\\ISession"}]},{"kind":32,"name":"get_by_environment","modifiers":33,"location":[69,4,72,5],"description":"Factory function to get the writer by environment","scope":"HH\\Audit\\Writer","type":"HH\\Audit\\Writer","children":[{"kind":128,"name":"$audit_store","location":[69,46,69,70],"description":"the audit_store to be used to saved the\naccess log.","scope":"get_by_environment","typeSource":1,"type":"HH\\Audit\\IStore"},{"kind":128,"name":"$env","location":[69,72,69,88],"scope":"get_by_environment","typeSource":1,"type":"HH\\Audit\\Environment"}]},{"kind":32,"name":"log","modifiers":1,"location":[79,4,118,5],"description":"Logs the audit action to the model that is currently set in the properties","scope":"HH\\Audit\\Writer","children":[{"kind":128,"name":"$params","location":[79,24,79,34],"description":"variable number of parameters","scope":"log","type":"mixed"}]}]}]}}