{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Citizen/Register/Loader.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Citizen\\Register","location":[11,0,11,30]},{"kind":1,"name":"File","modifiers":4096,"location":[13,5,13,17],"associated":[{"kind":1,"name":"HH\\Util\\File"}]},{"kind":1,"name":"CitizenRegisterModel","modifiers":4096,"location":[14,5,14,51],"associated":[{"kind":1,"name":"Model\\Citizen\\Register"}]},{"kind":1,"name":"HH\\Citizen\\Register\\Loader","location":[19,0,438,1],"description":"Class used the file content into the database tables","children":[{"kind":1024,"name":"MEN","modifiers":1,"location":[24,10,24,17],"scope":"HH\\Citizen\\Register\\Loader","value":"1"},{"kind":1024,"name":"WOMEN","modifiers":1,"location":[25,10,25,19],"scope":"HH\\Citizen\\Register\\Loader","value":"2"},{"kind":1024,"name":"LAST_NAME_FORMAT","modifiers":1,"location":[30,10,30,36],"scope":"HH\\Citizen\\Register\\Loader","value":"'%s %s'"},{"kind":16,"name":"$debug","modifiers":4,"location":[32,12,32,26],"scope":"HH\\Citizen\\Register\\Loader"},{"kind":32,"name":"load_register_base","modifiers":1,"location":[37,4,45,5],"description":"Read the public register base Costa Rica","scope":"HH\\Citizen\\Register\\Loader"},{"kind":32,"name":"load_borns_base","modifiers":1,"location":[50,4,58,5],"description":"Read the public borns base Costa Rica","scope":"HH\\Citizen\\Register\\Loader"},{"kind":32,"name":"load_borns_by_date","modifiers":1,"location":[65,4,72,5],"description":"Load borns file given by date as updates","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$path","location":[65,39,65,44],"scope":"load_borns_by_date","type":"string"}]},{"kind":32,"name":"load_deaths_base","modifiers":1,"location":[77,4,85,5],"description":"Read the public deaths base Costa Rica","scope":"HH\\Citizen\\Register\\Loader"},{"kind":32,"name":"load_deaths_by_date","modifiers":1,"location":[92,4,99,5],"description":"Load deaths file given by date as updates","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$path","location":[92,40,92,45],"scope":"load_deaths_by_date","type":"string"}]},{"kind":32,"name":"load","modifiers":1,"location":[109,4,122,5],"description":"Load the register into the database","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$path","location":[109,25,109,30],"description":"source file path","scope":"load","type":"string"},{"kind":128,"name":"$regex","location":[109,32,109,38],"description":"regex used to digest the file information","scope":"load","type":"string"},{"kind":128,"name":"$call_back_function","location":[109,40,109,59],"description":"function used to call after each chuck read","scope":"load","type":"string"},{"kind":128,"name":"$chunk_size","location":[109,61,109,72],"description":"how many register will be digest for each interaction","scope":"load","type":"int"}]},{"kind":32,"name":"load_register_into_data_base","modifiers":1,"location":[129,4,145,5],"description":"Load the file data into the database","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$file_content","location":[129,49,129,62],"scope":"load_register_into_data_base","type":"array"}]},{"kind":32,"name":"load_borns_base_into_data_base","modifiers":1,"location":[152,4,172,5],"description":"Load borns information into database","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$file_content","location":[152,51,152,64],"scope":"load_borns_base_into_data_base","type":"array"}]},{"kind":32,"name":"load_borns_by_date_into_data_base","modifiers":1,"location":[179,4,199,5],"description":"Load borns informacion by date into the database","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$file_content","location":[179,54,179,67],"scope":"load_borns_by_date_into_data_base","type":"array"}]},{"kind":32,"name":"set_debug","modifiers":1,"location":[204,4,209,5],"description":"Turn on/off debug messages on the script","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$debug","location":[204,30,204,36],"scope":"set_debug"}]},{"kind":32,"name":"log","modifiers":4,"location":[216,4,221,5],"description":"Log messages","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$message","location":[216,25,216,33],"scope":"log"}]},{"kind":32,"name":"create_borns_object","modifiers":4,"location":[228,4,265,5],"description":"Create the borns object","scope":"HH\\Citizen\\Register\\Loader","type":"object","children":[{"kind":128,"name":"$identification","location":[229,8,229,23],"scope":"create_borns_object"},{"kind":128,"name":"$father_identification","location":[230,8,230,30],"scope":"create_borns_object"},{"kind":128,"name":"$mother_identification","location":[231,8,231,30],"scope":"create_borns_object"},{"kind":128,"name":"$birthdate","location":[232,8,232,18],"scope":"create_borns_object"},{"kind":128,"name":"$gender","location":[233,8,233,15],"scope":"create_borns_object"},{"kind":128,"name":"$is_alive","location":[234,8,234,17],"scope":"create_borns_object"},{"kind":128,"name":"$first_name","location":[235,8,235,19],"scope":"create_borns_object"},{"kind":128,"name":"$first_surname","location":[236,8,236,22],"scope":"create_borns_object"},{"kind":128,"name":"$second_surname","location":[237,8,237,23],"scope":"create_borns_object"},{"kind":128,"name":"$hospital_code","location":[238,8,238,22],"scope":"create_borns_object"},{"kind":128,"name":"$hour_of_birth","location":[239,8,239,22],"scope":"create_borns_object"},{"kind":128,"name":"$place_of_birth","location":[240,8,240,23],"scope":"create_borns_object"}]},{"kind":32,"name":"load_deaths_base_into_data_base","modifiers":1,"location":[272,4,280,5],"description":"Load the content of the difuciones file into the database","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$file_content","location":[272,52,272,65],"scope":"load_deaths_base_into_data_base","type":"array"}]},{"kind":32,"name":"load_deaths_by_date_into_data_base","modifiers":1,"location":[285,4,293,5],"description":"Load deaths informacion by date into the database","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$file_content","location":[285,55,285,68],"scope":"load_deaths_by_date_into_data_base"}]},{"kind":32,"name":"create_deaths_object","modifiers":4,"location":[301,4,312,5],"description":"Create each person for deaths base load into database","scope":"HH\\Citizen\\Register\\Loader","children":[{"kind":128,"name":"$identification","location":[301,42,301,57],"scope":"create_deaths_object","type":"int"},{"kind":128,"name":"$citizen_register","location":[301,59,301,83],"scope":"create_deaths_object"}]},{"kind":32,"name":"format_text","modifiers":1,"location":[321,4,333,5],"description":"Format each record field","scope":"HH\\Citizen\\Register\\Loader","type":"string","children":[{"kind":128,"name":"$value","location":[321,32,321,38],"scope":"format_text","type":"string"}]},{"kind":32,"name":"format_numbers","modifiers":1,"location":[343,4,350,5],"description":"Format user identification","scope":"HH\\Citizen\\Register\\Loader","type":"string","children":[{"kind":128,"name":"$identification","location":[343,35,343,50],"scope":"format_numbers","type":"string"},{"kind":128,"name":"$default","location":[343,52,343,60],"scope":"format_numbers","type":"string"}]},{"kind":32,"name":"format_date","modifiers":1,"location":[360,4,381,5],"description":"Format date using the format AAAA-MM-DD","scope":"HH\\Citizen\\Register\\Loader","type":"string","children":[{"kind":128,"name":"$date","location":[360,32,360,37],"scope":"format_date","type":"string"},{"kind":128,"name":"$hour_of_birth","location":[360,39,360,53],"scope":"format_date"}]},{"kind":32,"name":"uc_first","modifiers":1,"location":[391,4,400,5],"description":"Get the value with the first letter capitalized","scope":"HH\\Citizen\\Register\\Loader","type":"[string","children":[{"kind":128,"name":"$text","location":[391,29,391,34],"scope":"uc_first"},{"kind":128,"name":"$delimiter","location":[391,36,391,46],"scope":"uc_first","type":"string"}]},{"kind":32,"name":"format_is_alive","modifiers":1,"location":[407,4,415,5],"description":"Format is alive field","scope":"HH\\Citizen\\Register\\Loader","type":"int","children":[{"kind":128,"name":"$is_death","location":[407,36,407,45],"scope":"format_is_alive"}]},{"kind":32,"name":"format_gender","modifiers":1,"location":[424,4,437,5],"description":"Gender format","scope":"HH\\Citizen\\Register\\Loader","type":"string","children":[{"kind":128,"name":"$gender","location":[424,34,424,41],"scope":"format_gender","type":"int"}]}]}]}}