{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/Http/ADraftRequest.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\Http","location":[11,0,11,18]},{"kind":1,"name":"ArrayObject","modifiers":4096,"location":[13,5,13,16],"associated":[{"kind":1,"name":"ArrayObject"}]},{"kind":1,"name":"Image","modifiers":4096,"location":[14,5,14,13],"associated":[{"kind":1,"name":"HH\\Image"}]},{"kind":1,"name":"Language","modifiers":4096,"location":[15,5,15,16],"associated":[{"kind":1,"name":"HH\\Language"}]},{"kind":1,"name":"S3ImageSave","modifiers":4096,"location":[16,5,16,55],"associated":[{"kind":1,"name":"HH\\Request\\Handler\\AwsS3\\Image\\Save"}]},{"kind":1,"name":"ObjectRequest","modifiers":4096,"location":[17,5,17,44],"associated":[{"kind":1,"name":"HH\\Request\\Type\\Object"}]},{"kind":1,"name":"AwsThumbnail","modifiers":4096,"location":[18,5,18,42],"associated":[{"kind":1,"name":"HH\\Util\\Aws\\Thumbnail"}]},{"kind":1,"name":"AwsUploadServer","modifiers":4096,"location":[19,5,19,48],"associated":[{"kind":1,"name":"HH\\Util\\Aws\\UploadServer"}]},{"kind":1,"name":"ISession","modifiers":4096,"location":[20,5,20,33],"associated":[{"kind":1,"name":"Huli\\Authentication\\ISession"}]},{"kind":1,"name":"Config","modifiers":4096,"location":[21,5,21,20],"associated":[{"kind":1,"name":"Huli\\AWS\\Config"}]},{"kind":1,"name":"Region","modifiers":4096,"location":[22,5,22,25],"associated":[{"kind":1,"name":"Huli\\AWS\\Enum\\Region"}]},{"kind":1,"name":"PublicAwsThumbnail","modifiers":4096,"location":[23,5,23,61],"associated":[{"kind":1,"name":"Huli\\AWS\\Thumbnail\\PublicThumbnail"}]},{"kind":1,"name":"AwsThumbnailSize","modifiers":4096,"location":[24,5,24,48],"associated":[{"kind":1,"name":"Huli\\AWS\\Thumbnail\\Size"}]},{"kind":1,"name":"Transaction","modifiers":4096,"location":[25,5,25,30],"associated":[{"kind":1,"name":"Huli\\Database\\Transaction"}]},{"kind":1,"name":"TaskQueue","modifiers":4096,"location":[26,5,26,40],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\TaskQueue"}]},{"kind":1,"name":"App","modifiers":4096,"location":[27,5,27,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"InstanceModel","modifiers":4096,"location":[28,5,28,36],"associated":[{"kind":1,"name":"Model\\Instance"}]},{"kind":1,"name":"stdClass","modifiers":4096,"location":[29,5,29,13],"associated":[{"kind":1,"name":"stdClass"}]},{"kind":1,"name":"HH\\Http\\ADraftRequest","modifiers":16,"location":[35,0,745,1],"associated":[{"kind":1,"name":"HH\\Http\\AObjectRequest"}],"description":"Http Abstrac Draft Request Handler\nImplements draft specific logic for requests","children":[{"kind":1024,"name":"ERROR_INVALID_DRAFT_UPDATE_VALUE","modifiers":1,"location":[40,10,40,89],"scope":"HH\\Http\\ADraftRequest","value":"'The value sent for draft update is invalid'"},{"kind":1024,"name":"ERROR_INVALID_DRAFT","modifiers":1,"location":[41,10,41,84],"scope":"HH\\Http\\ADraftRequest","value":"'The draft that is trying to be accessed is invalid'"},{"kind":1024,"name":"REQUEST_DRAFT","modifiers":1,"location":[46,10,46,33],"scope":"HH\\Http\\ADraftRequest","value":"'draft'"},{"kind":1024,"name":"RESULTS_PER_PAGE","modifiers":1,"location":[51,10,51,31],"scope":"HH\\Http\\ADraftRequest","value":"20"},{"kind":1024,"name":"READONLY_DEFAULT_METHOD","modifiers":1,"location":[56,10,56,62],"scope":"HH\\Http\\ADraftRequest","value":"'get_readonly_information'"},{"kind":1024,"name":"PHOTO","modifiers":1,"location":[61,10,61,25],"scope":"HH\\Http\\ADraftRequest","value":"'photo'"},{"kind":1024,"name":"DRAFT_THUMBNAIL","modifiers":1,"location":[62,10,62,41],"scope":"HH\\Http\\ADraftRequest","value":"'draft_thumb'"},{"kind":1024,"name":"IMAGES","modifiers":1,"location":[63,10,63,27],"scope":"HH\\Http\\ADraftRequest","value":"'images'"},{"kind":16,"name":"$request_types","modifiers":2,"location":[70,14,72,5],"scope":"HH\\Http\\ADraftRequest","type":"array"},{"kind":16,"name":"$capable_request_types","modifiers":2,"location":[80,14,85,5],"scope":"HH\\Http\\ADraftRequest","type":"array"},{"kind":16,"name":"$demand_all_fields","modifiers":2,"location":[92,14,92,39],"scope":"HH\\Http\\ADraftRequest","type":"bool"},{"kind":16,"name":"$allowed_statuses","modifiers":2,"location":[99,14,99,36],"scope":"HH\\Http\\ADraftRequest","type":"array"},{"kind":16,"name":"$draft","modifiers":2,"location":[106,14,106,20],"scope":"HH\\Http\\ADraftRequest","type":"mixed"},{"kind":16,"name":"$photo_draft","modifiers":2,"location":[111,14,111,26],"scope":"HH\\Http\\ADraftRequest"},{"kind":16,"name":"$images_draft","modifiers":2,"location":[112,14,112,32],"scope":"HH\\Http\\ADraftRequest"},{"kind":16,"name":"$session","modifiers":2,"location":[119,14,119,22],"scope":"HH\\Http\\ADraftRequest","type":"Huli\\Authentication\\ISession"},{"kind":32,"name":"__construct","modifiers":1,"location":[126,4,129,5],"description":"Sets the value of session","scope":"HH\\Http\\ADraftRequest","children":[{"kind":128,"name":"$session","location":[126,32,126,49],"scope":"__construct","typeSource":1,"type":"Huli\\Authentication\\ISession"}]},{"kind":32,"name":"__get","modifiers":1,"location":[139,4,147,5],"description":"This method is intended to expose private/protected attributes for the draft synchronization\nprocess","scope":"HH\\Http\\ADraftRequest","type":"string","children":[{"kind":128,"name":"$value","location":[139,26,139,32],"description":"attribute the has to be exposed\n","scope":"__get","type":"string"}]},{"kind":32,"name":"get_modified","modifiers":1,"location":[156,4,167,5],"description":"Gets data field modified value (Used in AdapterProfile)","scope":"HH\\Http\\ADraftRequest","type":"string","children":[{"kind":128,"name":"$field","location":[156,33,156,39],"scope":"get_modified","type":"string"}]},{"kind":32,"name":"get_value_data","modifiers":1,"location":[176,4,187,5],"description":"Gets data field modified value (Used in AdapterProfile)","scope":"HH\\Http\\ADraftRequest","type":"string","children":[{"kind":128,"name":"$field","location":[176,35,176,41],"scope":"get_value_data","type":"string"}]},{"kind":32,"name":"update_draft","modifiers":1,"location":[200,4,230,5],"description":"Updates a draft field with the value sent","scope":"HH\\Http\\ADraftRequest","type":"string","children":[{"kind":128,"name":"$id_draft","location":[200,33,200,42],"scope":"update_draft","type":"string"},{"kind":128,"name":"$draft_model","location":[200,44,200,56],"scope":"update_draft","type":"string"},{"kind":128,"name":"$field","location":[200,58,200,64],"scope":"update_draft","type":"string"},{"kind":128,"name":"$value","location":[200,66,200,72],"scope":"update_draft","type":"string"},{"kind":128,"name":"$language","location":[200,74,200,83],"scope":"update_draft","type":"string"}]},{"kind":32,"name":"discard_draft","modifiers":1,"location":[238,4,245,5],"description":"Discards the current doctor draft","scope":"HH\\Http\\ADraftRequest","children":[{"kind":128,"name":"$id","location":[238,34,238,37],"scope":"discard_draft","type":"string"},{"kind":128,"name":"$draft_model","location":[238,39,238,51],"scope":"discard_draft","type":"HH\\Http\\strin"}]},{"kind":32,"name":"upload_photo","modifiers":1,"location":[259,4,304,5],"description":"Uploads the photo to draft folder and returns its name and\nthe path to the thumbnail","scope":"HH\\Http\\ADraftRequest","type":"array","children":[{"kind":128,"name":"$photo","location":[260,8,260,14],"description":"post parameter","scope":"upload_photo","type":"string"},{"kind":128,"name":"$thumbnail_sizes","location":[261,8,261,30],"description":"Array of thumbnails to be generated","scope":"upload_photo","type":"array"},{"kind":128,"name":"$image_owner_type","location":[262,8,262,25],"description":"Type of profile (Doctor photo, doctor image ...)","scope":"upload_photo","type":"string"},{"kind":128,"name":"$preferred_thumbnail_size","location":[263,8,263,33],"description":"Preferred thumbnail size to be return to the draft\n","scope":"upload_photo","type":"string"}]},{"kind":32,"name":"get_drafts_formatted","modifiers":1,"location":[314,4,324,5],"description":"Formats the drafts, makes them easy to use","scope":"HH\\Http\\ADraftRequest","type":"array","children":[{"kind":128,"name":"$drafts","location":[314,41,314,54],"scope":"get_drafts_formatted","type":"array"},{"kind":128,"name":"$key","location":[314,56,314,60],"scope":"get_drafts_formatted","type":"string"}]},{"kind":32,"name":"get_draft","modifiers":2,"location":[337,4,353,5],"description":"Gets the draft using the id\nDecides whether to get using the draft id or the item id","scope":"HH\\Http\\ADraftRequest","type":"mixed","children":[{"kind":128,"name":"$id","location":[337,33,337,36],"scope":"get_draft","type":"mixed"},{"kind":128,"name":"$draft_model","location":[337,38,337,50],"scope":"get_draft","type":"string"},{"kind":128,"name":"$modified_on","location":[337,52,337,71],"description":"last model modification timestamp","scope":"get_draft","value":"null","type":"int"},{"kind":128,"name":"$module","location":[337,73,337,87],"scope":"get_draft","value":"null","type":"string"}]},{"kind":32,"name":"get_draft_object","modifiers":2,"location":[364,4,373,5],"description":"Get the draft information","scope":"HH\\Http\\ADraftRequest","type":"HH\\Http\\draft","children":[{"kind":128,"name":"$id","location":[364,40,364,43],"scope":"get_draft_object","type":"int"},{"kind":128,"name":"$draft_model","location":[364,45,364,57],"scope":"get_draft_object","type":"string"},{"kind":128,"name":"$module","location":[364,59,364,66],"scope":"get_draft_object","type":"string"}]},{"kind":32,"name":"get_empty_object","modifiers":2,"location":[383,4,410,5],"description":"Gets an empty object\nUsed for new values","scope":"HH\\Http\\ADraftRequest","type":"stdClass","children":[{"kind":128,"name":"$fields","location":[383,40,383,53],"scope":"get_empty_object","type":"array"}]},{"kind":32,"name":"generate_images_thumbnail","modifiers":2,"location":[418,4,425,5],"description":"Generates the thumbnails for the images","scope":"HH\\Http\\ADraftRequest","children":[{"kind":128,"name":"$images","location":[418,49,418,63],"scope":"generate_images_thumbnail","type":"array"},{"kind":128,"name":"$key","location":[418,65,418,69],"scope":"generate_images_thumbnail","type":"mixed"}]},{"kind":32,"name":"convert_multivalue","modifiers":2,"location":[435,4,444,5],"description":"Explodes a multiple value in an array and add the labels for it","scope":"HH\\Http\\ADraftRequest","type":"array","children":[{"kind":128,"name":"$data","location":[435,42,435,48],"description":"The original field data","scope":"convert_multivalue","type":"string"},{"kind":128,"name":"$field","location":[435,50,435,56],"description":"The field name\n","scope":"convert_multivalue","type":"string"}]},{"kind":32,"name":"accept_draft","modifiers":2,"location":[451,4,457,5],"description":"Accepts the current doctor draft","scope":"HH\\Http\\ADraftRequest","children":[{"kind":128,"name":"$draft_model","location":[451,36,451,48],"scope":"accept_draft","type":"mixed"}]},{"kind":32,"name":"get_thumbnail","modifiers":2,"location":[472,4,482,5],"description":"Gets the current thumbnail for an object\nTakes it from the draft if exists","scope":"HH\\Http\\ADraftRequest","type":"string","children":[{"kind":128,"name":"$key","location":[472,37,472,41],"scope":"get_thumbnail","type":"string"},{"kind":128,"name":"$thumbnail_size","location":[472,43,472,58],"scope":"get_thumbnail","type":"mixed"},{"kind":128,"name":"$default","location":[472,60,472,68],"scope":"get_thumbnail","type":"string"},{"kind":128,"name":"$photo","location":[472,70,472,83],"description":"custom photo value","scope":"get_thumbnail","value":"null","type":"string"}]},{"kind":32,"name":"is_valid_request","modifiers":2,"location":[489,4,501,5],"description":"Makes sure the request is valid","scope":"HH\\Http\\ADraftRequest","type":"bool"},{"kind":32,"name":"get_base_multivalue_object","modifiers":2,"location":[508,4,521,5],"description":"Inits a multivalue object and sets default properties as required","scope":"HH\\Http\\ADraftRequest","children":[{"kind":128,"name":"$data","location":[508,50,508,64],"scope":"get_base_multivalue_object","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"get_value","modifiers":2,"location":[533,4,571,5],"description":"Gets data field value","scope":"HH\\Http\\ADraftRequest","type":"string","children":[{"kind":128,"name":"$field","location":[533,33,533,39],"scope":"get_value","type":"string"},{"kind":128,"name":"$is_required","location":[533,41,533,53],"scope":"get_value","type":"bool"},{"kind":128,"name":"$field_type","location":[533,55,533,66],"scope":"get_value","type":"string"},{"kind":128,"name":"$multivalue_fields","location":[533,68,533,97],"scope":"get_value","value":"[]"}]},{"kind":32,"name":"get_raw_value","modifiers":2,"location":[580,4,583,5],"description":"Gets the raw value of a field","scope":"HH\\Http\\ADraftRequest","type":"mixed","children":[{"kind":128,"name":"$field","location":[580,37,580,43],"scope":"get_raw_value","type":"string"}]},{"kind":32,"name":"set_readonly_fields","modifiers":2,"location":[588,4,630,5],"description":"Set the read only draft fields","scope":"HH\\Http\\ADraftRequest"},{"kind":32,"name":"set_readonly_information","modifiers":2,"location":[640,4,664,5],"description":"Set the readonly data information","scope":"HH\\Http\\ADraftRequest","children":[{"kind":128,"name":"$readonly_field_name","location":[641,8,641,28],"scope":"set_readonly_information","type":"mixed"},{"kind":128,"name":"$readonly_information","location":[642,8,642,29],"scope":"set_readonly_information","type":"array"},{"kind":128,"name":"$id_name","location":[643,8,643,16],"scope":"set_readonly_information","type":"array"}]},{"kind":32,"name":"look_for_index","modifiers":2,"location":[675,4,685,5],"description":"Look for an specific id in the content draft and return the index","scope":"HH\\Http\\ADraftRequest","type":"int","children":[{"kind":128,"name":"$readonly_field_name","location":[675,38,675,58],"description":"name of the field to look up","scope":"look_for_index","type":"string"},{"kind":128,"name":"$id","location":[675,60,675,63],"description":"id to found","scope":"look_for_index","type":"int"},{"kind":128,"name":"$id_name","location":[675,65,675,73],"description":"name of the id\n","scope":"look_for_index","type":"string"}]},{"kind":32,"name":"extract_ids","modifiers":2,"location":[696,4,717,5],"description":"Extract the ids from the content using the id name","scope":"HH\\Http\\ADraftRequest","type":"array","children":[{"kind":128,"name":"$content","location":[696,35,696,43],"description":"array where to extract the ids","scope":"extract_ids","type":"array"},{"kind":128,"name":"$id_name","location":[696,45,696,53],"description":"name of the id to find","scope":"extract_ids","type":"string"},{"kind":128,"name":"$readonly_field_name","location":[696,55,696,75],"description":"name of the read only field\n","scope":"extract_ids","type":"string"}]},{"kind":32,"name":"get_draft_value","modifiers":4,"location":[728,4,744,5],"description":"Gets a draft value based on a field value","scope":"HH\\Http\\ADraftRequest","type":"mixed","children":[{"kind":128,"name":"$value","location":[728,37,728,43],"description":"full current value","scope":"get_draft_value","type":"stdClass"},{"kind":128,"name":"$field","location":[728,45,728,58],"scope":"get_draft_value","value":"null","type":"string"},{"kind":128,"name":"$multivalue_fields","location":[728,60,728,89],"scope":"get_draft_value","value":"[]","type":"array"}]}]}]}}