{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/Payment/Events/Addon/Termination.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Payment\\Events\\Addon","location":[11,0,11,31]},{"kind":1,"name":"Catalog","modifiers":4096,"location":[13,5,13,21],"associated":[{"kind":1,"name":"HH\\Addon\\Catalog"}]},{"kind":1,"name":"TResponse","modifiers":4096,"location":[14,5,14,22],"associated":[{"kind":1,"name":"HH\\Http\\TResponse"}]},{"kind":1,"name":"UserSubscriptionModel","modifiers":4096,"location":[15,5,15,53],"associated":[{"kind":1,"name":"Model\\User\\Subscription"}]},{"kind":1,"name":"AddonFactory","modifiers":4096,"location":[16,5,16,42],"associated":[{"kind":1,"name":"Payment\\Addon\\Factory"}]},{"kind":1,"name":"CustomInvoice","modifiers":4096,"location":[17,5,17,56],"associated":[{"kind":1,"name":"Payment\\EventObject\\Invoice\\Custom"}]},{"kind":1,"name":"Data","modifiers":4096,"location":[18,5,18,32],"associated":[{"kind":1,"name":"Payment\\Events\\Invoice\\Data"}]},{"kind":1,"name":"ICallable","modifiers":4096,"location":[19,5,19,22],"associated":[{"kind":1,"name":"Payment\\ICallable"}]},{"kind":1,"name":"IInvoiceItem","modifiers":4096,"location":[20,5,20,25],"associated":[{"kind":1,"name":"Payment\\IInvoiceItem"}]},{"kind":1,"name":"IProcessor","modifiers":4096,"location":[21,5,21,23],"associated":[{"kind":1,"name":"Payment\\IProcessor"}]},{"kind":1,"name":"InvoiceStore","modifiers":4096,"location":[22,5,22,42],"associated":[{"kind":1,"name":"Payment\\Store\\Invoice"}]},{"kind":1,"name":"Payment\\Events\\Addon\\Termination","modifiers":8,"location":[28,0,187,1],"associated":[{"kind":2,"name":"Payment\\ICallable"},{"kind":4,"name":"HH\\Http\\TResponse"}],"description":"This class should be used when all the active addons that belong to a\nuser must be terminated.","children":[{"kind":1024,"name":"ERROR_CUST_NOT_FOUND","modifiers":1,"location":[32,10,32,59],"scope":"Payment\\Events\\Addon\\Termination","value":"'error_customer_not_found'"},{"kind":1024,"name":"ERROR_CUST_NO_SUB","modifiers":1,"location":[33,10,33,68],"scope":"Payment\\Events\\Addon\\Termination","value":"'error_customer_no_subscription_found'"},{"kind":16,"name":"$proc","modifiers":4,"location":[40,12,40,17],"scope":"Payment\\Events\\Addon\\Termination","type":"Payment\\IProcessor"},{"kind":16,"name":"$total_added","modifiers":4,"location":[47,12,47,28],"scope":"Payment\\Events\\Addon\\Termination","type":"int"},{"kind":32,"name":"__construct","modifiers":1,"location":[53,4,57,5],"scope":"Payment\\Events\\Addon\\Termination","children":[{"kind":128,"name":"$proc","location":[53,32,53,48],"description":"payment processor","scope":"__construct","typeSource":1,"type":"Payment\\IProcessor"},{"kind":128,"name":"$sub","location":[53,50,53,76],"description":"current user subscription","scope":"__construct","typeSource":1,"type":"Model\\User\\Subscription"}]},{"kind":32,"name":"run","modifiers":1,"location":[62,4,122,5],"scope":"Payment\\Events\\Addon\\Termination"},{"kind":32,"name":"get_total_added","modifiers":1,"location":[129,4,132,5],"description":"Retrieves the total amount of line items added to the current customer","scope":"Payment\\Events\\Addon\\Termination","type":"int"},{"kind":32,"name":"get_custom_invoice_data","modifiers":4,"location":[141,4,160,5],"description":"Creates an custom invoice event using predetermined data, the period start\nis retrived from Stripe, while the period end and next period start are\nset according to the current time.","scope":"Payment\\Events\\Addon\\Termination","type":"Payment\\EventObject\\Invoice\\Custom"},{"kind":32,"name":"add_invoice_item","modifiers":4,"location":[170,4,186,5],"description":"Adds an invoice line item for the customer according based on the data\nsupplied by the addons","scope":"Payment\\Events\\Addon\\Termination","children":[{"kind":128,"name":"$item","location":[170,38,170,56],"description":"contains info about the addon such as\nprice and description","scope":"add_invoice_item","typeSource":1,"type":"Payment\\IInvoiceItem"},{"kind":128,"name":"$sub","location":[170,58,170,84],"description":"contains some subscription information","scope":"add_invoice_item","typeSource":1,"type":"Model\\User\\Subscription"}]}]}]}}