{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/Phone/Relay/OnVerify.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"Phone\\Relay","location":[11,0,11,22]},{"kind":1,"name":"App","modifiers":4096,"location":[13,5,13,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"IRelay","modifiers":4096,"location":[14,5,14,17],"associated":[{"kind":1,"name":"Phone\\IRelay"}]},{"kind":1,"name":"Phone\\Relay\\OnVerify","location":[22,0,301,1],"associated":[{"kind":2,"name":"Phone\\IRelay"}],"description":"Phone verification class\nUses OnVerify","children":[{"kind":1024,"name":"PROVIDER_NAME","modifiers":1,"location":[27,10,27,36],"scope":"Phone\\Relay\\OnVerify","value":"'OnVerify'"},{"kind":1024,"name":"API_USER","modifiers":1,"location":[32,10,32,25],"scope":"Phone\\Relay\\OnVerify","value":"4238"},{"kind":1024,"name":"API_PASS","modifiers":1,"location":[33,10,33,25],"scope":"Phone\\Relay\\OnVerify","value":"4358"},{"kind":1024,"name":"ENGLISH_TEMPLATE","modifiers":1,"location":[38,10,38,33],"scope":"Phone\\Relay\\OnVerify","value":"4556"},{"kind":1024,"name":"SPANISH_TEMPLATE","modifiers":1,"location":[39,10,39,33],"scope":"Phone\\Relay\\OnVerify","value":"4561"},{"kind":1024,"name":"VERIFICATION_SMS","modifiers":1,"location":[44,10,44,34],"scope":"Phone\\Relay\\OnVerify","value":"'sms'"},{"kind":1024,"name":"VERIFICATION_CALL","modifiers":1,"location":[45,10,45,36],"scope":"Phone\\Relay\\OnVerify","value":"'call'"},{"kind":1024,"name":"ERROR_CREDENTIALS","modifiers":1,"location":[50,10,50,61],"scope":"Phone\\Relay\\OnVerify","value":"'Username or password is wrong'"},{"kind":1024,"name":"ERROR_BALANCE","modifiers":1,"location":[51,10,51,49],"scope":"Phone\\Relay\\OnVerify","value":"'Balance is not enough'"},{"kind":1024,"name":"ERROR_NUMBER","modifiers":1,"location":[52,10,52,39],"scope":"Phone\\Relay\\OnVerify","value":"'Number wrong'"},{"kind":1024,"name":"ERROR_PIN","modifiers":1,"location":[53,10,53,34],"scope":"Phone\\Relay\\OnVerify","value":"'Pin absent'"},{"kind":1024,"name":"ERROR_IP","modifiers":1,"location":[54,10,54,37],"scope":"Phone\\Relay\\OnVerify","value":"'IP restriction'"},{"kind":1024,"name":"ERROR_VID","modifiers":1,"location":[55,10,55,37],"scope":"Phone\\Relay\\OnVerify","value":"'Duplicate vid'"},{"kind":1024,"name":"ERROR_TEMPLATE","modifiers":1,"location":[56,10,56,48],"scope":"Phone\\Relay\\OnVerify","value":"'Template id missing'"},{"kind":1024,"name":"ERROR_RESTRICTED_COUNTRY","modifiers":1,"location":[57,10,57,64],"scope":"Phone\\Relay\\OnVerify","value":"'Restricted country/prefix'"},{"kind":1024,"name":"ERROR_LIMIT_EXHAUSTED","modifiers":1,"location":[58,10,58,76],"scope":"Phone\\Relay\\OnVerify","value":"'Same number verification limit exhausted'"},{"kind":1024,"name":"ERROR_RESTRICTED_TYPE","modifiers":1,"location":[59,10,59,66],"scope":"Phone\\Relay\\OnVerify","value":"'Restricted phone type detected'"},{"kind":1024,"name":"ERROR_SECURITY","modifiers":1,"location":[60,10,60,84],"scope":"Phone\\Relay\\OnVerify","value":"'Verification cost is higher than limits set in security'"},{"kind":16,"name":"$templates","modifiers":4,"location":[65,12,68,5],"scope":"Phone\\Relay\\OnVerify"},{"kind":16,"name":"$error_messages","modifiers":4,"location":[73,12,85,5],"scope":"Phone\\Relay\\OnVerify"},{"kind":1024,"name":"STATUS_TO_RETRY","modifiers":1,"location":[90,10,90,30],"scope":"Phone\\Relay\\OnVerify","value":"[]"},{"kind":16,"name":"$price","modifiers":4,"location":[97,12,97,22],"scope":"Phone\\Relay\\OnVerify","type":"float"},{"kind":16,"name":"$count","modifiers":4,"location":[104,12,104,22],"scope":"Phone\\Relay\\OnVerify","type":"int"},{"kind":16,"name":"$error_text","modifiers":4,"location":[111,12,111,28],"scope":"Phone\\Relay\\OnVerify","type":"string"},{"kind":16,"name":"$id_msg","modifiers":4,"location":[116,12,116,24],"scope":"Phone\\Relay\\OnVerify"},{"kind":16,"name":"$status","modifiers":4,"location":[123,12,123,19],"scope":"Phone\\Relay\\OnVerify","type":"int"},{"kind":32,"name":"send_sms","modifiers":1,"location":[135,4,146,5],"description":"Sends a sms verification message with a pin","scope":"Phone\\Relay\\OnVerify","type":"int","children":[{"kind":128,"name":"$phone_number","location":[135,29,135,42],"scope":"send_sms"},{"kind":128,"name":"$message","location":[135,44,135,52],"scope":"send_sms","type":"string"}]},{"kind":32,"name":"make_phone_call","modifiers":1,"location":[159,4,173,5],"description":"Makes a phone call to give a pin verification code","scope":"Phone\\Relay\\OnVerify","type":"int","children":[{"kind":128,"name":"$phone_number","location":[159,36,159,49],"scope":"make_phone_call","type":"int"},{"kind":128,"name":"$pin","location":[159,51,159,55],"scope":"make_phone_call","type":"int"}]},{"kind":32,"name":"get_price","modifiers":1,"location":[181,4,184,5],"description":"Get the price by executing the operation(dollars)\nThis must be the sum of the calls to the provider Ejm sum all the sent sms","scope":"Phone\\Relay\\OnVerify","type":"float"},{"kind":32,"name":"get_count","modifiers":1,"location":[192,4,195,5],"description":"Get the amount of calls to the provider to executed the action\nEjm Number of SMS send or call made","scope":"Phone\\Relay\\OnVerify","type":"int"},{"kind":32,"name":"get_error_text","modifiers":1,"location":[202,4,205,5],"description":"Get the error text in case to exist any","scope":"Phone\\Relay\\OnVerify","type":"string"},{"kind":32,"name":"get_status","modifiers":1,"location":[212,4,215,5],"description":"Get the status of the request","scope":"Phone\\Relay\\OnVerify","type":"string"},{"kind":32,"name":"get_id_msg","modifiers":1,"location":[222,4,225,5],"description":"Get the id of the sent object","scope":"Phone\\Relay\\OnVerify","type":"string"},{"kind":32,"name":"get_provider_name","modifiers":1,"location":[232,4,235,5],"description":"Get the name of the sms provider","scope":"Phone\\Relay\\OnVerify","type":"string"},{"kind":32,"name":"has_to_retry","modifiers":1,"location":[242,4,245,5],"description":"This function indicates when on failure the sms messages have to try to resend","scope":"Phone\\Relay\\OnVerify","type":"bool"},{"kind":32,"name":"make_api_call","modifiers":4,"location":[255,4,263,5],"description":"Makes an API call to OnVerify","scope":"Phone\\Relay\\OnVerify","type":"string","children":[{"kind":128,"name":"$params","location":[255,35,255,48],"scope":"make_api_call","type":"array"},{"kind":128,"name":"$type","location":[255,50,255,55],"scope":"make_api_call"}]},{"kind":32,"name":"verify_result","modifiers":4,"location":[272,4,283,5],"description":"Returns whether or not the result is successful","scope":"Phone\\Relay\\OnVerify","type":"bool","children":[{"kind":128,"name":"$result","location":[272,35,272,42],"scope":"verify_result","type":"string"}]},{"kind":32,"name":"get_phone_template","modifiers":4,"location":[290,4,300,5],"description":"Gets the phone template to use","scope":"Phone\\Relay\\OnVerify","type":"int"}]}]}}