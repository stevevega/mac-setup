{"uri":"file:///Users/vega/Code/huli/manager-web/src/library/HH/OAuth2/Server.php","root":{"kind":0,"name":"","children":[{"kind":512,"name":"HH\\OAuth2","location":[11,0,11,20]},{"kind":1,"name":"ISession","modifiers":4096,"location":[13,5,13,33],"associated":[{"kind":1,"name":"Huli\\Authentication\\ISession"}]},{"kind":1,"name":"Database","modifiers":4096,"location":[14,5,14,18],"associated":[{"kind":1,"name":"Kima\\Database"}]},{"kind":1,"name":"App","modifiers":4096,"location":[15,5,15,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"OAuth2","modifiers":4096,"location":[16,5,16,11],"associated":[{"kind":1,"name":"OAuth2"}]},{"kind":1,"name":"OAuth2Autoloader","modifiers":4096,"location":[17,5,17,42],"associated":[{"kind":1,"name":"OAuth2\\Autoloader"}]},{"kind":1,"name":"AuthorizationCode","modifiers":4096,"location":[18,5,18,39],"associated":[{"kind":1,"name":"OAuth2\\GrantType\\AuthorizationCode"}]},{"kind":1,"name":"ClientCredentials","modifiers":4096,"location":[19,5,19,39],"associated":[{"kind":1,"name":"OAuth2\\GrantType\\ClientCredentials"}]},{"kind":1,"name":"OAuth2Response","modifiers":4096,"location":[20,5,20,38],"associated":[{"kind":1,"name":"OAuth2\\Response"}]},{"kind":1,"name":"OAuth2Server","modifiers":4096,"location":[21,5,21,34],"associated":[{"kind":1,"name":"OAuth2\\Server"}]},{"kind":1,"name":"HH\\OAuth2\\Server","location":[25,0,183,1],"description":"_\n_             _ _| |_\n| |           | |_   _|\n| |___  _   _ | | |_|\n| '_  \\| | | || | | |\n| | | || |_| || | | |\n|_| |_|\\___,_||_| |_|\n\n(c) Huli Inc","children":[{"kind":16,"name":"$instance","modifiers":36,"location":[28,19,28,28],"scope":"HH\\OAuth2\\Server"},{"kind":16,"name":"$server","modifiers":4,"location":[31,12,31,19],"scope":"HH\\OAuth2\\Server"},{"kind":16,"name":"$storage","modifiers":4,"location":[34,12,34,20],"scope":"HH\\OAuth2\\Server"},{"kind":32,"name":"__construct","modifiers":2,"location":[39,4,59,5],"description":"Sets up the storage and registers the allowed OAuth2 strategies","scope":"HH\\OAuth2\\Server"},{"kind":32,"name":"handle_token_request","modifiers":1,"location":[69,4,72,5],"description":"Helper for oauth2 token request\nValidates incoming request and provides an appropiate response, following OAuth2 standard","scope":"HH\\OAuth2\\Server","type":"OAuth2\\Response","children":[{"kind":128,"name":"$oauth2_request","location":[69,41,69,56],"description":"incoming token request\n","scope":"handle_token_request","type":"Oauth2\\Request"}]},{"kind":32,"name":"handle_authorize_request","modifiers":1,"location":[82,4,102,5],"description":"Helper for authorize oauth2 endpoint\nValidates incoming request and provides an appropiate response, following OAuth2 standard","scope":"HH\\OAuth2\\Server","type":"OAuth2\\Response","children":[{"kind":128,"name":"$session","location":[82,45,82,62],"scope":"handle_authorize_request","typeSource":1,"type":"Huli\\Authentication\\ISession"},{"kind":128,"name":"$oauth2_request","location":[82,64,82,79],"description":"incoming token request\n","scope":"handle_authorize_request","type":"Oauth2\\Request"}]},{"kind":32,"name":"is_valid_resource_request","modifiers":1,"location":[112,4,119,5],"description":"Validates resource request, i.e. validates if incoming request contains an appropiate\nbearer token to provide the requested resource","scope":"HH\\OAuth2\\Server","type":"bool","children":[{"kind":128,"name":"$oauth2_request","location":[112,46,112,61],"description":"incoming resource request\n","scope":"is_valid_resource_request","type":"Oauth2\\Request"}]},{"kind":32,"name":"handle_resource_request","modifiers":1,"location":[129,4,144,5],"description":"After validating a bearer token, obtains a user id from the provided token and\nuses it to provide usr profile information","scope":"HH\\OAuth2\\Server","type":"HH\\OAuth2\\Profile","children":[{"kind":128,"name":"$oauth2_request","location":[129,44,129,59],"description":"incoming resource request, with a bearer token\n","scope":"handle_resource_request","type":"Oauth2\\Request"}]},{"kind":32,"name":"get_response","modifiers":1,"location":[151,4,154,5],"description":"Obtains $this->server's response","scope":"HH\\OAuth2\\Server","type":"OAuth2\\Response"},{"kind":32,"name":"get_instance","modifiers":33,"location":[161,4,168,5],"description":"Returns a singleton instance","scope":"HH\\OAuth2\\Server","type":"[HH\\OAuth2\\Server]"},{"kind":32,"name":"check_user_authorization","modifiers":4,"location":[179,4,182,5],"description":"Checks if a client has authorization to access an user's profile info\nFor now, it always return true, since the only registered client is Viator\nand it is trusted to access information from all the users","scope":"HH\\OAuth2\\Server","type":"bool","children":[{"kind":128,"name":"$oauth2_request","location":[179,46,179,61],"description":"incoming authorization request\n","scope":"check_user_authorization","type":"Oauth2\\Request"}]}]}]}}