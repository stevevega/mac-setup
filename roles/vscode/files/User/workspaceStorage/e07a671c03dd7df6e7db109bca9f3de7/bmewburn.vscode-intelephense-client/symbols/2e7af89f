{"uri":"file:///Users/vega/Code/huli/manager-web/src/scripts/ExternalImporter/catolica_services.php","root":{"kind":0,"name":"","children":[{"kind":1,"name":"Type","modifiers":4096,"location":[2,5,2,26],"associated":[{"kind":1,"name":"Box\\Spout\\Common\\Type"}]},{"kind":1,"name":"ReaderFactory","modifiers":4096,"location":[3,5,3,35],"associated":[{"kind":1,"name":"Box\\Spout\\Reader\\ReaderFactory"}]},{"kind":1,"name":"Session","modifiers":4096,"location":[4,5,4,24],"associated":[{"kind":1,"name":"HH\\Catolica\\Session"}]},{"kind":1,"name":"CatolicaPatientFileSave","modifiers":4096,"location":[5,5,5,76],"associated":[{"kind":1,"name":"HH\\Request\\Handler\\Catolica\\PatientFile\\Save"}]},{"kind":1,"name":"EventDoctorSave","modifiers":4096,"location":[6,5,6,69],"associated":[{"kind":1,"name":"HH\\Request\\Handler\\Event\\Calendar\\Doctor\\Save"}]},{"kind":1,"name":"ObjectRequest","modifiers":4096,"location":[7,5,7,44],"associated":[{"kind":1,"name":"HH\\Request\\Type\\Object"}]},{"kind":1,"name":"CitizenRegisterCore","modifiers":4096,"location":[8,5,8,56],"associated":[{"kind":1,"name":"HH\\Search\\Cores\\CitizenRegister\\CitizenRegisterCore"}]},{"kind":1,"name":"Date","modifiers":4096,"location":[9,5,9,17],"associated":[{"kind":1,"name":"HH\\Util\\Date"}]},{"kind":1,"name":"TConsoleInOut","modifiers":4096,"location":[10,5,10,33],"associated":[{"kind":1,"name":"HH\\Util\\Script\\TConsoleInOut"}]},{"kind":1,"name":"MergeAccess","modifiers":4096,"location":[11,5,11,51],"associated":[{"kind":1,"name":"Huli\\Authorization\\Access\\Merge"}]},{"kind":1,"name":"Transaction","modifiers":4096,"location":[12,5,12,30],"associated":[{"kind":1,"name":"Huli\\Database\\Transaction"}]},{"kind":1,"name":"TaskQueue","modifiers":4096,"location":[13,5,13,40],"associated":[{"kind":1,"name":"Huli\\Http\\Request\\Handler\\TaskQueue"}]},{"kind":1,"name":"App","modifiers":4096,"location":[14,5,14,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"CatolicaPatientModel","modifiers":4096,"location":[15,5,15,51],"associated":[{"kind":1,"name":"Model\\Catolica\\Patient"}]},{"kind":1,"name":"CatolicaPatientPhoneModel","modifiers":4096,"location":[16,5,16,61],"associated":[{"kind":1,"name":"Model\\Catolica\\PatientPhone"}]},{"kind":1,"name":"CatolicaServiceAppointmentModel","modifiers":4096,"location":[17,5,17,74],"associated":[{"kind":1,"name":"Model\\Catolica\\Service\\Appointment"}]},{"kind":1,"name":"CatolicaServiceDoctorModel","modifiers":4096,"location":[18,5,18,64],"associated":[{"kind":1,"name":"Model\\Catolica\\Service\\Doctor"}]},{"kind":1,"name":"CitizenRegisterModel","modifiers":4096,"location":[19,5,19,51],"associated":[{"kind":1,"name":"Model\\Citizen\\Register"}]},{"kind":1,"name":"DoctorModel","modifiers":4096,"location":[20,5,20,32],"associated":[{"kind":1,"name":"Model\\Doctor"}]},{"kind":1,"name":"PatientFileModel","modifiers":4096,"location":[21,5,21,43],"associated":[{"kind":1,"name":"Model\\Patient\\File"}]},{"kind":1,"name":"Migrate","location":[33,0,580,1],"associated":[{"kind":4,"name":"HH\\Util\\Script\\TConsoleInOut"}],"description":"This class allow to migrate an csv files to the database","children":[{"kind":1024,"name":"APPOINTMENTS_FILE","modifiers":1,"location":[41,10,41,60],"scope":"Migrate","value":"'citas_servicios_catolica.csv'"},{"kind":1024,"name":"DOCTORS_FILE","modifiers":1,"location":[42,10,42,58],"scope":"Migrate","value":"'doctores_servicios_catolica.csv'"},{"kind":1024,"name":"CATOLICA_FILES","modifiers":1,"location":[44,10,47,5],"scope":"Migrate","value":"[\n        self::DOCTORS_FILE,\n        self::APPOINTMENTS_FILE,\n    ]"},{"kind":1024,"name":"PROVINCES","modifiers":1,"location":[49,10,57,5],"scope":"Migrate","value":"[\n        'ALAJUELA' => 727,\n        'CARTAGO' => 728,\n        'GUANACASTE' => 729,\n        'HEREDIA' => 730,\n        'LIMON' => 731,\n        'PUNTARENAS' => 732,\n        'SAN JOSE' => 733\n    ]"},{"kind":32,"name":"__construct","modifiers":1,"location":[62,4,92,5],"description":"Class constructor","scope":"Migrate"},{"kind":32,"name":"start","modifiers":4,"location":[94,4,118,5],"scope":"Migrate"},{"kind":32,"name":"process_file","modifiers":4,"location":[126,4,149,5],"description":"Process the files that will be inserted to the database","scope":"Migrate","children":[{"kind":128,"name":"$directory_path","location":[126,34,126,49],"scope":"process_file","type":"string"},{"kind":128,"name":"$file","location":[126,51,126,56],"scope":"process_file","type":"string"}]},{"kind":32,"name":"process_doctors","modifiers":4,"location":[157,4,167,5],"description":"Process doctors ignoring the column headers if required","scope":"Migrate","children":[{"kind":128,"name":"$opened_file","location":[157,37,157,49],"scope":"process_doctors","type":"string"},{"kind":128,"name":"$ignore_column_headers","location":[157,51,157,80],"scope":"process_doctors","value":"true","type":"bool"}]},{"kind":32,"name":"process_appointments","modifiers":4,"location":[175,4,187,5],"description":"Process appointments ignoring the column headers if required","scope":"Migrate","children":[{"kind":128,"name":"$opened_file","location":[175,42,175,54],"scope":"process_appointments","type":"string"},{"kind":128,"name":"$ignore_column_headers","location":[175,56,175,85],"scope":"process_appointments","value":"true","type":"bool"}]},{"kind":32,"name":"format_name","modifiers":4,"location":[195,4,257,5],"description":"Format the name of the patient","scope":"Migrate","children":[{"kind":128,"name":"$name","location":[195,33,195,38],"scope":"format_name","type":"string"},{"kind":128,"name":"$patient","location":[195,40,195,58],"scope":"format_name","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"extract_name_notes","modifiers":4,"location":[266,4,277,5],"description":"Given a patient name it extracts the name notes\ni.e ALVARADO BRENES DANIEL **CONFIRMADO**","scope":"Migrate","children":[{"kind":128,"name":"$name","location":[266,40,266,45],"scope":"extract_name_notes","type":"string"},{"kind":128,"name":"$patient","location":[266,47,266,65],"scope":"extract_name_notes","typeSource":1,"type":"stdClass"}]},{"kind":32,"name":"process_doctor_data","modifiers":4,"location":[284,4,294,5],"description":"Process doctor data and save it","scope":"Migrate","children":[{"kind":128,"name":"$doctor_data","location":[284,41,284,53],"scope":"process_doctor_data","type":"array"}]},{"kind":32,"name":"process_appointment_data","modifiers":4,"location":[301,4,346,5],"description":"Process appointment data, formatting each of the fields if required","scope":"Migrate","children":[{"kind":128,"name":"$appointment_data","location":[301,46,301,63],"scope":"process_appointment_data","type":"array"}]},{"kind":32,"name":"save_processed_data_into_database","modifiers":4,"location":[351,4,394,5],"description":"Start the process of migrating the data from the temporary tables to the huli database","scope":"Migrate"},{"kind":32,"name":"get_catolica_patient","modifiers":4,"location":[396,4,418,5],"scope":"Migrate","children":[{"kind":128,"name":"$session","location":[396,42,396,50],"scope":"get_catolica_patient"},{"kind":128,"name":"$catolica_doctor","location":[396,52,396,68],"scope":"get_catolica_patient"},{"kind":128,"name":"$document_name","location":[396,70,396,84],"scope":"get_catolica_patient"},{"kind":128,"name":"$id_catolica_patient","location":[396,86,396,113],"scope":"get_catolica_patient","value":"null"}]},{"kind":32,"name":"get_id_patient_file","modifiers":4,"location":[420,4,495,5],"scope":"Migrate","children":[{"kind":128,"name":"$session","location":[420,41,420,49],"scope":"get_id_patient_file"},{"kind":128,"name":"$patient_data","location":[420,51,420,64],"scope":"get_id_patient_file"},{"kind":128,"name":"$doctor_data","location":[420,66,420,78],"scope":"get_id_patient_file"},{"kind":128,"name":"$unreferenced_patient_name","location":[420,80,420,113],"scope":"get_id_patient_file","value":"null"}]},{"kind":32,"name":"create_patient_file_object","modifiers":4,"location":[497,4,538,5],"scope":"Migrate","children":[{"kind":128,"name":"$patient_data","location":[497,48,497,61],"scope":"create_patient_file_object"},{"kind":128,"name":"$doctor_data","location":[497,63,497,75],"scope":"create_patient_file_object"}]},{"kind":32,"name":"create_appointment_object","modifiers":4,"location":[540,4,579,5],"scope":"Migrate","children":[{"kind":128,"name":"$catolica_doctor","location":[540,47,540,63],"scope":"create_appointment_object"},{"kind":128,"name":"$catolica_patient","location":[540,65,540,82],"scope":"create_appointment_object"},{"kind":128,"name":"$appointment_data","location":[540,84,540,101],"scope":"create_appointment_object"}]}]},{"kind":256,"name":"$migrator","location":[582,0,582,9]}]}}