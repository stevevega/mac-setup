{"uri":"file:///Users/vega/Code/huli/manager-web/src/scripts/CitizenRegister/people-importer.php","root":{"kind":0,"name":"","children":[{"kind":1,"name":"Loader","modifiers":4096,"location":[2,5,2,31],"associated":[{"kind":1,"name":"HH\\Citizen\\Register\\Loader"}]},{"kind":1,"name":"Path","modifiers":4096,"location":[3,5,3,17],"associated":[{"kind":1,"name":"HH\\Util\\Path"}]},{"kind":1,"name":"TConsoleInOut","modifiers":4096,"location":[4,5,4,33],"associated":[{"kind":1,"name":"HH\\Util\\Script\\TConsoleInOut"}]},{"kind":1,"name":"App","modifiers":4096,"location":[5,5,5,19],"associated":[{"kind":1,"name":"Kima\\Prime\\App"}]},{"kind":1,"name":"RegisterUpdate","modifiers":4096,"location":[6,5,6,33],"associated":[{"kind":1,"name":"Model\\Citizen\\RegisterUpdate"}]},{"kind":1,"name":"importer","location":[19,0,251,1],"associated":[{"kind":4,"name":"HH\\Util\\Script\\TConsoleInOut"}],"description":"Country people importer class","children":[{"kind":1024,"name":"BASE_DOMAIN","modifiers":1,"location":[26,10,26,47],"scope":"importer","value":"'http://www.tse.go.cr/'"},{"kind":1024,"name":"WEB_PAGE_DIRECTION","modifiers":1,"location":[27,10,27,57],"scope":"importer","value":"'descarga_movimientos.htm'"},{"kind":1024,"name":"BORNS","modifiers":1,"location":[28,10,28,25],"scope":"importer","value":"'borns'"},{"kind":1024,"name":"DEATHS","modifiers":1,"location":[29,10,29,27],"scope":"importer","value":"'deaths'"},{"kind":1024,"name":"ID_COUNTRY","modifiers":1,"location":[30,10,30,26],"scope":"importer","value":"188"},{"kind":1024,"name":"ZIP_NAME_FORMAT","modifiers":1,"location":[31,10,31,38],"scope":"importer","value":"'%s%s.zip'"},{"kind":1024,"name":"DIRECTORY","modifiers":1,"location":[32,10,32,46],"scope":"importer","value":"'/tmp/citizen_register/'"},{"kind":1024,"name":"UNZIP_FILE_NAME_BORNS","modifiers":1,"location":[33,10,33,50],"scope":"importer","value":"'/MOVWEBNAC.txt'"},{"kind":1024,"name":"UNZIP_FILE_NAME_DEFUNSIONES","modifiers":1,"location":[34,10,34,56],"scope":"importer","value":"'/MOVWEBDEF.txt'"},{"kind":1024,"name":"ALLOWED_TIME_OUT","modifiers":1,"location":[35,10,35,33],"scope":"importer","value":"1200"},{"kind":1024,"name":"DELTA_IMPORT_COMMAND_FORMAT","modifiers":1,"location":[36,10,36,108],"scope":"importer","value":"'http://%s:%s/solr/citizen_register/dataimport?command=delta-import'"},{"kind":1024,"name":"ERROR_ZIP_FILE","modifiers":1,"location":[41,10,41,52],"scope":"importer","value":"'Zip file %s no created.'"},{"kind":1024,"name":"ERROR_ZIP_FILE_OPEN","modifiers":1,"location":[42,10,42,56],"scope":"importer","value":"'Zip file %s no opened.'"},{"kind":32,"name":"__construct","modifiers":1,"location":[44,4,65,5],"description":"Errors","scope":"importer"},{"kind":32,"name":"start","modifiers":1,"location":[70,4,75,5],"description":"Start the citizen register update process","scope":"importer"},{"kind":32,"name":"process_content","modifiers":4,"location":[80,4,111,5],"description":"Process the content html from the registro civil","scope":"importer"},{"kind":32,"name":"review_updates","modifiers":4,"location":[120,4,158,5],"description":"Review the file names to know if there is any update","scope":"importer","children":[{"kind":128,"name":"$content","location":[120,36,120,44],"description":"regex content","scope":"review_updates","type":"array"},{"kind":128,"name":"$type","location":[120,46,120,51],"scope":"review_updates","type":"string"},{"kind":128,"name":"$force","location":[120,53,120,59],"scope":"review_updates","type":"string"}]},{"kind":32,"name":"get_content","modifiers":4,"location":[169,4,207,5],"description":"Get the zip content and unzip the content into a valid location","scope":"importer","children":[{"kind":128,"name":"$match_name","location":[169,33,169,44],"scope":"get_content","type":"string"},{"kind":128,"name":"$direction","location":[169,46,169,56],"scope":"get_content","type":"string"},{"kind":128,"name":"$type","location":[169,58,169,63],"description":"born | deaths","scope":"get_content","type":"string"},{"kind":128,"name":"$file_system_directory","location":[169,65,169,87],"scope":"get_content","type":"mixed"}]},{"kind":32,"name":"load_content","modifiers":4,"location":[215,4,230,5],"description":"Load the content of the unzip file into the databse","scope":"importer","children":[{"kind":128,"name":"$path","location":[215,34,215,39],"scope":"load_content","type":"string"},{"kind":128,"name":"$type","location":[215,41,215,46],"scope":"load_content","type":"string"}]},{"kind":32,"name":"trigger_citizen_register_delta_import","modifiers":4,"location":[235,4,250,5],"description":"Trigger the delta importer on the citizen register core","scope":"importer"}]},{"kind":256,"name":"$importer","location":[253,0,253,9]}]}}